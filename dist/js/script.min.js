"use strict";function geodGBL(){var e;"undefined"==(e=void 0===EARTH_A?"undefined":_typeof(EARTH_A))&&wgs84()}function earthcon(e,t){var a,r,n,s,i;s=Number(e),i=Number(t),a=1-i/s,n=1-i*i/(s*s),r=Math.sqrt(n),EARTH_A=s,EARTH_B=i,EARTH_F=a,EARTH_Ecc=r,EARTH_Esq=n}function wgs84(){var e,t,a;e=6378.137,a=1/298.257223563,t=e*(1-a),earthcon(e,t)}function radcur(e){var t,a,r,n,s,i,o,l,u,c,h,d,m,p,v,f,b=new Array(3),y=Math.PI/180;return geodGBL(),t=EARTH_A,a=EARTH_B,n=t*t,s=a*a,i=1-s/n,Math.sqrt(i),r=Number(e),o=Math.cos(y*r),l=Math.sin(y*r),u=1-i*l*l,c=Math.sqrt(u),h=t/c,d=h*(1-i)/u,m=h*o,f=(1-i)*h*l,p=m*m+f*f,v=Math.sqrt(p),b[0]=v,b[1]=h,b[2]=d,b}function rearth(e){var t,a;return a=Number(e),t=radcur(a),t[0]}function gc2gd(e,t){var a,r,n,s,i,o,l,u,c,h=Math.PI/180,d=1/h,m=new Array(3);return geodGBL(),r=Number(e),n=Number(t),i=EARTH_Ecc,o=i*i,u=n,m=radcur(r),s=m[1],c=1-o*s/(s+u),l=Math.tan(h*r)/c,a=d*Math.atan(l),m=radcur(a),s=m[1],c=1-o*s/(s+u),l=Math.tan(h*r)/c,a=d*Math.atan(l)}function gd2gc(e,t){var a,r,n,s,i,o,l,u,c=Math.PI/180,h=1/c,d=new Array(3);return geodGBL(),a=Number(e),r=Number(t),s=EARTH_Ecc,i=s*s,l=r,d=radcur(a),n=d[1],u=1-i*n/(n+l),o=Math.tan(c*a)*u,h*Math.atan(o)}function llenu(e,t){var a,r,n,s,i,o,l,u=new Array(3),c=new Array(3),h=new Array(3),d=new Array(3),n=Math.PI/180;return a=Number(e),r=Number(t),s=Math.cos(n*a),i=Math.sin(n*a),o=Math.cos(n*r),l=Math.sin(n*r),u[0]=-l,u[1]=o,u[2]=0,c[0]=-o*i,c[1]=-l*i,c[2]=s,h[0]=o*s,h[1]=l*s,h[2]=i,d[0]=u,d[1]=c,d[2]=h,d}function xyzllh(e){var t,a,r,n,s,i,o,l,u,c,h,d,m,p,v,f,b,y,g,_=Math.PI/180,w=new Array(3),A=new Array(3);if(geodGBL(),p=EARTH_Esq,i=e[0],o=e[1],l=e[2],i=Number(i),o=Number(o),l=Number(l),s=Math.sqrt(i*i+o*o+l*l),t=Math.asin(l/s)/_,h=Math.abs(i)+Math.abs(o),y=h<1e-10?0:Math.atan2(o,i)/_,y<0&&(y+=360),(u=Math.sqrt(i*i+o*o))<1e-10)return b=90,l<0&&(b=-90),g=s-rearth(b),A[0]=b,A[1]=y,A[2]=g,A;n=rearth(t),g=s-n,b=gc2gd(t,g),w=radcur(b),m=w[1];for(var d=0;d<5&&(f=Math.sin(_*b),c=(l+m*p*f)/u,a=Math.atan(c)/_,r=a-b,b=a,v=Math.cos(_*b),w=radcur(b),m=w[1],g=u/v-m,!(Math.abs(r)<1e-12));d++);return A[0]=b,A[1]=y,A[2]=g,A}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function filter_date(e){for(var t=0;t<satellites.length;t++){var a=new Date(satellites[t].date),a=a.getFullYear();e[0]>a||e[1]<a?satellites[t].object.show=!1:satellites[t].object.show=!0}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EARTH_A,EARTH_B,EARTH_F,EARTH_Ecc,EARTH_Esq,_createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),viewer=new Cesium.Viewer("cesiumContainer",{fullscreenButton:!1,baseLayerPicker:!1,timeline:!1,homeButton:!1,infoBoxe:!1,navigationHelpButton:!1,selectionIndicator:!1,vrButton:!1,geocoder:!1,sceneModePicker:!1,animation:!1,skyAtmosphere:!1});document.querySelector(".cesium-viewer-bottom").style.display="none";var cross=document.querySelector("#cross"),menu=document.querySelector(".left_menu"),cross_div=document.querySelector(".exit");cross.addEventListener("click",function(){"true"==this.getAttribute("data-open")?(this.setAttribute("data-open",!1),menu.classList.remove("active"),cross_div.classList.remove("active")):(this.setAttribute("data-open",!0),menu.classList.add("active"),cross_div.classList.add("active"))});for(var sat=function(){function e(t,a,r,n,s){_classCallCheck(this,e);this.name=t,this.date=r,this.id=a,this.true_pos=s,this.pos=xyzllh(s),this.infos=n,this.object=new Cesium.Entity({id:this.id,name:this.name,position:new Cesium.Cartesian3.fromDegrees(this.pos[0],this.pos[1],1e3*this.pos[2]),ellipsoid:{radii:new Cesium.Cartesian3(7e4,7e4,7e4),material:Cesium.Color.GREEN},label:{text:this.name,font:"10pt arial",style:Cesium.LabelStyle.FILL_AND_OUTLINE,outlineWidth:2,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:new Cesium.Cartesian2(0,-25)}}),this.popup=document.createElement("div"),this.popup.className="test",this.create()}return _createClass(e,[{key:"create",value:function(){viewer.entities.add(this.object)}}]),e}(),satellites=[],i=0;i<sats.length;i++)satellites.push(new sat(sats[i].name,sats[i].id,sats[i].date,sats[i].infos,sats[i].pos));console.log(satellites);var last_popup,handler=new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas);handler.setInputAction(function(e){for(var t=viewer.scene.pick(e.position),a=0;a<satellites.length;a++)Cesium.defined(t)&&t.id==satellites[a].object&&(void 0!=last_popup&&document.querySelector("body").removeChild(last_popup),document.querySelector("body").appendChild(satellites[a].popup),last_popup=satellites[a].popup)},Cesium.ScreenSpaceEventType.LEFT_CLICK);var parent=document.querySelector(".range-slider"),rangeS=parent.querySelectorAll("input[type=range]"),numberS=parent.querySelectorAll("input[type=number]");rangeS.forEach(function(e){e.oninput=function(){var e=parseFloat(rangeS[0].value),t=parseFloat(rangeS[1].value);if(e>t){var a=[t,e];e=a[0],t=a[1]}numberS[0].value=e,numberS[1].value=t,filter_date([numberS[0].value,numberS[1].value])}}),numberS.forEach(function(e){e.onblur=function(){var e=parseFloat(numberS[0].value),t=parseFloat(numberS[1].value);if(e>t){var a=e;numberS[0].value=t,numberS[1].value=a}rangeS[0].value=e,rangeS[1].value=t,filter_date([rangeS[0].value,rangeS[1].value])},e.onkeyup=function(){13==event.keyCode&&e.blur()}});var select_org=document.querySelector("select");select_org.onchange=function(){for(var e=0;e<satellites.length;e++)"Organisation"==this.value?satellites[e].object.show=!0:"Others"==this.value?"Pas de donnÃ©es"!=satellites[e].infos?satellites[e].object.show=!1:satellites[e].object.show=!0:satellites[e].infos.country==this.value?satellites[e].object.show=!0:satellites[e].object.show=!1};var search=document.querySelector("#name");search.onchange=function(){for(var e=this.value.toLowerCase(),t=0;t<satellites.length;t++)satellites[t].name.toLowerCase().includes(e)?satellites[t].object.show=!0:satellites[t].object.show=!1};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnZlcnRlci5qcyIsInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJnZW9kR0JMIiwidHN0Z2xvYmFsIiwiRUFSVEhfQSIsIl90eXBlb2YiLCJ3Z3M4NCIsImVhcnRoY29uIiwiYWkiLCJiaSIsImYiLCJlY2MiLCJlY2NzcSIsImEiLCJiIiwiTnVtYmVyIiwiTWF0aCIsInNxcnQiLCJFQVJUSF9CIiwiRUFSVEhfRiIsIkVBUlRIX0VjYyIsIkVBUlRIX0VzcSIsIndnczg0YSIsIndnczg0YiIsIndnczg0ZiIsInJhZGN1ciIsImxhdGkiLCJsYXQiLCJhc3EiLCJic3EiLCJjbGF0Iiwic2xhdCIsImRzcSIsImQiLCJybiIsInJtIiwicmhvIiwicnNxIiwiciIsInoiLCJycm5ybSIsIkFycmF5IiwiZHRyIiwiUEkiLCJjb3MiLCJzaW4iLCJyZWFydGgiLCJnYzJnZCIsImZsYXRnY2kiLCJhbHRrbWkiLCJmbGF0Z2QiLCJmbGF0Z2MiLCJhbHRrbSIsImVzcSIsInRsYXQiLCJhbHRub3ciLCJyYXRpbyIsInJ0ZCIsInRhbiIsImF0YW4iLCJnZDJnYyIsImZsYXRnZGkiLCJsbGVudSIsImZsYXRpIiwiZmxvbmkiLCJmbGF0IiwiZmxvbiIsImNsb24iLCJzbG9uIiwiZWUiLCJlbiIsImV1IiwiZW51IiwieHl6bGxoIiwieHZlYyIsImZsYXRuIiwiZGxhdCIsInJub3ciLCJycCIsIngiLCJ5IiwicCIsInRhbmdkIiwidGVzdHZhbCIsImtvdW50IiwibGxodmVjIiwiYXNpbiIsImFicyIsImF0YW4yIiwiZmlsdGVyX2RhdGUiLCJkYXRlcyIsImkiLCJzYXRlbGxpdGVzIiwibGVuZ3RoIiwic2F0X2RhdGUiLCJEYXRlIiwiZGF0ZSIsImdldEZ1bGxZZWFyIiwib2JqZWN0Iiwic2hvdyIsInZpZXdlciIsIkNlc2l1bSIsIlZpZXdlciIsImZ1bGxzY3JlZW5CdXR0b24iLCJiYXNlTGF5ZXJQaWNrZXIiLCJ0aW1lbGluZSIsImhvbWVCdXR0b24iLCJpbmZvQm94ZSIsIm5hdmlnYXRpb25IZWxwQnV0dG9uIiwic2VsZWN0aW9uSW5kaWNhdG9yIiwidnJCdXR0b24iLCJnZW9jb2RlciIsInNjZW5lTW9kZVBpY2tlciIsImFuaW1hdGlvbiIsInNreUF0bW9zcGhlcmUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzdHlsZSIsImRpc3BsYXkiLCJjcm9zcyIsIm1lbnUiLCJjcm9zc19kaXYiLCJhZGRFdmVudExpc3RlbmVyIiwidGhpcyIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsInNhdCIsIm5hbWUiLCJpZCIsImluZm9zIiwicG9zIiwiX2NsYXNzQ2FsbENoZWNrIiwidHJ1ZV9wb3MiLCJFbnRpdHkiLCJwb3NpdGlvbiIsIkNhcnRlc2lhbjMiLCJmcm9tRGVncmVlcyIsImVsbGlwc29pZCIsInJhZGlpIiwibWF0ZXJpYWwiLCJDb2xvciIsIkdSRUVOIiwibGFiZWwiLCJ0ZXh0IiwiZm9udCIsIkxhYmVsU3R5bGUiLCJGSUxMX0FORF9PVVRMSU5FIiwib3V0bGluZVdpZHRoIiwidmVydGljYWxPcmlnaW4iLCJWZXJ0aWNhbE9yaWdpbiIsIkJPVFRPTSIsInBpeGVsT2Zmc2V0IiwiQ2FydGVzaWFuMiIsInBvcHVwIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImNyZWF0ZSIsImVudGl0aWVzIiwic2F0cyIsInB1c2giLCJjb25zb2xlIiwibG9nIiwibGFzdF9wb3B1cCIsImhhbmRsZXIiLCJTY3JlZW5TcGFjZUV2ZW50SGFuZGxlciIsInNjZW5lIiwiY2FudmFzIiwic2V0SW5wdXRBY3Rpb24iLCJjbGljayIsInBpY2tlZE9iamVjdCIsInBpY2siLCJkZWZpbmVkIiwidW5kZWZpbmVkIiwicmVtb3ZlQ2hpbGQiLCJhcHBlbmRDaGlsZCIsIlNjcmVlblNwYWNlRXZlbnRUeXBlIiwiTEVGVF9DTElDSyIsInBhcmVudCIsInJhbmdlUyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJudW1iZXJTIiwiZm9yRWFjaCIsImVsIiwib25pbnB1dCIsInNsaWRlMSIsInBhcnNlRmxvYXQiLCJ2YWx1ZSIsInNsaWRlMiIsIl9yZWYiLCJvbmJsdXIiLCJudW1iZXIxIiwibnVtYmVyMiIsInRtcCIsIm9ua2V5dXAiLCJldmVudCIsImtleUNvZGUiLCJibHVyIiwic2VsZWN0X29yZyIsIm9uY2hhbmdlIiwiY291bnRyeSIsInNlYXJjaCIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiXSwibWFwcGluZ3MiOiJZQWtCQSxTQUFTQSxXQUtQLEdBQUlDLEVBR2EsZUFEakJBLEVBQUEsU0FBbUJDLFFBQW5CLFlBQUFDLFFBQW1CRCxXQUNXRSxRQU1oQyxRQUFTQyxVQUFTQyxFQUFJQyxHQVNwQixHQUFJQyxHQUFHQyxFQUFLQyxFQUFPQyxFQUFHQyxDQUV0QkQsR0FBSUUsT0FBT1AsR0FDWE0sRUFBSUMsT0FBT04sR0FFWEMsRUFBSSxFQUFJSSxFQUFJRCxFQUNaRCxFQUFRLEVBQUlFLEVBQUlBLEdBQUtELEVBQUlBLEdBQ3pCRixFQUFNSyxLQUFLQyxLQUFLTCxHQUVoQlIsUUFBVVMsRUFDVkssUUFBVUosRUFDVkssUUFBVVQsRUFDVlUsVUFBWVQsRUFDWlUsVUFBWVQsRUFNZCxRQUFTTixTQVVQLEdBQUlnQixHQUFRQyxFQUFRQyxDQUVwQkYsR0FBUyxTQUNURSxFQUFTLEVBQU0sY0FDZkQsRUFBU0QsR0FBVSxFQUFNRSxHQUV6QmpCLFNBQVNlLEVBQVFDLEdBT25CLFFBQVNFLFFBQU9DLEdBZWQsR0FJSWIsR0FBR0MsRUFBR2EsRUFDTkMsRUFBS0MsRUFBS2pCLEVBQVlrQixFQUFNQyxFQUM1QkMsRUFBS0MsRUFBR0MsRUFBSUMsRUFBSUMsRUFBS0MsRUFBS0MsRUFBR0MsRUFON0JDLEVBQVEsR0FBSUMsT0FBTSxHQUVsQkMsRUFBTTFCLEtBQUsyQixHQUFLLEdBc0NwQixPQTlCQXpDLFdBRUFXLEVBQUlULFFBQ0pVLEVBQUlJLFFBRUpVLEVBQU1mLEVBQUlBLEVBQ1ZnQixFQUFNZixFQUFJQSxFQUNWRixFQUFRLEVBQUlpQixFQUFNRCxF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LEVBQ3ZCUCxXQUFXRCxHQUFHTyxPQUFPQyxNQUFPLEVBS3pDLElBQUl3RyxRQUFTeEYsU0FBU0MsY0FBYyxRQUVwQ3VGLFFBQU9GLFNBQVcsV0FFaEIsSUFBSyxHQUREdkUsR0FBT1AsS0FBS2tFLE1BQU1lLGNBQ2JqSCxFQUFJLEVBQUdBLEVBQUlDLFdBQVdDLE9BQVFGLElBQ2pDQyxXQUFXRCxHQUFHdUMsS0FBSzBFLGNBQWNDLFNBQVMzRSxHQUM1Q3RDLFdBQVdELEdBQUdPLE9BQU9DLE1BQU8sRUFDdkJQLFdBQVdELEdBQUdPLE9BQU9DLE1BQU8iLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qICAgICAgICAgICAgIGdlb2Rlc3kgcm91dGluZXMgaW4gSmF2YVNjcmlwdFxuICAgICAgICAgICAgICAgICBKYW1lcyBSLiBDbHluY2ggTlBTIC8gMjAwM1xuICAgICAgICAgICAgICAgXG4gICAgICAgICAgRG9uZSBmb3Igc3VwcG9ydCBvZiB3ZWIgZWR1Y2F0aW9uIHBhZ2VzXG5cblxuICAgICAgICAgID09IG11c3QgY29udmVydCBpbnB1dHMgdG8gbnVtYmVycyBmb3Igc2FmZXR5ID09XG4gICAgICAgICAgPT0gaWYgc3RyaW5nIGNvbWVzIGluIC0gc29tZXRpbWVzIHdvcmtzLCBzb21ldGltZXMgbm90ICE9PVxuKi9cblxudmFyIEVBUlRIX0E7XG52YXIgRUFSVEhfQjtcbnZhciBFQVJUSF9GO1xudmFyIEVBUlRIX0VjYztcbnZhciBFQVJUSF9Fc3E7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIGdlb2RHQkwoKVxuXG4vLyAgICAgICAgICAgICB0ZXN0IGFuZCBlbnN1cmUgZ2VvZGVzeSBnbG9iYWxzIGxvYWRlZFxue1xuXG4gIHZhciB0c3RnbG9iYWxcblxuICB0c3RnbG9iYWwgPSB0eXBlb2YgRUFSVEhfQTtcbiAgaWYgKHRzdGdsb2JhbCA9PSBcInVuZGVmaW5lZFwiKSB3Z3M4NCgpXG5cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24gZWFydGhjb24oYWksIGJpKVxuXG4vKiAgICAgICAgU2V0cyBFYXJ0aCBDb25zdGFudHMgYXMgZ2xvYmFsc1xuICAgICAgICAgICAgIC0tICBpbnB1dCBhLGJcbiAgICAgICAgICAgICAtLSAgTGVhdmVzIEdsb2JhbHMgXG4gICAgICAgICAgICAgICAgIEVBUlRIX0EgICAgICBFQVJUSF9CICAgRUFSVEhfRiAgRUFSVEhfRWNjXG4qL1xuXG57XG4gIHZhciBmLCBlY2MsIGVjY3NxLCBhLCBiXG5cbiAgYSA9IE51bWJlcihhaSk7XG4gIGIgPSBOdW1iZXIoYmkpO1xuXG4gIGYgPSAxIC0gYiAvIGE7XG4gIGVjY3NxID0gMSAtIGIgKiBiIC8gKGEgKiBhKTtcbiAgZWNjID0gTWF0aC5zcXJ0KGVjY3NxKTtcblxuICBFQVJUSF9BID0gYTtcbiAgRUFSVEhfQiA9IGI7XG4gIEVBUlRIX0YgPSBmO1xuICBFQVJUSF9FY2MgPSBlY2M7XG4gIEVBUlRIX0VzcSA9IGVjY3NxO1xufVxuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIHdnczg0KClcblxuLyogICAgICAgIFdHUzg0IEVhcnRoIENvbnN0YW50c1xuICAgICAgICAgICAgIC0tICByZXR1cm5zIGEsYixmLGUgIC0tXG4gICAgICAgICAgICAgLS0gIExlYXZlcyBHbG9iYWxzIFxuICAgICAgICAgICAgICAgICBFQVJUSF9BICAgICAgRUFSVEhfQiAgIEVBUlRIX0YgIEVBUlRIX0VjY1xuXG4qL1xuXG57XG4gIHZhciB3Z3M4NGEsIHdnczg0Yiwgd2dzODRmXG5cbiAgd2dzODRhID0gNjM3OC4xMzc7XG4gIHdnczg0ZiA9IDEuMCAvIDI5OC4yNTcyMjM1NjM7XG4gIHdnczg0YiA9IHdnczg0YSAqICgxLjAgLSB3Z3M4NGYpO1xuXG4gIGVhcnRoY29uKHdnczg0YSwgd2dzODRiKTtcblxufVxuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIHJhZGN1cihsYXRpKVxuXG4vKlxuICAgICAgIGNvbXB1dGUgdGhlIHJhZGlpIGF0IHRoZSBnZW9kZXRpYyBsYXRpdHVkZSBsYXQgKGluIGRlZ3JlZXMpXG4gICAgIFxuICAgICBpbnB1dDpcbiAgICAgICAgICAgICAgIGxhdCAgICAgICBnZW9kZXRpYyBsYXRpdHVkZSBpbiBkZWdyZWVzXG4gICAgIG91dHB1dDogICBcbiAgICAgICAgICAgICAgIHJybnJtICAgICBhbiBhcnJheSAzIGxvbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICByLCAgcm4sICBybSAgIGluIGttXG5cbiovXG5cbntcblxuICB2YXIgcnJucm0gPSBuZXcgQXJyYXkoMylcblxuICB2YXIgZHRyID0gTWF0aC5QSSAvIDE4MC4wXG5cbiAgdmFyIGEsIGIsIGxhdFxuICB2YXIgYXNxLCBic3EsIGVjY3NxLCBlY2MsIGNsYXQsIHNsYXRcbiAgdmFyIGRzcSwgZCwgcm4sIHJtLCByaG8sIHJzcSwgciwgelxuXG4gIC8vICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgZ2VvZEdCTCgpO1xuXG4gIGEgPSBFQVJUSF9BO1xuICBiID0gRUFSVEhfQjtcblxuICBhc3EgPSBhICogYTtcbiAgYnNxID0gYiAqIGI7XG4gIGVjY3NxID0gMSAtIGJzcSAvIGFzcTtcbiAgZWNjID0gTWF0aC5zcXJ0KGVjY3NxKTtcblxuICBsYXQgPSBOdW1iZXIobGF0aSk7XG5cbiAgY2xhdCA9IE1hdGguY29zKGR0ciAqIGxhdCk7XG4gIHNsYXQgPSBNYXRoLnNpbihkdHIgKiBsYXQpO1xuXG4gIGRzcSA9IDEuMCAtIGVjY3NxICogc2xhdCAqIHNsYXQ7XG4gIGQgPSBNYXRoLnNxcnQoZHNxKTtcblxuICBybiA9IGEgLyBkO1xuICBybSA9IHJuICogKDEuMCAtIGVjY3NxKSAvIGRzcTtcblxuICByaG8gPSBybiAqIGNsYXQ7XG4gIHogPSAoMS4wIC0gZWNjc3EpICogcm4gKiBzbGF0O1xuICByc3EgPSByaG8gKiByaG8gKyB6ICogejtcbiAgciA9IE1hdGguc3FydChyc3EpO1xuXG4gIHJybnJtWzBdID0gcjtcbiAgcnJucm1bMV0gPSBybjtcbiAgcnJucm1bMl0gPSBybTtcblxuICByZXR1cm4gKHJybnJtKTtcblxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vLyAgICAgICAgcGh5c2ljYWwgcmFkaXVzIG9mIGVhcnRoIGZyb20gZ2VvZGV0aWMgbGF0aXR1ZGVcblxuZnVuY3Rpb24gcmVhcnRoKGxhdGkpIHtcbiAgdmFyIHJybnJtLCByLCBsYXRcblxuICBsYXQgPSBOdW1iZXIobGF0aSk7XG5cbiAgcnJucm0gPSByYWRjdXIobGF0KTtcbiAgciA9IHJybnJtWzBdO1xuXG4gIHJldHVybiAocik7XG5cbn1cblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5mdW5jdGlvbiBnYzJnZChmbGF0Z2NpLCBhbHRrbWkpXG5cbi8qICAgICAgICBnZW9jZW50cmljIGxhdGl0dWRlIHRvIGdlb2RldGljIGxhdGl0dWRlXG5cbiAgICAgSW5wdXQ6XG4gICAgICAgICAgICAgICBmbGF0Z2MgICAgZ2VvY2VudHJpYyBsYXRpdHVkZSBkZWcuXG4gICAgICAgICAgICAgICBhbHRrbSAgICAgYWx0aXRpZGUgaW4ga21cbiAgICAgb3VwdXQ6XG4gICAgICAgICAgICAgICBmbGF0Z2QgICAgZ2VvZGV0aWMgbGF0aXR1ZGUgaW4gZGVnXG5cbiovXG5cbntcblxuICB2YXIgZHRyID0gTWF0aC5QSSAvIDE4MC4wO1xuICB2YXIgcnRkID0gMSAvIGR0cjtcblxuICB2YXIgZmxhdGdkLCBmbGF0Z2MsIGFsdGttXG4gIHZhciBycm5ybSA9IG5ldyBBcnJheSgzKVxuICB2YXIgcmUsIHJuLCBlY2MsIGVzcTtcbiAgdmFyIHNsYXQsIGNsYXQsIHRsYXRcbiAgdmFyIGFsdG5vdywgcmF0aW9cblxuICBnZW9kR0JMKCk7XG5cbiAgZmxhdGdjID0gTnVtYmVyKGZsYXRnY2kpO1xuICBhbHRrbSA9IE51bWJlcihhbHRrbWkpO1xuXG4gIGVjYyA9IEVBUlRIX0VjYztcbiAgZXNxID0gZWNjICogZWNjO1xuXG4gIC8vICAgICAgICAgICAgIGFwcHJveGltYXRpb24gYnkgc3RhZ2VzXG4gIC8vICAgICAgICAgICAgIDFzdCB1c2UgZ2MtbGF0IGFzIGlmIGlzIGdkLCB0aGVuIGNvcnJlY3QgYWx0IGRlcGVuZGVuY2VcblxuICBhbHRub3cgPSBhbHRrbTtcblxuICBycm5ybSA9IHJhZGN1cihmbGF0Z2MpO1xuICBybiA9IHJybnJtWzFdO1xuXG4gIHJhdGlvID0gMSAtIGVzcSAqIHJuIC8gKHJuICsgYWx0bm93KTtcblxuICB0bGF0ID0gTWF0aC50YW4oZHRyICogZmxhdGdjKSAvIHJhdGlvO1xuICBmbGF0Z2QgPSBydGQgKiBNYXRoLmF0YW4odGxhdCk7XG5cbiAgLy8gICAgICAgIG5vdyB1c2UgdGhpcyBhcHByb3hpbWF0aW9uIGZvciBnZC1sYXQgdG8gZ2V0IHJuIGV0Yy5cblxuICBycm5ybSA9IHJhZGN1cihmbGF0Z2QpO1xuICBybiA9IHJybnJtWzFdO1xuXG4gIHJhdGlvID0gMSAtIGVzcSAqIHJuIC8gKHJuICsgYWx0bm93KVxuICB0bGF0ID0gTWF0aC50YW4oZHRyICogZmxhdGdjKSAvIHJhdGlvO1xuICBmbGF0Z2QgPSBydGQgKiBNYXRoLmF0YW4odGxhdCk7XG5cbiAgcmV0dXJuIGZsYXRnZFxuXG59XG5cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuXG5mdW5jdGlvbiBnZDJnYyhmbGF0Z2RpLCBhbHRrbWkpXG5cbi8qICAgICAgICBnZW9kZXRpYyBsYXRpdHVkZSB0byBnZW9jZW50cmljIGxhdGl0dWRlXG5cbiAgICAgSW5wdXQ6XG4gICAgICAgICAgICAgICBmbGF0Z2QgICAgZ2VvZGV0aWMgbGF0aXR1ZGUgZGVnLlxuICAgICAgICAgICAgICAgYWx0a20gICAgIGFsdGl0aWRlIGluIGttXG4gICAgIG91cHV0OlxuICAgICAgICAgICAgICAgZmxhdGdjICAgIGdlb2NlbnRyaWMgbGF0aXR1ZGUgaW4gZGVnXG5cbiovXG5cbntcblxuICB2YXIgZHRyID0gTWF0aC5QSSAvIDE4MC4wO1xuICB2YXIgcnRkID0gMSAvIGR0cjtcblxuICB2YXIgZmxhdGdjLCBmbGF0Z2QsIGFsdGttXG4gIHZhciBycm5ybSA9IG5ldyBBcnJheSgzKVxuICB2YXIgcmUsIHJuLCBlY2MsIGVzcTtcbiAgdmFyIHNsYXQsIGNsYXQsIHRsYXRcbiAgdmFyIGFsdG5vdywgcmF0aW9cblxuICBnZW9kR0JMKCk7XG5cbiAgZmxhdGdkID0gTnVtYmVyKGZsYXRnZGkpO1xuICBhbHRrbSA9IE51bWJlcihhbHRrbWkpO1xuXG4gIGVjYyA9IEVBUlRIX0VjYztcbiAgZXNxID0gZWNjICogZWNjO1xuXG4gIGFsdG5vdyA9IGFsdGttO1xuXG4gIHJybnJtID0gcmFkY3VyKGZsYXRnZCk7XG4gIHJuID0gcnJucm1bMV07XG5cbiAgcmF0aW8gPSAxIC0gZXNxICogcm4gLyAocm4gKyBhbHRub3cpO1xuXG4gIHRsYXQgPSBNYXRoLnRhbihkdHIgKiBmbGF0Z2QpICogcmF0aW87XG4gIGZsYXRnYyA9IHJ0ZCAqIE1hdGguYXRhbih0bGF0KTtcblxuICByZXR1cm4gZmxhdGdjO1xuXG59XG5cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24gbGxlbnUoZmxhdGksIGZsb25pKVxuXG4vKiAgICAgICAgbGF0aXR1ZGUgbG9uZ2l0dWRlIHRvIGVhc3Qsbm9ydGgsdXAgdW5pdCB2ZWN0b3JzXG5cbiAgICAgaW5wdXQ6XG4gICAgICAgICAgICAgICBmbGF0ICAgICAgbGF0aXR1ZGUgaW4gZGVnZWVzIE5cbiAgICAgICAgICAgICAgICAgICAgICAgICBbIGdjIC0+IGdjIGVudSwgIGdkIHVzdWFsIGVudSBdXG4gICAgICAgICAgICAgICBmbG9uICAgICAgbG9uZ2l0dWRlIGluIGRlZ3JlZXMgRVxuICAgICBvdXRwdXQ6XG4gICAgICAgICAgICAgICBlbnVbM1szXV0gIHBhY2tlZCAzLXVuaXQgdmVjdG9ycyAvIGVhY2ggYSAzIHZlY3RvclxuXG4qL1xuXG57XG5cbiAgdmFyIGZsYXQsIGZsb247XG4gIHZhciBkdHIsIGNsYXQsIHNsYXQsIGNsb24sIHNsb247XG4gIHZhciBlZSA9IG5ldyBBcnJheSgzKTtcbiAgdmFyIGVuID0gbmV3IEFycmF5KDMpO1xuICB2YXIgZXUgPSBuZXcgQXJyYXkoMyk7XG5cbiAgdmFyIGVudSA9IG5ldyBBcnJheSgzKTtcblxuICB2YXIgZHRyID0gTWF0aC5QSSAvIDE4MC4wXG5cblxuICAvLyAgICAgICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIGZsYXQgPSBOdW1iZXIoZmxhdGkpO1xuICBmbG9uID0gTnVtYmVyKGZsb25pKTtcblxuICBjbGF0ID0gTWF0aC5jb3MoZHRyICogZmxhdCk7XG4gIHNsYXQgPSBNYXRoLnNpbihkdHIgKiBmbGF0KTtcbiAgY2xvbiA9IE1hdGguY29zKGR0ciAqIGZsb24pO1xuICBzbG9uID0gTWF0aC5zaW4oZHRyICogZmxvbik7XG5cbiAgZWVbMF0gPSAtc2xvbjtcbiAgZWVbMV0gPSBjbG9uO1xuICBlZVsyXSA9IDAuMDtcblxuICBlblswXSA9IC1jbG9uICogc2xhdDtcbiAgZW5bMV0gPSAtc2xvbiAqIHNsYXQ7XG4gIGVuWzJdID0gY2xhdDtcblxuICBldVswXSA9IGNsb24gKiBjbGF0O1xuICBldVsxXSA9IHNsb24gKiBjbGF0O1xuICBldVsyXSA9IHNsYXQ7XG5cbiAgZW51WzBdID0gZWU7XG4gIGVudVsxXSA9IGVuO1xuICBlbnVbMl0gPSBldTtcblxuICByZXR1cm4gZW51O1xuXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIHh5emxsaCh4dmVjKVxuXG4vKiAgICAgICAgeHl6IHZlY3RvciAgdG8gIGxhdCxsb24saGVpZ2h0XG5cbiAgICAgaW5wdXQ6XG4gICAgICAgICAgeHZlY1szXSAgIHh5eiBFQ0VGIGxvY2F0aW9uXG4gICAgIG91dHB1dDpcblxuICAgICAgICAgIGxsaHZlY1szXSB3aXRoIGNvbXBvbmVudHNcblxuICAgICAgICAgIGZsYXQgICAgICBnZW9kZXRpYyBsYXRpdHVkZSBpbiBkZWdcbiAgICAgICAgICBmbG9uICAgICAgbG9uZ2l0dWRlIGluIGRlZ1xuICAgICAgICAgIGFsdGttICAgICBhbHRpdHVkZSBpbiBrbVxuXG4qL1xuXG57XG5cbiAgdmFyIGR0ciA9IE1hdGguUEkgLyAxODAuMDtcbiAgdmFyIGZsYXRnYywgZmxhdG4sIGRsYXQ7XG4gIHZhciBybm93LCBycDtcbiAgdmFyIHgsIHksIHosIHA7XG4gIHZhciB0YW5nYywgdGFuZ2Q7XG5cbiAgdmFyIHRlc3R2YWwsIGtvdW50O1xuXG4gIHZhciBybiwgZXNxO1xuICB2YXIgY2xhdCwgc2xhdDtcbiAgdmFyIHJybnJtID0gbmV3IEFycmF5KDMpO1xuXG4gIHZhciBmbGF0LCBmbG9uLCBhbHRrbTtcbiAgdmFyIGxsaHZlYyA9IG5ldyBBcnJheSgzKTtcblxuXG4gIGdlb2RHQkwoKTtcblxuICBlc3EgPSBFQVJUSF9Fc3E7XG5cbiAgeCA9IHh2ZWNbMF07XG4gIHkgPSB4dmVjWzFdO1xuICB6ID0geHZlY1syXTtcblxuICB4ID0gTnVtYmVyKHgpO1xuICB5ID0gTnVtYmVyKHkpO1xuICB6ID0gTnVtYmVyKHopO1xuXG4gIHJwID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7XG5cbiAgZmxhdGdjID0gTWF0aC5hc2luKHogLyBycCkgLyBkdHI7XG5cbiAgdGVzdHZhbCA9IE1hdGguYWJzKHgpICsgTWF0aC5hYnMoeSk7XG4gIGlmICh0ZXN0dmFsIDwgMS4wZS0xMCkge1xuICAgIGZsb24gPSAwLjBcbiAgfSBlbHNlIHtcbiAgICBmbG9uID0gTWF0aC5hdGFuMih5LCB4KSAvIGR0clxuICB9XG4gIGlmIChmbG9uIDwgMC4wKSB7XG4gICAgZmxvbiA9IGZsb24gKyAzNjAuMFxuICB9XG5cbiAgcCA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5KTtcblxuICAvLyAgICAgICAgICAgICBvbiBwb2xlIHNwZWNpYWwgY2FzZVxuXG4gIGlmIChwIDwgMS4wZS0xMCkge1xuICAgIGZsYXQgPSA5MC4wXG4gICAgaWYgKHogPCAwLjApIHtcbiAgICAgIGZsYXQgPSAtOTAuMFxuICAgIH1cblxuICAgIGFsdGttID0gcnAgLSByZWFydGgoZmxhdCk7XG4gICAgbGxodmVjWzBdID0gZmxhdDtcbiAgICBsbGh2ZWNbMV0gPSBmbG9uO1xuICAgIGxsaHZlY1syXSA9IGFsdGttO1xuXG4gICAgcmV0dXJuIGxsaHZlYztcbiAgfVxuXG4gIC8vICAgICAgICBmaXJzdCBpdGVyYXRpb24sIHVzZSBmbGF0Z2MgdG8gZ2V0IGFsdGl0dWRlIFxuICAvLyAgICAgICAgYW5kIGFsdCBuZWVkZWQgdG8gY29udmVydCBnYyB0byBnZCBsYXQuXG5cbiAgcm5vdyA9IHJlYXJ0aChmbGF0Z2MpO1xuICBhbHRrbSA9IHJwIC0gcm5vdztcbiAgZmxhdCA9IGdjMmdkKGZsYXRnYywgYWx0a20pO1xuXG4gIHJybnJtID0gcmFkY3VyKGZsYXQpO1xuICBybiA9IHJybnJtWzFdO1xuXG4gIGZvciAodmFyIGtvdW50ID0gMDsga291bnQgPCA1OyBrb3VudCsrKSB7XG4gICAgc2xhdCA9IE1hdGguc2luKGR0ciAqIGZsYXQpO1xuICAgIHRhbmdkID0gKHogKyBybiAqIGVzcSAqIHNsYXQpIC8gcDtcbiAgICBmbGF0biA9IE1hdGguYXRhbih0YW5nZCkgLyBkdHI7XG5cbiAgICBkbGF0ID0gZmxhdG4gLSBmbGF0O1xuICAgIGZsYXQgPSBmbGF0bjtcbiAgICBjbGF0ID0gTWF0aC5jb3MoZHRyICogZmxhdCk7XG5cbiAgICBycm5ybSA9IHJhZGN1cihmbGF0KTtcbiAgICBybiA9IHJybnJtWzFdO1xuXG4gICAgYWx0a20gPSAocCAvIGNsYXQpIC0gcm47XG5cbiAgICBpZiAoTWF0aC5hYnMoZGxhdCkgPCAxLjBlLTEyKSB7XG4gICAgICBicmVha1xuICAgIH1cblxuICB9XG5cbiAgbGxodmVjWzBdID0gZmxhdDtcbiAgbGxodmVjWzFdID0gZmxvbjtcbiAgbGxodmVjWzJdID0gYWx0a207XG5cbiAgcmV0dXJuIGxsaHZlYztcblxufSIsInZhciB2aWV3ZXIgPSBuZXcgQ2VzaXVtLlZpZXdlcignY2VzaXVtQ29udGFpbmVyJywge1xuXG4gIGZ1bGxzY3JlZW5CdXR0b246IGZhbHNlLFxuICBiYXNlTGF5ZXJQaWNrZXI6IGZhbHNlLFxuICB0aW1lbGluZTogZmFsc2UsXG4gIGhvbWVCdXR0b246IGZhbHNlLFxuICBpbmZvQm94ZTogZmFsc2UsXG4gIG5hdmlnYXRpb25IZWxwQnV0dG9uOiBmYWxzZSxcbiAgc2VsZWN0aW9uSW5kaWNhdG9yOiBmYWxzZSxcbiAgdnJCdXR0b246IGZhbHNlLFxuICBnZW9jb2RlcjogZmFsc2UsXG4gIHNjZW5lTW9kZVBpY2tlcjogZmFsc2UsXG4gIGFuaW1hdGlvbjogZmFsc2UsXG4gIHNreUF0bW9zcGhlcmU6IGZhbHNlXG4gIC8vICBpbWFnZXJ5UHJvdmlkZXI6IG5ldyBDZXNpdW0uQXJjR2lzTWFwU2VydmVySW1hZ2VyeVByb3ZpZGVyKHtcbiAgLy8gICAgdXJsOiAnaHR0cDovL3NlcnZlci5hcmNnaXNvbmxpbmUuY29tL0FyY0dJUy9yZXN0L3NlcnZpY2VzL1dvcmxkX1N0cmVldF9NYXAvTWFwU2VydmVyJ1xuICAvLyAgfSlcblxufSk7XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jZXNpdW0tdmlld2VyLWJvdHRvbScpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuXG4vLyBGSUxURVIgTkFWQkFSXG5cbnZhciBjcm9zcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjcm9zcycpO1xudmFyIG1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGVmdF9tZW51Jyk7XG52YXIgY3Jvc3NfZGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmV4aXQnKTtcbmNyb3NzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3BlbicpID09ICd0cnVlJykge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKCdkYXRhLW9wZW4nLCBmYWxzZSk7XG4gICAgbWVudS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBjcm9zc19kaXYuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3BlbicsIHRydWUpO1xuICAgIG1lbnUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgY3Jvc3NfZGl2LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICB9XG59KTtcblxuLy8gU0FURUxMSVRFU1xuXG5jbGFzcyBzYXQge1xuICBjb25zdHJ1Y3RvcihuYW1lLCBpZCwgZGF0ZSwgaW5mb3MsIHBvcykge1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuZGF0ZSA9IGRhdGU7XG4gICAgdGhpcy5pZCA9IGlkO1xuICAgIHRoaXMudHJ1ZV9wb3MgPSBwb3M7XG4gICAgdGhpcy5wb3MgPSB4eXpsbGgocG9zKTtcbiAgICB0aGlzLmluZm9zID0gaW5mb3M7XG4gICAgdGhpcy5vYmplY3QgPSBuZXcgQ2VzaXVtLkVudGl0eSh7XG4gICAgICBpZDogdGhpcy5pZCxcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIHBvc2l0aW9uOiBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMuZnJvbURlZ3JlZXModGhpcy5wb3NbMF0sIHRoaXMucG9zWzFdLCB0aGlzLnBvc1syXSAqIDEwMDApLFxuICAgICAgZWxsaXBzb2lkOiB7XG4gICAgICAgIHJhZGlpOiBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMoNzAwMDAuMCwgNzAwMDAuMCwgNzAwMDAuMCksXG4gICAgICAgIG1hdGVyaWFsOiBDZXNpdW0uQ29sb3IuR1JFRU5cblxuICAgICAgfSxcbiAgICAgIGxhYmVsOiB7XG4gICAgICAgIHRleHQ6IHRoaXMubmFtZSxcbiAgICAgICAgZm9udDogJzEwcHQgYXJpYWwnLFxuICAgICAgICBzdHlsZTogQ2VzaXVtLkxhYmVsU3R5bGUuRklMTF9BTkRfT1VUTElORSxcbiAgICAgICAgb3V0bGluZVdpZHRoOiAyLFxuICAgICAgICB2ZXJ0aWNhbE9yaWdpbjogQ2VzaXVtLlZlcnRpY2FsT3JpZ2luLkJPVFRPTSxcbiAgICAgICAgcGl4ZWxPZmZzZXQ6IG5ldyBDZXNpdW0uQ2FydGVzaWFuMigwLCAtMjUpXG4gICAgICB9XG5cbiAgICB9KTtcbiAgICB0aGlzLnBvcHVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5wb3B1cC5jbGFzc05hbWUgPSAndGVzdCc7XG5cbiAgICB0aGlzLmNyZWF0ZSgpO1xuICB9XG5cbiAgY3JlYXRlKCkge1xuICAgIHZpZXdlci5lbnRpdGllcy5hZGQodGhpcy5vYmplY3QpO1xuICB9XG59XG5cbnZhciBzYXRlbGxpdGVzID0gW107XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgc2F0cy5sZW5ndGg7IGkrKykge1xuICBzYXRlbGxpdGVzLnB1c2gobmV3IHNhdChzYXRzW2ldLm5hbWUsIHNhdHNbaV0uaWQsIHNhdHNbaV0uZGF0ZSwgc2F0c1tpXS5pbmZvcywgc2F0c1tpXS5wb3MpKTtcbn1cblxuY29uc29sZS5sb2coc2F0ZWxsaXRlcyk7XG5cbi8vIFBPUFVQXG5cbnZhciBsYXN0X3BvcHVwO1xuXG52YXIgaGFuZGxlciA9IG5ldyBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudEhhbmRsZXIodmlld2VyLnNjZW5lLmNhbnZhcyk7XG5oYW5kbGVyLnNldElucHV0QWN0aW9uKGZ1bmN0aW9uIChjbGljaykge1xuICB2YXIgcGlja2VkT2JqZWN0ID0gdmlld2VyLnNjZW5lLnBpY2soY2xpY2sucG9zaXRpb24pO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNhdGVsbGl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoQ2VzaXVtLmRlZmluZWQocGlja2VkT2JqZWN0KSAmJiAocGlja2VkT2JqZWN0LmlkID09IHNhdGVsbGl0ZXNbaV0ub2JqZWN0KSkge1xuICAgICAgaWYgKGxhc3RfcG9wdXAgIT0gdW5kZWZpbmVkKSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykucmVtb3ZlQ2hpbGQobGFzdF9wb3B1cCk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykuYXBwZW5kQ2hpbGQoc2F0ZWxsaXRlc1tpXS5wb3B1cCk7XG4gICAgICBsYXN0X3BvcHVwID0gc2F0ZWxsaXRlc1tpXS5wb3B1cDtcbiAgICB9XG4gIH1cbn0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX0NMSUNLKTtcblxuLy8gRklMVEVSIFNMSURFUlxuXG52YXIgcGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yYW5nZS1zbGlkZXJcIik7XG5cbnZhclxuICByYW5nZVMgPSBwYXJlbnQucXVlcnlTZWxlY3RvckFsbChcImlucHV0W3R5cGU9cmFuZ2VdXCIpLFxuICBudW1iZXJTID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFt0eXBlPW51bWJlcl1cIik7XG5cbnJhbmdlUy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICBlbC5vbmlucHV0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzbGlkZTEgPSBwYXJzZUZsb2F0KHJhbmdlU1swXS52YWx1ZSksXG4gICAgICBzbGlkZTIgPSBwYXJzZUZsb2F0KHJhbmdlU1sxXS52YWx1ZSk7XG5cbiAgICBpZiAoc2xpZGUxID4gc2xpZGUyKSB7XG4gICAgICBbc2xpZGUxLCBzbGlkZTJdID0gW3NsaWRlMiwgc2xpZGUxXTtcbiAgICAgIC8vIHZhciB0bXAgPSBzbGlkZTI7XG4gICAgICAvLyBzbGlkZTIgPSBzbGlkZTE7XG4gICAgICAvLyBzbGlkZTEgPSB0bXA7XG4gICAgfVxuXG4gICAgbnVtYmVyU1swXS52YWx1ZSA9IHNsaWRlMTtcbiAgICBudW1iZXJTWzFdLnZhbHVlID0gc2xpZGUyO1xuXG4gICAgZmlsdGVyX2RhdGUoW251bWJlclNbMF0udmFsdWUsIG51bWJlclNbMV0udmFsdWVdKTtcbiAgfVxufSk7XG5cbm51bWJlclMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgZWwub25ibHVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBudW1iZXIxID0gcGFyc2VGbG9hdChudW1iZXJTWzBdLnZhbHVlKSxcbiAgICAgIG51bWJlcjIgPSBwYXJzZUZsb2F0KG51bWJlclNbMV0udmFsdWUpO1xuXG4gICAgaWYgKG51bWJlcjEgPiBudW1iZXIyKSB7XG4gICAgICB2YXIgdG1wID0gbnVtYmVyMTtcbiAgICAgIG51bWJlclNbMF0udmFsdWUgPSBudW1iZXIyO1xuICAgICAgbnVtYmVyU1sxXS52YWx1ZSA9IHRtcDtcbiAgICB9XG5cbiAgICByYW5nZVNbMF0udmFsdWUgPSBudW1iZXIxO1xuICAgIHJhbmdlU1sxXS52YWx1ZSA9IG51bWJlcjI7XG5cbiAgICBmaWx0ZXJfZGF0ZShbcmFuZ2VTWzBdLnZhbHVlLCByYW5nZVNbMV0udmFsdWVdKTtcbiAgfVxuICBlbC5vbmtleXVwID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChldmVudC5rZXlDb2RlID09IDEzKSB7XG4gICAgICBlbC5ibHVyKCk7XG4gICAgfVxuICB9XG59KTtcblxuZnVuY3Rpb24gZmlsdGVyX2RhdGUoZGF0ZXMpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzYXRlbGxpdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNhdF9kYXRlID0gbmV3IERhdGUoc2F0ZWxsaXRlc1tpXS5kYXRlKTtcbiAgICB2YXIgc2F0X2RhdGUgPSBzYXRfZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIGlmIChkYXRlc1swXSA+IHNhdF9kYXRlIHx8IGRhdGVzWzFdIDwgc2F0X2RhdGUpIHtcbiAgICAgIHNhdGVsbGl0ZXNbaV0ub2JqZWN0LnNob3cgPSBmYWxzZTtcbiAgICB9IGVsc2Ugc2F0ZWxsaXRlc1tpXS5vYmplY3Quc2hvdyA9IHRydWU7XG4gIH1cbn1cblxuLy8gIEZJTFRFUlxuXG52YXIgc2VsZWN0X29yZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdCcpO1xuXG5zZWxlY3Rfb3JnLm9uY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNhdGVsbGl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodGhpcy52YWx1ZSA9PSAnT3JnYW5pc2F0aW9uJykgc2F0ZWxsaXRlc1tpXS5vYmplY3Quc2hvdyA9IHRydWU7XG4gICAgZWxzZSB7XG4gICAgICBpZiAodGhpcy52YWx1ZSA9PSAnT3RoZXJzJykge1xuICAgICAgICBpZiAoc2F0ZWxsaXRlc1tpXS5pbmZvcyAhPSAnUGFzIGRlIGRvbm7DqWVzJykge1xuICAgICAgICAgIHNhdGVsbGl0ZXNbaV0ub2JqZWN0LnNob3cgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHNhdGVsbGl0ZXNbaV0ub2JqZWN0LnNob3cgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChzYXRlbGxpdGVzW2ldLmluZm9zLmNvdW50cnkgPT0gdGhpcy52YWx1ZSkge1xuICAgICAgICBzYXRlbGxpdGVzW2ldLm9iamVjdC5zaG93ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBzYXRlbGxpdGVzW2ldLm9iamVjdC5zaG93ID0gZmFsc2U7XG4gICAgfVxuICB9XG59XG5cbnZhciBzZWFyY2ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmFtZScpO1xuXG5zZWFyY2gub25jaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBuYW1lID0gdGhpcy52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNhdGVsbGl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc2F0ZWxsaXRlc1tpXS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobmFtZSkpIHtcbiAgICAgIHNhdGVsbGl0ZXNbaV0ub2JqZWN0LnNob3cgPSB0cnVlO1xuICAgIH0gZWxzZSBzYXRlbGxpdGVzW2ldLm9iamVjdC5zaG93ID0gZmFsc2U7XG4gIH1cbn0iXX0=
