"use strict";function geodGBL(){var e;"undefined"==(e=void 0===EARTH_A?"undefined":_typeof(EARTH_A))&&wgs84()}function earthcon(e,t){var a,n,r,i,s;i=Number(e),s=Number(t),a=1-s/i,r=1-s*s/(i*i),n=Math.sqrt(r),EARTH_A=i,EARTH_B=s,EARTH_F=a,EARTH_Ecc=n,EARTH_Esq=r}function wgs84(){var e,t,a;e=6378.137,a=1/298.257223563,t=e*(1-a),earthcon(e,t)}function radcur(e){var t,a,n,r,i,s,o,u,c,l,h,p,f,d,m,v,y=new Array(3),b=Math.PI/180;return geodGBL(),t=EARTH_A,a=EARTH_B,r=t*t,i=a*a,s=1-i/r,Math.sqrt(s),n=Number(e),o=Math.cos(b*n),u=Math.sin(b*n),c=1-s*u*u,l=Math.sqrt(c),h=t/l,p=h*(1-s)/c,f=h*o,v=(1-s)*h*u,d=f*f+v*v,m=Math.sqrt(d),y[0]=m,y[1]=h,y[2]=p,y}function rearth(e){var t,a;return a=Number(e),t=radcur(a),t[0]}function gc2gd(e,t){var a,n,r,i,s,o,u,c,l,h=Math.PI/180,p=1/h,f=new Array(3);return geodGBL(),n=Number(e),r=Number(t),s=EARTH_Ecc,o=s*s,c=r,f=radcur(n),i=f[1],l=1-o*i/(i+c),u=Math.tan(h*n)/l,a=p*Math.atan(u),f=radcur(a),i=f[1],l=1-o*i/(i+c),u=Math.tan(h*n)/l,a=p*Math.atan(u)}function gd2gc(e,t){var a,n,r,i,s,o,u,c,l=Math.PI/180,h=1/l,p=new Array(3);return geodGBL(),a=Number(e),n=Number(t),i=EARTH_Ecc,s=i*i,u=n,p=radcur(a),r=p[1],c=1-s*r/(r+u),o=Math.tan(l*a)*c,h*Math.atan(o)}function llenu(e,t){var a,n,r,i,s,o,u,c=new Array(3),l=new Array(3),h=new Array(3),p=new Array(3),r=Math.PI/180;return a=Number(e),n=Number(t),i=Math.cos(r*a),s=Math.sin(r*a),o=Math.cos(r*n),u=Math.sin(r*n),c[0]=-u,c[1]=o,c[2]=0,l[0]=-o*s,l[1]=-u*s,l[2]=i,h[0]=o*i,h[1]=u*i,h[2]=s,p[0]=c,p[1]=l,p[2]=h,p}function xyzllh(e){var t,a,n,r,i,s,o,u,c,l,h,p,f,d,m,v,y,b,A,E=Math.PI/180,M=new Array(3),w=new Array(3);if(geodGBL(),d=EARTH_Esq,s=e[0],o=e[1],u=e[2],s=Number(s),o=Number(o),u=Number(u),i=Math.sqrt(s*s+o*o+u*u),t=Math.asin(u/i)/E,h=Math.abs(s)+Math.abs(o),b=h<1e-10?0:Math.atan2(o,s)/E,b<0&&(b+=360),(c=Math.sqrt(s*s+o*o))<1e-10)return y=90,u<0&&(y=-90),A=i-rearth(y),w[0]=y,w[1]=b,w[2]=A,w;r=rearth(t),A=i-r,y=gc2gd(t,A),M=radcur(y),f=M[1];for(var p=0;p<5&&(v=Math.sin(E*y),l=(u+f*d*v)/c,a=Math.atan(l)/E,n=a-y,y=a,m=Math.cos(E*y),M=radcur(y),f=M[1],A=c/m-f,!(Math.abs(n)<1e-12));p++);return w[0]=y,w[1]=b,w[2]=A,w}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EARTH_A,EARTH_B,EARTH_F,EARTH_Ecc,EARTH_Esq,_createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),viewer=new Cesium.Viewer("cesiumContainer",{fullscreenButton:!1,baseLayerPicker:!1,timeline:!1,homeButton:!1,infoBoxe:!1,navigationHelpButton:!1,selectionIndicator:!1,vrButton:!1,geocoder:!1,sceneModePicker:!1,animation:!1});document.querySelector(".cesium-viewer-bottom").style.display="none";for(var sat=function(){function e(t,a,n,r,i){_classCallCheck(this,e);var s=this;this.name=t,this.date=n,this.id=a,this.true_pos=i,this.pos=xyzllh(i),this.infos=r,this.object=new Cesium.Entity({id:this.id,name:this.name,position:new Cesium.Cartesian3.fromDegrees(this.pos[0],this.pos[1],1e3*this.pos[2]),ellipsoid:{radii:new Cesium.Cartesian3(5e4,5e4,5e4),material:Cesium.Color.RED},label:{text:this.name,font:"10pt arial",style:Cesium.LabelStyle.FILL_AND_OUTLINE,outlineWidth:2,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:new Cesium.Cartesian2(0,-25)}}),this.popup=new Cesium.Entity(s.name),this.popup={title:""},this.popup.description={getValue:function(){return'<div class="pop_up"><div class="exit"></div><h2>'+s.name+"</h2><p>Lauched : "+s.date+"</p><p> Country : "+s.infos.country+"</p><p> Function : "+s.infos.discipline+"</p><p> Mass : "+s.infos.mass+"</p><p>Description : "+s.infos.description+"</p></div>"}},this.create()}return _createClass(e,[{key:"create",value:function(){viewer.entities.add(this.object)}}]),e}(),satellites=[],i=0;i<sats.length;i++)satellites.push(new sat(sats[i].name,sats[i].id,sats[i].date,sats[i].infos,sats[i].pos));console.log(satellites);var handler=new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas);handler.setInputAction(function(e){for(var t=viewer.scene.pick(e.position),a=0;a<satellites.length;a++)Cesium.defined(t)&&t.id==satellites[a].object&&(viewer.selectedEntity=satellites[a].popup)},Cesium.ScreenSpaceEventType.LEFT_CLICK),function(){var e=document.querySelector(".range-slider");if(e){var t=e.querySelectorAll("input[type=range]"),a=e.querySelectorAll("input[type=number]");t.forEach(function(e){e.oninput=function(){var e=parseFloat(t[0].value),n=parseFloat(t[1].value);if(e>n){var r=[n,e];e=r[0],n=r[1]}a[0].value=e,a[1].value=n}}),a.forEach(function(e){e.oninput=function(){var e=parseFloat(a[0].value),n=parseFloat(a[1].value);if(e>n){var r=e;a[0].value=n,a[1].value=r}t[0].value=e,t[1].value=n}})}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnZlcnRlci5qcyIsInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJnZW9kR0JMIiwidHN0Z2xvYmFsIiwiRUFSVEhfQSIsIl90eXBlb2YiLCJ3Z3M4NCIsImVhcnRoY29uIiwiYWkiLCJiaSIsImYiLCJlY2MiLCJlY2NzcSIsImEiLCJiIiwiTnVtYmVyIiwiTWF0aCIsInNxcnQiLCJFQVJUSF9CIiwiRUFSVEhfRiIsIkVBUlRIX0VjYyIsIkVBUlRIX0VzcSIsIndnczg0YSIsIndnczg0YiIsIndnczg0ZiIsInJhZGN1ciIsImxhdGkiLCJsYXQiLCJhc3EiLCJic3EiLCJjbGF0Iiwic2xhdCIsImRzcSIsImQiLCJybiIsInJtIiwicmhvIiwicnNxIiwiciIsInoiLCJycm5ybSIsIkFycmF5IiwiZHRyIiwiUEkiLCJjb3MiLCJzaW4iLCJyZWFydGgiLCJnYzJnZCIsImZsYXRnY2kiLCJhbHRrbWkiLCJmbGF0Z2QiLCJmbGF0Z2MiLCJhbHRrbSIsImVzcSIsInRsYXQiLCJhbHRub3ciLCJyYXRpbyIsInJ0ZCIsInRhbiIsImF0YW4iLCJnZDJnYyIsImZsYXRnZGkiLCJsbGVudSIsImZsYXRpIiwiZmxvbmkiLCJmbGF0IiwiZmxvbiIsImNsb24iLCJzbG9uIiwiZWUiLCJlbiIsImV1IiwiZW51IiwieHl6bGxoIiwieHZlYyIsImZsYXRuIiwiZGxhdCIsInJub3ciLCJycCIsIngiLCJ5IiwicCIsInRhbmdkIiwidGVzdHZhbCIsImtvdW50IiwibGxodmVjIiwiYXNpbiIsImFicyIsImF0YW4yIiwidmlld2VyIiwiQ2VzaXVtIiwiVmlld2VyIiwiZnVsbHNjcmVlbkJ1dHRvbiIsImJhc2VMYXllclBpY2tlciIsInRpbWVsaW5lIiwiaG9tZUJ1dHRvbiIsImluZm9Cb3hlIiwibmF2aWdhdGlvbkhlbHBCdXR0b24iLCJzZWxlY3Rpb25JbmRpY2F0b3IiLCJ2ckJ1dHRvbiIsImdlb2NvZGVyIiwic2NlbmVNb2RlUGlja2VyIiwiYW5pbWF0aW9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic3R5bGUiLCJkaXNwbGF5Iiwic2F0IiwibmFtZSIsImlkIiwiZGF0ZSIsImluZm9zIiwicG9zIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsInRoYXQiLCJ0cnVlX3BvcyIsIm9iamVjdCIsIkVudGl0eSIsInBvc2l0aW9uIiwiQ2FydGVzaWFuMyIsImZyb21EZWdyZWVzIiwiZWxsaXBzb2lkIiwicmFkaWkiLCJtYXRlcmlhbCIsIkNvbG9yIiwiUkVEIiwibGFiZWwiLCJ0ZXh0IiwiZm9udCIsIkxhYmVsU3R5bGUiLCJGSUxMX0FORF9PVVRMSU5FIiwib3V0bGluZVdpZHRoIiwidmVydGljYWxPcmlnaW4iLCJWZXJ0aWNhbE9yaWdpbiIsIkJPVFRPTSIsInBpeGVsT2Zmc2V0IiwiQ2FydGVzaWFuMiIsInBvcHVwIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImdldFZhbHVlIiwiY291bnRyeSIsImRpc2NpcGxpbmUiLCJtYXNzIiwiY3JlYXRlIiwiZW50aXRpZXMiLCJhZGQiLCJzYXRlbGxpdGVzIiwiaSIsInNhdHMiLCJsZW5ndGgiLCJwdXNoIiwiY29uc29sZSIsImxvZyIsImhhbmRsZXIiLCJTY3JlZW5TcGFjZUV2ZW50SGFuZGxlciIsInNjZW5lIiwiY2FudmFzIiwic2V0SW5wdXRBY3Rpb24iLCJjbGljayIsInBpY2tlZE9iamVjdCIsInBpY2siLCJkZWZpbmVkIiwic2VsZWN0ZWRFbnRpdHkiLCJTY3JlZW5TcGFjZUV2ZW50VHlwZSIsIkxFRlRfQ0xJQ0siLCJwYXJlbnQiLCJyYW5nZVMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibnVtYmVyUyIsImZvckVhY2giLCJlbCIsIm9uaW5wdXQiLCJzbGlkZTEiLCJwYXJzZUZsb2F0IiwidmFsdWUiLCJzbGlkZTIiLCJfcmVmIiwibnVtYmVyMSIsIm51bWJlcjIiLCJ0bXAiXSwibWFwcGluZ3MiOiJZQWtCQSxTQUFTQSxXQUtQLEdBQUlDLEVBR2EsZUFEakJBLEVBQUEsU0FBbUJDLFFBQW5CLFlBQUFDLFFBQW1CRCxXQUNXRSxR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LFFBQVFGLElBQWtCQSxFQUFhcEQsSUFBTXVDLFdBQVdDLEdBQUdoQyxTQUNwRTVCLE9BQU8yRSxlQUFpQmhCLFdBQVdDLEdBQUdYLFFBR3pDaEQsT0FBTzJFLHFCQUFxQkMsWUFFL0IsV0FFSSxHQUFJQyxHQUFTaEUsU0FBU0MsY0FBYyxnQkFDcEMsSUFBSytELEVBQUwsQ0FFQSxHQUNJQyxHQUFTRCxFQUFPRSxpQkFBaUIscUJBQ2pDQyxFQUFVSCxFQUFPRSxpQkFBaUIscUJBRXRDRCxHQUFPRyxRQUFRLFNBQVNDLEdBQ3BCQSxFQUFHQyxRQUFVLFdBQ1QsR0FBSUMsR0FBU0MsV0FBV1AsRUFBTyxHQUFHUSxPQUM5QkMsRUFBU0YsV0FBV1AsRUFBTyxHQUFHUSxNQUVsQyxJQUFJRixFQUFTRyxFQUFRLENBQUEsR0FBQUMsSUFDR0QsRUFBUUgsRUFBM0JBLEdBRGdCSSxFQUFBLEdBQ1JELEVBRFFDLEVBQUEsR0FPckJSLEVBQVEsR0FBR00sTUFBUUYsRUFDbkJKLEVBQVEsR0FBR00sTUFBUUMsS0FJM0JQLEVBQVFDLFFBQVEsU0FBU0MsR0FDckJBLEVBQUdDLFFBQVUsV0FDVCxHQUFJTSxHQUFVSixXQUFXTCxFQUFRLEdBQUdNLE9BQ2hDSSxFQUFVTCxXQUFXTCxFQUFRLEdBQUdNLE1BRXBDLElBQUlHLEVBQVVDLEVBQVMsQ0FDbkIsR0FBSUMsR0FBTUYsQ0FDVlQsR0FBUSxHQUFHTSxNQUFRSSxFQUNuQlYsRUFBUSxHQUFHTSxNQUFRSyxFQUd2QmIsRUFBTyxHQUFHUSxNQUFRRyxFQUNsQlgsRUFBTyxHQUFHUSxNQUFRSSIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogICAgICAgICAgICAgZ2VvZGVzeSByb3V0aW5lcyBpbiBKYXZhU2NyaXB0XG4gICAgICAgICAgICAgICAgIEphbWVzIFIuIENseW5jaCBOUFMgLyAyMDAzXG4gICAgICAgICAgICAgICBcbiAgICAgICAgICBEb25lIGZvciBzdXBwb3J0IG9mIHdlYiBlZHVjYXRpb24gcGFnZXNcblxuXG4gICAgICAgICAgPT0gbXVzdCBjb252ZXJ0IGlucHV0cyB0byBudW1iZXJzIGZvciBzYWZldHkgPT1cbiAgICAgICAgICA9PSBpZiBzdHJpbmcgY29tZXMgaW4gLSBzb21ldGltZXMgd29ya3MsIHNvbWV0aW1lcyBub3QgIT09XG4qL1xuXG52YXIgRUFSVEhfQTtcbnZhciBFQVJUSF9CO1xudmFyIEVBUlRIX0Y7XG52YXIgRUFSVEhfRWNjO1xudmFyIEVBUlRIX0VzcTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24gZ2VvZEdCTCgpXG5cbi8vICAgICAgICAgICAgIHRlc3QgYW5kIGVuc3VyZSBnZW9kZXN5IGdsb2JhbHMgbG9hZGVkXG57XG5cbiAgdmFyIHRzdGdsb2JhbFxuXG4gIHRzdGdsb2JhbCA9IHR5cGVvZiBFQVJUSF9BO1xuICBpZiAodHN0Z2xvYmFsID09IFwidW5kZWZpbmVkXCIpIHdnczg0KClcblxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5mdW5jdGlvbiBlYXJ0aGNvbihhaSwgYmkpXG5cbi8qICAgICAgICBTZXRzIEVhcnRoIENvbnN0YW50cyBhcyBnbG9iYWxzXG4gICAgICAgICAgICAgLS0gIGlucHV0IGEsYlxuICAgICAgICAgICAgIC0tICBMZWF2ZXMgR2xvYmFscyBcbiAgICAgICAgICAgICAgICAgRUFSVEhfQSAgICAgIEVBUlRIX0IgICBFQVJUSF9GICBFQVJUSF9FY2NcbiovXG5cbntcbiAgdmFyIGYsIGVjYywgZWNjc3EsIGEsIGJcblxuICBhID0gTnVtYmVyKGFpKTtcbiAgYiA9IE51bWJlcihiaSk7XG5cbiAgZiA9IDEgLSBiIC8gYTtcbiAgZWNjc3EgPSAxIC0gYiAqIGIgLyAoYSAqIGEpO1xuICBlY2MgPSBNYXRoLnNxcnQoZWNjc3EpO1xuXG4gIEVBUlRIX0EgPSBhO1xuICBFQVJUSF9CID0gYjtcbiAgRUFSVEhfRiA9IGY7XG4gIEVBUlRIX0VjYyA9IGVjYztcbiAgRUFSVEhfRXNxID0gZWNjc3E7XG59XG5cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24gd2dzODQoKVxuXG4vKiAgICAgICAgV0dTODQgRWFydGggQ29uc3RhbnRzXG4gICAgICAgICAgICAgLS0gIHJldHVybnMgYSxiLGYsZSAgLS1cbiAgICAgICAgICAgICAtLSAgTGVhdmVzIEdsb2JhbHMgXG4gICAgICAgICAgICAgICAgIEVBUlRIX0EgICAgICBFQVJUSF9CICAgRUFSVEhfRiAgRUFSVEhfRWNjXG5cbiovXG5cbntcbiAgdmFyIHdnczg0YSwgd2dzODRiLCB3Z3M4NGZcblxuICB3Z3M4NGEgPSA2Mzc4LjEzNztcbiAgd2dzODRmID0gMS4wIC8gMjk4LjI1NzIyMzU2MztcbiAgd2dzODRiID0gd2dzODRhICogKDEuMCAtIHdnczg0Zik7XG5cbiAgZWFydGhjb24od2dzODRhLCB3Z3M4NGIpO1xuXG59XG5cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24gcmFkY3VyKGxhdGkpXG5cbi8qXG4gICAgICAgY29tcHV0ZSB0aGUgcmFkaWkgYXQgdGhlIGdlb2RldGljIGxhdGl0dWRlIGxhdCAoaW4gZGVncmVlcylcbiAgICAgXG4gICAgIGlucHV0OlxuICAgICAgICAgICAgICAgbGF0ICAgICAgIGdlb2RldGljIGxhdGl0dWRlIGluIGRlZ3JlZXNcbiAgICAgb3V0cHV0OiAgIFxuICAgICAgICAgICAgICAgcnJucm0gICAgIGFuIGFycmF5IDMgbG9uZ1xuICAgICAgICAgICAgICAgICAgICAgICAgIHIsICBybiwgIHJtICAgaW4ga21cblxuKi9cblxue1xuXG4gIHZhciBycm5ybSA9IG5ldyBBcnJheSgzKVxuXG4gIHZhciBkdHIgPSBNYXRoLlBJIC8gMTgwLjBcblxuICB2YXIgYSwgYiwgbGF0XG4gIHZhciBhc3EsIGJzcSwgZWNjc3EsIGVjYywgY2xhdCwgc2xhdFxuICB2YXIgZHNxLCBkLCBybiwgcm0sIHJobywgcnNxLCByLCB6XG5cbiAgLy8gICAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBnZW9kR0JMKCk7XG5cbiAgYSA9IEVBUlRIX0E7XG4gIGIgPSBFQVJUSF9CO1xuXG4gIGFzcSA9IGEgKiBhO1xuICBic3EgPSBiICogYjtcbiAgZWNjc3EgPSAxIC0gYnNxIC8gYXNxO1xuICBlY2MgPSBNYXRoLnNxcnQoZWNjc3EpO1xuXG4gIGxhdCA9IE51bWJlcihsYXRpKTtcblxuICBjbGF0ID0gTWF0aC5jb3MoZHRyICogbGF0KTtcbiAgc2xhdCA9IE1hdGguc2luKGR0ciAqIGxhdCk7XG5cbiAgZHNxID0gMS4wIC0gZWNjc3EgKiBzbGF0ICogc2xhdDtcbiAgZCA9IE1hdGguc3FydChkc3EpO1xuXG4gIHJuID0gYSAvIGQ7XG4gIHJtID0gcm4gKiAoMS4wIC0gZWNjc3EpIC8gZHNxO1xuXG4gIHJobyA9IHJuICogY2xhdDtcbiAgeiA9ICgxLjAgLSBlY2NzcSkgKiBybiAqIHNsYXQ7XG4gIHJzcSA9IHJobyAqIHJobyArIHogKiB6O1xuICByID0gTWF0aC5zcXJ0KHJzcSk7XG5cbiAgcnJucm1bMF0gPSByO1xuICBycm5ybVsxXSA9IHJuO1xuICBycm5ybVsyXSA9IHJtO1xuXG4gIHJldHVybiAocnJucm0pO1xuXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8vICAgICAgICBwaHlzaWNhbCByYWRpdXMgb2YgZWFydGggZnJvbSBnZW9kZXRpYyBsYXRpdHVkZVxuXG5mdW5jdGlvbiByZWFydGgobGF0aSkge1xuICB2YXIgcnJucm0sIHIsIGxhdFxuXG4gIGxhdCA9IE51bWJlcihsYXRpKTtcblxuICBycm5ybSA9IHJhZGN1cihsYXQpO1xuICByID0gcnJucm1bMF07XG5cbiAgcmV0dXJuIChyKTtcblxufVxuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIGdjMmdkKGZsYXRnY2ksIGFsdGttaSlcblxuLyogICAgICAgIGdlb2NlbnRyaWMgbGF0aXR1ZGUgdG8gZ2VvZGV0aWMgbGF0aXR1ZGVcblxuICAgICBJbnB1dDpcbiAgICAgICAgICAgICAgIGZsYXRnYyAgICBnZW9jZW50cmljIGxhdGl0dWRlIGRlZy5cbiAgICAgICAgICAgICAgIGFsdGttICAgICBhbHRpdGlkZSBpbiBrbVxuICAgICBvdXB1dDpcbiAgICAgICAgICAgICAgIGZsYXRnZCAgICBnZW9kZXRpYyBsYXRpdHVkZSBpbiBkZWdcblxuKi9cblxue1xuXG4gIHZhciBkdHIgPSBNYXRoLlBJIC8gMTgwLjA7XG4gIHZhciBydGQgPSAxIC8gZHRyO1xuXG4gIHZhciBmbGF0Z2QsIGZsYXRnYywgYWx0a21cbiAgdmFyIHJybnJtID0gbmV3IEFycmF5KDMpXG4gIHZhciByZSwgcm4sIGVjYywgZXNxO1xuICB2YXIgc2xhdCwgY2xhdCwgdGxhdFxuICB2YXIgYWx0bm93LCByYXRpb1xuXG4gIGdlb2RHQkwoKTtcblxuICBmbGF0Z2MgPSBOdW1iZXIoZmxhdGdjaSk7XG4gIGFsdGttID0gTnVtYmVyKGFsdGttaSk7XG5cbiAgZWNjID0gRUFSVEhfRWNjO1xuICBlc3EgPSBlY2MgKiBlY2M7XG5cbiAgLy8gICAgICAgICAgICAgYXBwcm94aW1hdGlvbiBieSBzdGFnZXNcbiAgLy8gICAgICAgICAgICAgMXN0IHVzZSBnYy1sYXQgYXMgaWYgaXMgZ2QsIHRoZW4gY29ycmVjdCBhbHQgZGVwZW5kZW5jZVxuXG4gIGFsdG5vdyA9IGFsdGttO1xuXG4gIHJybnJtID0gcmFkY3VyKGZsYXRnYyk7XG4gIHJuID0gcnJucm1bMV07XG5cbiAgcmF0aW8gPSAxIC0gZXNxICogcm4gLyAocm4gKyBhbHRub3cpO1xuXG4gIHRsYXQgPSBNYXRoLnRhbihkdHIgKiBmbGF0Z2MpIC8gcmF0aW87XG4gIGZsYXRnZCA9IHJ0ZCAqIE1hdGguYXRhbih0bGF0KTtcblxuICAvLyAgICAgICAgbm93IHVzZSB0aGlzIGFwcHJveGltYXRpb24gZm9yIGdkLWxhdCB0byBnZXQgcm4gZXRjLlxuXG4gIHJybnJtID0gcmFkY3VyKGZsYXRnZCk7XG4gIHJuID0gcnJucm1bMV07XG5cbiAgcmF0aW8gPSAxIC0gZXNxICogcm4gLyAocm4gKyBhbHRub3cpXG4gIHRsYXQgPSBNYXRoLnRhbihkdHIgKiBmbGF0Z2MpIC8gcmF0aW87XG4gIGZsYXRnZCA9IHJ0ZCAqIE1hdGguYXRhbih0bGF0KTtcblxuICByZXR1cm4gZmxhdGdkXG5cbn1cblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cbmZ1bmN0aW9uIGdkMmdjKGZsYXRnZGksIGFsdGttaSlcblxuLyogICAgICAgIGdlb2RldGljIGxhdGl0dWRlIHRvIGdlb2NlbnRyaWMgbGF0aXR1ZGVcblxuICAgICBJbnB1dDpcbiAgICAgICAgICAgICAgIGZsYXRnZCAgICBnZW9kZXRpYyBsYXRpdHVkZSBkZWcuXG4gICAgICAgICAgICAgICBhbHRrbSAgICAgYWx0aXRpZGUgaW4ga21cbiAgICAgb3VwdXQ6XG4gICAgICAgICAgICAgICBmbGF0Z2MgICAgZ2VvY2VudHJpYyBsYXRpdHVkZSBpbiBkZWdcblxuKi9cblxue1xuXG4gIHZhciBkdHIgPSBNYXRoLlBJIC8gMTgwLjA7XG4gIHZhciBydGQgPSAxIC8gZHRyO1xuXG4gIHZhciBmbGF0Z2MsIGZsYXRnZCwgYWx0a21cbiAgdmFyIHJybnJtID0gbmV3IEFycmF5KDMpXG4gIHZhciByZSwgcm4sIGVjYywgZXNxO1xuICB2YXIgc2xhdCwgY2xhdCwgdGxhdFxuICB2YXIgYWx0bm93LCByYXRpb1xuXG4gIGdlb2RHQkwoKTtcblxuICBmbGF0Z2QgPSBOdW1iZXIoZmxhdGdkaSk7XG4gIGFsdGttID0gTnVtYmVyKGFsdGttaSk7XG5cbiAgZWNjID0gRUFSVEhfRWNjO1xuICBlc3EgPSBlY2MgKiBlY2M7XG5cbiAgYWx0bm93ID0gYWx0a207XG5cbiAgcnJucm0gPSByYWRjdXIoZmxhdGdkKTtcbiAgcm4gPSBycm5ybVsxXTtcblxuICByYXRpbyA9IDEgLSBlc3EgKiBybiAvIChybiArIGFsdG5vdyk7XG5cbiAgdGxhdCA9IE1hdGgudGFuKGR0ciAqIGZsYXRnZCkgKiByYXRpbztcbiAgZmxhdGdjID0gcnRkICogTWF0aC5hdGFuKHRsYXQpO1xuXG4gIHJldHVybiBmbGF0Z2M7XG5cbn1cblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5mdW5jdGlvbiBsbGVudShmbGF0aSwgZmxvbmkpXG5cbi8qICAgICAgICBsYXRpdHVkZSBsb25naXR1ZGUgdG8gZWFzdCxub3J0aCx1cCB1bml0IHZlY3RvcnNcblxuICAgICBpbnB1dDpcbiAgICAgICAgICAgICAgIGZsYXQgICAgICBsYXRpdHVkZSBpbiBkZWdlZXMgTlxuICAgICAgICAgICAgICAgICAgICAgICAgIFsgZ2MgLT4gZ2MgZW51LCAgZ2QgdXN1YWwgZW51IF1cbiAgICAgICAgICAgICAgIGZsb24gICAgICBsb25naXR1ZGUgaW4gZGVncmVlcyBFXG4gICAgIG91dHB1dDpcbiAgICAgICAgICAgICAgIGVudVszWzNdXSAgcGFja2VkIDMtdW5pdCB2ZWN0b3JzIC8gZWFjaCBhIDMgdmVjdG9yXG5cbiovXG5cbntcblxuICB2YXIgZmxhdCwgZmxvbjtcbiAgdmFyIGR0ciwgY2xhdCwgc2xhdCwgY2xvbiwgc2xvbjtcbiAgdmFyIGVlID0gbmV3IEFycmF5KDMpO1xuICB2YXIgZW4gPSBuZXcgQXJyYXkoMyk7XG4gIHZhciBldSA9IG5ldyBBcnJheSgzKTtcblxuICB2YXIgZW51ID0gbmV3IEFycmF5KDMpO1xuXG4gIHZhciBkdHIgPSBNYXRoLlBJIC8gMTgwLjBcblxuXG4gIC8vICAgICAgICAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgZmxhdCA9IE51bWJlcihmbGF0aSk7XG4gIGZsb24gPSBOdW1iZXIoZmxvbmkpO1xuXG4gIGNsYXQgPSBNYXRoLmNvcyhkdHIgKiBmbGF0KTtcbiAgc2xhdCA9IE1hdGguc2luKGR0ciAqIGZsYXQpO1xuICBjbG9uID0gTWF0aC5jb3MoZHRyICogZmxvbik7XG4gIHNsb24gPSBNYXRoLnNpbihkdHIgKiBmbG9uKTtcblxuICBlZVswXSA9IC1zbG9uO1xuICBlZVsxXSA9IGNsb247XG4gIGVlWzJdID0gMC4wO1xuXG4gIGVuWzBdID0gLWNsb24gKiBzbGF0O1xuICBlblsxXSA9IC1zbG9uICogc2xhdDtcbiAgZW5bMl0gPSBjbGF0O1xuXG4gIGV1WzBdID0gY2xvbiAqIGNsYXQ7XG4gIGV1WzFdID0gc2xvbiAqIGNsYXQ7XG4gIGV1WzJdID0gc2xhdDtcblxuICBlbnVbMF0gPSBlZTtcbiAgZW51WzFdID0gZW47XG4gIGVudVsyXSA9IGV1O1xuXG4gIHJldHVybiBlbnU7XG5cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24geHl6bGxoKHh2ZWMpXG5cbi8qICAgICAgICB4eXogdmVjdG9yICB0byAgbGF0LGxvbixoZWlnaHRcblxuICAgICBpbnB1dDpcbiAgICAgICAgICB4dmVjWzNdICAgeHl6IEVDRUYgbG9jYXRpb25cbiAgICAgb3V0cHV0OlxuXG4gICAgICAgICAgbGxodmVjWzNdIHdpdGggY29tcG9uZW50c1xuXG4gICAgICAgICAgZmxhdCAgICAgIGdlb2RldGljIGxhdGl0dWRlIGluIGRlZ1xuICAgICAgICAgIGZsb24gICAgICBsb25naXR1ZGUgaW4gZGVnXG4gICAgICAgICAgYWx0a20gICAgIGFsdGl0dWRlIGluIGttXG5cbiovXG5cbntcblxuICB2YXIgZHRyID0gTWF0aC5QSSAvIDE4MC4wO1xuICB2YXIgZmxhdGdjLCBmbGF0biwgZGxhdDtcbiAgdmFyIHJub3csIHJwO1xuICB2YXIgeCwgeSwgeiwgcDtcbiAgdmFyIHRhbmdjLCB0YW5nZDtcblxuICB2YXIgdGVzdHZhbCwga291bnQ7XG5cbiAgdmFyIHJuLCBlc3E7XG4gIHZhciBjbGF0LCBzbGF0O1xuICB2YXIgcnJucm0gPSBuZXcgQXJyYXkoMyk7XG5cbiAgdmFyIGZsYXQsIGZsb24sIGFsdGttO1xuICB2YXIgbGxodmVjID0gbmV3IEFycmF5KDMpO1xuXG5cbiAgZ2VvZEdCTCgpO1xuXG4gIGVzcSA9IEVBUlRIX0VzcTtcblxuICB4ID0geHZlY1swXTtcbiAgeSA9IHh2ZWNbMV07XG4gIHogPSB4dmVjWzJdO1xuXG4gIHggPSBOdW1iZXIoeCk7XG4gIHkgPSBOdW1iZXIoeSk7XG4gIHogPSBOdW1iZXIoeik7XG5cbiAgcnAgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcblxuICBmbGF0Z2MgPSBNYXRoLmFzaW4oeiAvIHJwKSAvIGR0cjtcblxuICB0ZXN0dmFsID0gTWF0aC5hYnMoeCkgKyBNYXRoLmFicyh5KTtcbiAgaWYgKHRlc3R2YWwgPCAxLjBlLTEwKSB7XG4gICAgZmxvbiA9IDAuMFxuICB9IGVsc2Uge1xuICAgIGZsb24gPSBNYXRoLmF0YW4yKHksIHgpIC8gZHRyXG4gIH1cbiAgaWYgKGZsb24gPCAwLjApIHtcbiAgICBmbG9uID0gZmxvbiArIDM2MC4wXG4gIH1cblxuICBwID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpO1xuXG4gIC8vICAgICAgICAgICAgIG9uIHBvbGUgc3BlY2lhbCBjYXNlXG5cbiAgaWYgKHAgPCAxLjBlLTEwKSB7XG4gICAgZmxhdCA9IDkwLjBcbiAgICBpZiAoeiA8IDAuMCkge1xuICAgICAgZmxhdCA9IC05MC4wXG4gICAgfVxuXG4gICAgYWx0a20gPSBycCAtIHJlYXJ0aChmbGF0KTtcbiAgICBsbGh2ZWNbMF0gPSBmbGF0O1xuICAgIGxsaHZlY1sxXSA9IGZsb247XG4gICAgbGxodmVjWzJdID0gYWx0a207XG5cbiAgICByZXR1cm4gbGxodmVjO1xuICB9XG5cbiAgLy8gICAgICAgIGZpcnN0IGl0ZXJhdGlvbiwgdXNlIGZsYXRnYyB0byBnZXQgYWx0aXR1ZGUgXG4gIC8vICAgICAgICBhbmQgYWx0IG5lZWRlZCB0byBjb252ZXJ0IGdjIHRvIGdkIGxhdC5cblxuICBybm93ID0gcmVhcnRoKGZsYXRnYyk7XG4gIGFsdGttID0gcnAgLSBybm93O1xuICBmbGF0ID0gZ2MyZ2QoZmxhdGdjLCBhbHRrbSk7XG5cbiAgcnJucm0gPSByYWRjdXIoZmxhdCk7XG4gIHJuID0gcnJucm1bMV07XG5cbiAgZm9yICh2YXIga291bnQgPSAwOyBrb3VudCA8IDU7IGtvdW50KyspIHtcbiAgICBzbGF0ID0gTWF0aC5zaW4oZHRyICogZmxhdCk7XG4gICAgdGFuZ2QgPSAoeiArIHJuICogZXNxICogc2xhdCkgLyBwO1xuICAgIGZsYXRuID0gTWF0aC5hdGFuKHRhbmdkKSAvIGR0cjtcblxuICAgIGRsYXQgPSBmbGF0biAtIGZsYXQ7XG4gICAgZmxhdCA9IGZsYXRuO1xuICAgIGNsYXQgPSBNYXRoLmNvcyhkdHIgKiBmbGF0KTtcblxuICAgIHJybnJtID0gcmFkY3VyKGZsYXQpO1xuICAgIHJuID0gcnJucm1bMV07XG5cbiAgICBhbHRrbSA9IChwIC8gY2xhdCkgLSBybjtcblxuICAgIGlmIChNYXRoLmFicyhkbGF0KSA8IDEuMGUtMTIpIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuXG4gIH1cblxuICBsbGh2ZWNbMF0gPSBmbGF0O1xuICBsbGh2ZWNbMV0gPSBmbG9uO1xuICBsbGh2ZWNbMl0gPSBhbHRrbTtcblxuICByZXR1cm4gbGxodmVjO1xuXG59IiwidmFyIHZpZXdlciA9IG5ldyBDZXNpdW0uVmlld2VyKCdjZXNpdW1Db250YWluZXInLCB7XG5cbiAgZnVsbHNjcmVlbkJ1dHRvbjogZmFsc2UsXG4gIGJhc2VMYXllclBpY2tlcjogZmFsc2UsXG4gIHRpbWVsaW5lOiBmYWxzZSxcbiAgaG9tZUJ1dHRvbjogZmFsc2UsXG4gIGluZm9Cb3hlOiBmYWxzZSxcbiAgbmF2aWdhdGlvbkhlbHBCdXR0b246IGZhbHNlLFxuICBzZWxlY3Rpb25JbmRpY2F0b3I6IGZhbHNlLFxuICB2ckJ1dHRvbjogZmFsc2UsXG4gIGdlb2NvZGVyOiBmYWxzZSxcbiAgc2NlbmVNb2RlUGlja2VyOiBmYWxzZSxcbiAgYW5pbWF0aW9uOiBmYWxzZSxcbiAgLy8gIGltYWdlcnlQcm92aWRlcjogbmV3IENlc2l1bS5BcmNHaXNNYXBTZXJ2ZXJJbWFnZXJ5UHJvdmlkZXIoe1xuICAvLyAgICB1cmw6ICdodHRwOi8vc2VydmVyLmFyY2dpc29ubGluZS5jb20vQXJjR0lTL3Jlc3Qvc2VydmljZXMvV29ybGRfU3RyZWV0X01hcC9NYXBTZXJ2ZXInXG4gIC8vICB9KVxuXG59KTtcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNlc2l1bS12aWV3ZXItYm90dG9tJykuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG5jbGFzcyBzYXQge1xuICBjb25zdHJ1Y3RvcihuYW1lLCBpZCwgZGF0ZSwgaW5mb3MsIHBvcykge1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuZGF0ZSA9IGRhdGU7XG4gICAgdGhpcy5pZCA9IGlkO1xuICAgIHRoaXMudHJ1ZV9wb3MgPSBwb3M7XG4gICAgdGhpcy5wb3MgPSB4eXpsbGgocG9zKTtcbiAgICB0aGlzLmluZm9zID0gaW5mb3M7XG4gICAgdGhpcy5vYmplY3QgPSBuZXcgQ2VzaXVtLkVudGl0eSh7XG4gICAgICBpZDogdGhpcy5pZCxcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIHBvc2l0aW9uOiBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMuZnJvbURlZ3JlZXModGhpcy5wb3NbMF0sIHRoaXMucG9zWzFdLCB0aGlzLnBvc1syXSAqIDEwMDApLFxuICAgICAgZWxsaXBzb2lkOiB7XG4gICAgICAgIHJhZGlpOiBuZXcgQ2VzaXVtLkNhcnRlc2lhbjMoNTAwMDAuMCwgNTAwMDAuMCwgNTAwMDAuMCksXG4gICAgICAgIG1hdGVyaWFsOiBDZXNpdW0uQ29sb3IuUkVELFxuXG4gICAgICB9LFxuICAgICAgbGFiZWw6IHtcbiAgICAgICAgdGV4dDogdGhpcy5uYW1lLFxuICAgICAgICBmb250OiAnMTBwdCBhcmlhbCcsXG4gICAgICAgIHN0eWxlOiBDZXNpdW0uTGFiZWxTdHlsZS5GSUxMX0FORF9PVVRMSU5FLFxuICAgICAgICBvdXRsaW5lV2lkdGg6IDIsXG4gICAgICAgIHZlcnRpY2FsT3JpZ2luOiBDZXNpdW0uVmVydGljYWxPcmlnaW4uQk9UVE9NLFxuICAgICAgICBwaXhlbE9mZnNldDogbmV3IENlc2l1bS5DYXJ0ZXNpYW4yKDAsIC0yNSlcbiAgICAgIH1cblxuICAgIH0pO1xuICAgIHRoaXMucG9wdXAgPSBuZXcgQ2VzaXVtLkVudGl0eSh0aGF0Lm5hbWUpO1xuICAgIHRoaXMucG9wdXAgPSB7dGl0bGUgOiAnJ307XG4gICAgdGhpcy5wb3B1cC5kZXNjcmlwdGlvbiA9IHtcbiAgICAgIGdldFZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cInBvcF91cFwiPjxkaXYgY2xhc3M9XCJleGl0XCI+PC9kaXY+PGgyPicgKyB0aGF0Lm5hbWUgKyAnPC9oMj48cD5MYXVjaGVkIDogJyArIHRoYXQuZGF0ZSArICc8L3A+PHA+IENvdW50cnkgOiAnICsgdGhhdC5pbmZvcy5jb3VudHJ5ICsgJzwvcD48cD4gRnVuY3Rpb24gOiAnICsgdGhhdC5pbmZvcy5kaXNjaXBsaW5lICsgJzwvcD48cD4gTWFzcyA6ICcgKyB0aGF0LmluZm9zLm1hc3MgKyAnPC9wPjxwPkRlc2NyaXB0aW9uIDogJyArIHRoYXQuaW5mb3MuZGVzY3JpcHRpb24gKyAnPC9wPjwvZGl2Pic7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuY3JlYXRlKCk7XG4gIH1cblxuICBjcmVhdGUoKSB7XG4gICAgdmlld2VyLmVudGl0aWVzLmFkZCh0aGlzLm9iamVjdCk7XG4gIH1cbn1cblxudmFyIHNhdGVsbGl0ZXMgPSBbXTtcblxuZm9yICh2YXIgaSA9IDA7IGkgPCBzYXRzLmxlbmd0aDsgaSsrKSB7XG4gIHNhdGVsbGl0ZXMucHVzaChuZXcgc2F0KHNhdHNbaV0ubmFtZSwgc2F0c1tpXS5pZCwgc2F0c1tpXS5kYXRlLCBzYXRzW2ldLmluZm9zLCBzYXRzW2ldLnBvcykpO1xufVxuXG5jb25zb2xlLmxvZyhzYXRlbGxpdGVzKTtcblxudmFyIGhhbmRsZXIgPSBuZXcgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyKHZpZXdlci5zY2VuZS5jYW52YXMpO1xuaGFuZGxlci5zZXRJbnB1dEFjdGlvbihmdW5jdGlvbiAoY2xpY2spIHtcbiAgdmFyIHBpY2tlZE9iamVjdCA9IHZpZXdlci5zY2VuZS5waWNrKGNsaWNrLnBvc2l0aW9uKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzYXRlbGxpdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKENlc2l1bS5kZWZpbmVkKHBpY2tlZE9iamVjdCkgJiYgKHBpY2tlZE9iamVjdC5pZCA9PSBzYXRlbGxpdGVzW2ldLm9iamVjdCkpIHtcbiAgICAgIHZpZXdlci5zZWxlY3RlZEVudGl0eSA9IHNhdGVsbGl0ZXNbaV0ucG9wdXA7XG4gICAgfVxuICB9XG59LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTEVGVF9DTElDSyk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIHZhciBwYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJhbmdlLXNsaWRlclwiKTtcbiAgICBpZiAoIXBhcmVudCkgcmV0dXJuO1xuXG4gICAgdmFyXG4gICAgICAgIHJhbmdlUyA9IHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRbdHlwZT1yYW5nZV1cIiksXG4gICAgICAgIG51bWJlclMgPSBwYXJlbnQucXVlcnlTZWxlY3RvckFsbChcImlucHV0W3R5cGU9bnVtYmVyXVwiKTtcblxuICAgIHJhbmdlUy5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgIGVsLm9uaW5wdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzbGlkZTEgPSBwYXJzZUZsb2F0KHJhbmdlU1swXS52YWx1ZSksXG4gICAgICAgICAgICAgICAgc2xpZGUyID0gcGFyc2VGbG9hdChyYW5nZVNbMV0udmFsdWUpO1xuXG4gICAgICAgICAgICBpZiAoc2xpZGUxID4gc2xpZGUyKSB7XG4gICAgICAgICAgICAgICAgW3NsaWRlMSwgc2xpZGUyXSA9IFtzbGlkZTIsIHNsaWRlMV07XG4gICAgICAgICAgICAgICAgLy8gdmFyIHRtcCA9IHNsaWRlMjtcbiAgICAgICAgICAgICAgICAvLyBzbGlkZTIgPSBzbGlkZTE7XG4gICAgICAgICAgICAgICAgLy8gc2xpZGUxID0gdG1wO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBudW1iZXJTWzBdLnZhbHVlID0gc2xpZGUxO1xuICAgICAgICAgICAgbnVtYmVyU1sxXS52YWx1ZSA9IHNsaWRlMjtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgbnVtYmVyUy5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgIGVsLm9uaW5wdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBudW1iZXIxID0gcGFyc2VGbG9hdChudW1iZXJTWzBdLnZhbHVlKSxcbiAgICAgICAgICAgICAgICBudW1iZXIyID0gcGFyc2VGbG9hdChudW1iZXJTWzFdLnZhbHVlKTtcblxuICAgICAgICAgICAgaWYgKG51bWJlcjEgPiBudW1iZXIyKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRtcCA9IG51bWJlcjE7XG4gICAgICAgICAgICAgICAgbnVtYmVyU1swXS52YWx1ZSA9IG51bWJlcjI7XG4gICAgICAgICAgICAgICAgbnVtYmVyU1sxXS52YWx1ZSA9IHRtcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmFuZ2VTWzBdLnZhbHVlID0gbnVtYmVyMTtcbiAgICAgICAgICAgIHJhbmdlU1sxXS52YWx1ZSA9IG51bWJlcjI7XG5cbiAgICAgICAgfVxuICAgIH0pO1xuXG59KSgpOyJdfQ==
