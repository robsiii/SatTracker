"use strict";function geodGBL(){var e;"undefined"==(e=void 0===EARTH_A?"undefined":_typeof(EARTH_A))&&wgs84()}function earthcon(e,t){var n,a,r,i,s;i=Number(e),s=Number(t),n=1-s/i,r=1-s*s/(i*i),a=Math.sqrt(r),EARTH_A=i,EARTH_B=s,EARTH_F=n,EARTH_Ecc=a,EARTH_Esq=r}function wgs84(){var e,t,n;e=6378.137,n=1/298.257223563,t=e*(1-n),earthcon(e,t)}function radcur(e){var t,n,a,r,i,s,o,c,u,l,h,d,p,m,f,v,y=new Array(3),b=Math.PI/180;return geodGBL(),t=EARTH_A,n=EARTH_B,r=t*t,i=n*n,s=1-i/r,Math.sqrt(s),a=Number(e),o=Math.cos(b*a),c=Math.sin(b*a),u=1-s*c*c,l=Math.sqrt(u),h=t/l,d=h*(1-s)/u,p=h*o,v=(1-s)*h*c,m=p*p+v*v,f=Math.sqrt(m),y[0]=f,y[1]=h,y[2]=d,y}function rearth(e){var t,n;return n=Number(e),t=radcur(n),t[0]}function gc2gd(e,t){var n,a,r,i,s,o,c,u,l,h=Math.PI/180,d=1/h,p=new Array(3);return geodGBL(),a=Number(e),r=Number(t),s=EARTH_Ecc,o=s*s,u=r,p=radcur(a),i=p[1],l=1-o*i/(i+u),c=Math.tan(h*a)/l,n=d*Math.atan(c),p=radcur(n),i=p[1],l=1-o*i/(i+u),c=Math.tan(h*a)/l,n=d*Math.atan(c)}function gd2gc(e,t){var n,a,r,i,s,o,c,u,l=Math.PI/180,h=1/l,d=new Array(3);return geodGBL(),n=Number(e),a=Number(t),i=EARTH_Ecc,s=i*i,c=a,d=radcur(n),r=d[1],u=1-s*r/(r+c),o=Math.tan(l*n)*u,h*Math.atan(o)}function llenu(e,t){var n,a,r,i,s,o,c,u=new Array(3),l=new Array(3),h=new Array(3),d=new Array(3),r=Math.PI/180;return n=Number(e),a=Number(t),i=Math.cos(r*n),s=Math.sin(r*n),o=Math.cos(r*a),c=Math.sin(r*a),u[0]=-c,u[1]=o,u[2]=0,l[0]=-o*s,l[1]=-c*s,l[2]=i,h[0]=o*i,h[1]=c*i,h[2]=s,d[0]=u,d[1]=l,d[2]=h,d}function xyzllh(e){var t,n,a,r,i,s,o,c,u,l,h,d,p,m,f,v,y,b,A,E=Math.PI/180,M=new Array(3),_=new Array(3);if(geodGBL(),m=EARTH_Esq,s=e[0],o=e[1],c=e[2],s=Number(s),o=Number(o),c=Number(c),i=Math.sqrt(s*s+o*o+c*c),t=Math.asin(c/i)/E,h=Math.abs(s)+Math.abs(o),b=h<1e-10?0:Math.atan2(o,s)/E,b<0&&(b+=360),(u=Math.sqrt(s*s+o*o))<1e-10)return y=90,c<0&&(y=-90),A=i-rearth(y),_[0]=y,_[1]=b,_[2]=A,_;r=rearth(t),A=i-r,y=gc2gd(t,A),M=radcur(y),p=M[1];for(var d=0;d<5&&(v=Math.sin(E*y),l=(c+p*m*v)/u,n=Math.atan(l)/E,a=n-y,y=n,f=Math.cos(E*y),M=radcur(y),p=M[1],A=u/f-p,!(Math.abs(a)<1e-12));d++);return _[0]=y,_[1]=b,_[2]=A,_}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EARTH_A,EARTH_B,EARTH_F,EARTH_Ecc,EARTH_Esq,_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),viewer=new Cesium.Viewer("cesiumContainer",{fullscreenButton:!1,baseLayerPicker:!1,timeline:!1,homeButton:!1,infoBoxe:!1,navigationHelpButton:!1,selectionIndicator:!1,vrButton:!1,geocoder:!1,sceneModePicker:!1,animation:!1});document.querySelector(".cesium-viewer-bottom").style.display="none";for(var sat=function(){function e(t,n,a,r,i){_classCallCheck(this,e);var s=this;this.name=t,this.date=a,this.id=n,this.true_pos=i,this.pos=xyzllh(i),this.infos=r,this.object=new Cesium.Entity({id:this.id,name:this.name,position:new Cesium.Cartesian3.fromDegrees(this.pos[0],this.pos[1],1e3*this.pos[2]),ellipsoid:{radii:new Cesium.Cartesian3(5e4,5e4,5e4),material:Cesium.Color.RED},label:{text:this.name,font:"10pt monospace",style:Cesium.LabelStyle.FILL_AND_OUTLINE,outlineWidth:2,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:new Cesium.Cartesian2(0,-25)}}),this.popup=new Cesium.Entity(this.name),this.popup.description={getValue:function(){return'<div class="pop_up"><div class="exit"></div><h2>'+s.name+"</h2><p>Lauched : "+s.date+"</p><p> Country : "+s.infos.country+"</p><p> Function : "+s.infos.discipline+"</p><p> Mass : "+s.infos.mass+"</p><p>Description : "+s.infos.description+"</p></div>"}},this.create()}return _createClass(e,[{key:"create",value:function(){viewer.entities.add(this.object)}}]),e}(),satellites=[],i=0;i<sats.length;i++)satellites.push(new sat(sats[i].name,sats[i].id,sats[i].date,sats[i].infos,sats[i].pos));console.log(satellites);var handler=new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas);handler.setInputAction(function(e){for(var t=viewer.scene.pick(e.position),n=0;n<satellites.length;n++)Cesium.defined(t)&&t.id==satellites[n].object&&(viewer.selectedEntity=satellites[n].popup)},Cesium.ScreenSpaceEventType.LEFT_CLICK);var cross=document.querySelector("#cross"),menu=document.querySelector(".left_menu"),cross_div=document.querySelector(".exit");cross.addEventListener("click",function(){"true"==this.getAttribute("data-open")?(this.setAttribute("data-open",!1),menu.classList.remove("active"),cross_div.classList.remove("active")):(this.setAttribute("data-open",!0),menu.classList.add("active"),cross_div.classList.add("active"))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnZlcnRlci5qcyIsInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJnZW9kR0JMIiwidHN0Z2xvYmFsIiwiRUFSVEhfQSIsIl90eXBlb2YiLCJ3Z3M4NCIsImVhcnRoY29uIiwiYWkiLCJiaSIsImYiLCJlY2MiLCJlY2NzcSIsImEiLCJiIiwiTnVtYmVyIiwiTWF0aCIsInNxcnQiLCJFQVJUSF9CIiwiRUFSVEhfRiIsIkVBUlRIX0VjYyIsIkVBUlRIX0VzcSIsIndnczg0YSIsIndnczg0YiIsIndnczg0ZiIsInJhZGN1ciIsImxhdGkiLCJsYXQiLCJhc3EiLCJic3EiLCJjbGF0Iiwic2xhdCIsImRzcSIsImQiLCJybiIsInJtIiwicmhvIiwicnNxIiwiciIsInoiLCJycm5ybSIsIkFycmF5IiwiZHRyIiwiUEkiLCJjb3MiLCJzaW4iLCJyZWFydGgiLCJnYzJnZCIsImZsYXRnY2kiLCJhbHRrbWkiLCJmbGF0Z2QiLCJmbGF0Z2MiLCJhbHRrbSIsImVzcSIsInRsYXQiLCJhbHRub3ciLCJyYXRpbyIsInJ0ZCIsInRhbiIsImF0YW4iLCJnZDJnYyIsImZsYXRnZGkiLCJsbGVudSIsImZsYXRpIiwiZmxvbmkiLCJmbGF0IiwiZmxvbiIsImNsb24iLCJzbG9uIiwiZWUiLCJlbiIsImV1IiwiZW51IiwieHl6bGxoIiwieHZlYyIsImZsYXRuIiwiZGxhdCIsInJub3ciLCJycCIsIngiLCJ5IiwicCIsInRhbmdkIiwidGVzdHZhbCIsImtvdW50IiwibGxodmVjIiwiYXNpbiIsImFicyIsImF0YW4yIiwidmlld2VyIiwiQ2VzaXVtIiwiVmlld2VyIiwiZnVsbHNjcmVlbkJ1dHRvbiIsImJhc2VMYXllclBpY2tlciIsInRpbWVsaW5lIiwiaG9tZUJ1dHRvbiIsImluZm9Cb3hlIiwibmF2aWdhdGlvbkhlbHBCdXR0b24iLCJzZWxlY3Rpb25JbmRpY2F0b3IiLCJ2ckJ1dHRvbiIsImdlb2NvZGVyIiwic2NlbmVNb2RlUGlja2VyIiwiYW5pbWF0aW9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic3R5bGUiLCJkaXNwbGF5Iiwic2F0IiwibmFtZSIsImlkIiwiZGF0ZSIsImluZm9zIiwicG9zIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsInRoYXQiLCJ0cnVlX3BvcyIsIm9iamVjdCIsIkVudGl0eSIsInBvc2l0aW9uIiwiQ2FydGVzaWFuMyIsImZyb21EZWdyZWVzIiwiZWxsaXBzb2lkIiwicmFkaWkiLCJtYXRlcmlhbCIsIkNvbG9yIiwiUkVEIiwibGFiZWwiLCJ0ZXh0IiwiZm9udCIsIkxhYmVsU3R5bGUiLCJGSUxMX0FORF9PVVRMSU5FIiwib3V0bGluZVdpZHRoIiwidmVydGljYWxPcmlnaW4iLCJWZXJ0aWNhbE9yaWdpbiIsIkJPVFRPTSIsInBpeGVsT2Zmc2V0IiwiQ2FydGVzaWFuMiIsInBvcHVwIiwiZGVzY3JpcHRpb24iLCJnZXRWYWx1ZSIsImNvdW50cnkiLCJkaXNjaXBsaW5lIiwibWFzcyIsImNyZWF0ZSIsImVudGl0aWVzIiwiYWRkIiwic2F0ZWxsaXRlcyIsImkiLCJzYXRzIiwibGVuZ3RoIiwicHVzaCIsImNvbnNvbGUiLCJsb2ciLCJoYW5kbGVyIiwiU2NyZWVuU3BhY2VFdmVudEhhbmRsZXIiLCJzY2VuZSIsImNhbnZhcyIsInNldElucHV0QWN0aW9uIiwiY2xpY2siLCJwaWNrZWRPYmplY3QiLCJwaWNrIiwiZGVmaW5lZCIsInNlbGVjdGVkRW50aXR5IiwiU2NyZWVuU3BhY2VFdmVudFR5cGUiLCJMRUZUX0NMSUNLIiwiY3Jvc3MiLCJtZW51IiwiY3Jvc3NfZGl2IiwiYWRkRXZlbnRMaXN0ZW5lciIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsImNsYXNzTGlzdCIsInJlbW92ZSJdLCJtYXBwaW5ncyI6IllBa0JBLFNBQVNBLFdBS1AsR0FBSUMsRUFHYSxlQURqQkEsRUFBQSxTQUFtQkMsUUFBbkIsWUFBQUMsUUFBbUJELFdBQ1dFLFFBTWhDLFFBQVNDLFVBQVNDLEVBQUlDLEdBU3BCLEdBQUlDLEdBQUdDLEVBQUtDLEVBQU9DLEVBQUdDLENBRXRCRCxHQUFJRSxPQUFPUCxHQUNYTSxFQUFJQyxPQUFPTixHQUVYQyxFQUFJLEVBQUlJLEVBQUlELEVBQ1pELEVBQVEsRUFBSUUsRUFBSUEsR0FBS0QsRUFBSUEsR0FDekJGLEVBQU1LLEtBQUtDLEtBQUtMLEdBRWhCUixRQUFVUyxFQUNWSyxRQUFVSixFQUNWSyxRQUFVVCxFQUNWVSxVQUFZVCxFQUNaVSxVQUFZVCxFQU1kLFFBQVNOLFNBVVAsR0FBSWdCLEdBQVFDLEVBQVFDLENBRXBCRixHQUFTLFNBQ1RFLEVBQVMsRUFBTSxjQUNmRCxFQUFTRCxHQUFVLEVBQU1FLEdBRXpCakIsU0FBU2UsRUFBUUMsR0FPbkIsUUFBU0UsUUFBT0MsR0FlZCxHQUlJYixHQUFHQyxFQUFHYSxFQUNOQyxFQUFLQyxFQUFLakIsRUFBWWtCLEVBQU1DLEVBQzVCQyxFQUFLQyxFQUFHQyxFQUFJQyxFQUFJQyxFQUFLQyxFQUFLQyxFQUFHQyxFQU43QkMsRUFBUSxHQUFJQyxPQUFNLEdBRWxCQyxFQUFNMUIsS0FBSzJCLEdBQUssR0FzQ3BCLE9BOUJBekMsV0FFQVcsRUFBSVQsUUFDSlUsRUFBSUksUUFFSlUsRUFBTWYsRUFBSUEsRUFDVmdCLEVBQU1mLEVBQUlBLEVBQ1ZGLEVBQVEsRUFBSWlCLEVBQU1ELEVBQ1paLEtBQUtDLEtBQUtMLEdBRWhCZSxFQUFNWixPQUFPVyxHQUViSSxFQUFPZCxLQUFLNEIsSUFBSUYsRUFBTWYsR0FDdEJJLEVBQU9mLEtBQUs2QixJQUFJSCxFQUFNZixHQUV0QkssRUFBTSxFQUFNcEIsRUFBUW1CLEVBQU9BLEVBQzNCRSxFQUFJakIsS0FBS0MsS0FBS2UsR0FFZEUsRUFBS3JCLEVBQUlvQixFQUNURSxFQUFLRCxHQUFNLEVBQU10QixHQUFTb0IsRUFFMUJJLEVBQU1GLEVBQUtKLEVBQ1hTLEdBQUssRUFBTTNCLEdBQVNzQixFQUFLSCxFQUN6Qk0sRUFBTUQsRUFBTUEsRUFBTUcsRUFBSUEsRUFDdEJELEVBQUl0QixLQUFLQyxLQUFLb0IsR0FFZEcsRUFBTSxHQUFLRixFQUNYRSxFQUFNLEdBQUtOLEVBQ1hNLEVBQU0sR0FBS0wsRUFFSEssRUFRVixRQUFTTSxRQUFPcEIsR0FDZCxHQUFJYyxHQUFVYixDQU9kLE9BTEFBLEdBQU1aLE9BQU9XLEdBRWJjLEVBQVFmLE9BQU9FLEdBQ1hhLEVBQU0sR0FTWixRQUFTTyxPQUFNQyxFQUFTQyxHQWN0QixHQUdJQyxHQUFRQyxFQUFRQyxFQUVabEIsRUFBSXZCLEVBQUswQyxFQUNEQyxFQUNaQyxFQUFRQyxFQVBSZCxFQUFNMUIsS0FBSzJCLEdBQUssSUFDaEJjLEVBQU0sRUFBSWYsRUFHVkYsRUFBUSxHQUFJQyxPQUFNLEVBbUN0QixPQTlCQXZDLFdBRUFpRCxFQUFTcEMsT0FBT2lDLEdBQ2hCSSxFQUFRckMsT0FBT2tDLEdBRWZ0QyxFQUFNUyxVQUNOaUMsRUFBTTFDLEVBQU1BLEVBS1o0QyxFQUFTSCxFQUVUWixFQUFRZixPQUFPMEIsR0FDZmpCLEVBQUtNLEVBQU0sR0FFWGdCLEVBQVEsRUFBSUgsRUFBTW5CLEdBQU1BLEVBQUtxQixHQUU3QkQsRUFBT3RDLEtBQUswQyxJQUFJaEIsRUFBTVMsR0FBVUssRUFDaENOLEVBQVNPLEVBQU16QyxLQUFLMkMsS0FBS0wsR0FJekJkLEVBQVFmLE9BQU95QixHQUNmaEIsRUFBS00sRUFBTSxHQUVYZ0IsRUFBUSxFQUFJSCxFQUFNbkIsR0FBTUEsRUFBS3FCLEdBQzdCRCxFQUFPdEMsS0FBSzBDLElBQUloQixFQUFNUyxHQUFVSyxFQUNoQ04sRUFBU08sRUFBTXpDLEtBQUsyQyxLQUFLTCxHQVUzQixRQUFTTSxPQUFNQyxFQUFTWixHQWN0QixHQUdZQyxHQUFRRSxFQUVabEIsRUFBSXZCLEVBQUswQyxFQUNEQyxFQUNaQyxFQUFRQyxFQVBSZCxFQUFNMUIsS0FBSzJCLEdBQUssSUFDaEJjLEVBQU0sRUFBSWYsRUFHVkYsRUFBUSxHQUFJQyxPQUFNLEVBdUJ0QixPQWxCQXZDLFdBRUFnRCxFQUFTbkMsT0FBTzhDLEdBQ2hCVCxFQUFRckMsT0FBT2tDLEdBRWZ0QyxFQUFNUyxVQUNOaUMsRUFBTTFDLEVBQU1BLEVBRVo0QyxFQUFTSCxFQUVUWixFQUFRZixPQUFPeUIsR0FDZmhCLEVBQUtNLEVBQU0sR0FFWGdCLEVBQVEsRUFBSUgsRUFBTW5CLEdBQU1BLEVBQUtxQixHQUU3QkQsRUFBT3RDLEtBQUswQyxJQUFJaEIsRUFBTVEsR0FBVU0sRUFDdkJDLEVBQU16QyxLQUFLMkMsS0FBS0wsR0FTM0IsUUFBU1EsT0FBTUMsRUFBT0MsR0FlcEIsR0FBSUMsR0FBTUMsRUFDTnhCLEVBQUtaLEVBQU1DLEVBQU1vQyxFQUFNQyxFQUN2QkMsRUFBSyxHQUFJNUIsT0FBTSxHQUNmNkIsRUFBSyxHQUFJN0IsT0FBTSxHQUNmOEIsRUFBSyxHQUFJOUIsT0FBTSxHQUVmK0IsRUFBTSxHQUFJL0IsT0FBTSxHQUVoQkMsRUFBTTFCLEtBQUsyQixHQUFLLEdBNkJwQixPQXhCQXNCLEdBQU9sRCxPQUFPZ0QsR0FDZEcsRUFBT25ELE9BQU9pRCxHQUVkbEMsRUFBT2QsS0FBSzRCLElBQUlGLEVBQU11QixHQUN0QmxDLEVBQU9mLEtBQUs2QixJQUFJSCxFQUFNdUIsR0FDdEJFLEVBQU9uRCxLQUFLNEIsSUFBSUYsRUFBTXdCLEdBQ3RCRSxFQUFPcEQsS0FBSzZCLElBQUlILEVBQU13QixHQUV0QkcsRUFBRyxJQUFNRCxFQUNUQyxFQUFHLEdBQUtGLEVBQ1JFLEVBQUcsR0FBSyxFQUVSQyxFQUFHLElBQU1ILEVBQU9wQyxFQUNoQnVDLEVBQUcsSUFBTUYsRUFBT3JDLEVBQ2hCdUMsRUFBRyxHQUFLeEMsRUFFUnlDLEVBQUcsR0FBS0osRUFBT3JDLEVBQ2Z5QyxFQUFHLEdBQUtILEVBQU90QyxFQUNmeUMsRUFBRyxHQUFLeEMsRUFFUnlDLEVBQUksR0FBS0gsRUFDVEcsRUFBSSxHQUFLRixFQUNURSxFQUFJLEdBQUtELEVBRUZDLEVBTVQsUUFBU0MsUUFBT0MsR0FrQmQsR0FDSXZCLEdBQVF3QixFQUFPQyxFQUNmQyxFQUFNQyxFQUNOQyxFQUFHQyxFQUFHekMsRUFBRzBDLEVBQ0ZDLEVBRVBDLEVBQVNDLEVBRVRsRCxFQUFJbUIsRUFDSnZCLEVBQU1DLEVBR05rQyxFQUFNQyxFQUFNZCxFQVpaVixFQUFNMUIsS0FBSzJCLEdBQUssSUFVaEJILEVBQVEsR0FBSUMsT0FBTSxHQUdsQjRDLEVBQVMsR0FBSTVDLE9BQU0sRUFpQ3ZCLElBOUJBdkMsVUFFQW1ELEVBQU1oQyxVQUVOMEQsRUFBSUwsRUFBSyxHQUNUTSxFQUFJTixFQUFLLEdBQ1RuQyxFQUFJbUMsRUFBSyxHQUVUSyxFQUFJaEUsT0FBT2dFLEdBQ1hDLEVBQUlqRSxPQUFPaUUsR0FDWHpDLEVBQUl4QixPQUFPd0IsR0FFWHVDLEVBQUs5RCxLQUFLQyxLQUFLOEQsRUFBSUEsRUFBSUMsRUFBSUEsRUFBSXpDLEVBQUlBLEdBRW5DWSxFQUFTbkMsS0FBS3NFLEtBQUsvQyxFQUFJdUMsR0FBTXBDLEVBRTdCeUMsRUFBVW5FLEtBQUt1RSxJQUFJUixHQUFLL0QsS0FBS3VFLElBQUlQLEdBRS9CZCxFQURFaUIsRUFBVSxNQUNMLEVBRUFuRSxLQUFLd0UsTUFBTVIsRUFBR0QsR0FBS3JDLEVBRXhCd0IsRUFBTyxJQUNUQSxHQUFjLE1BR2hCZSxFQUFJakUsS0FBS0MsS0FBSzhELEVBQUlBLEVBQUlDLEVBQUlBLElBSWxCLE1BV04sTUFWQWYsR0FBTyxHQUNIMUIsRUFBSSxJQUNOMEIsR0FBUSxJQUdWYixFQUFRMEIsRUFBS2hDLE9BQU9tQixHQUNwQm9CLEVBQU8sR0FBS3BCLEVBQ1pvQixFQUFPLEdBQUtuQixFQUNabUIsRUFBTyxHQUFLakMsRUFFTGlDLENBTVRSLEdBQU8vQixPQUFPSyxHQUNkQyxFQUFRMEIsRUFBS0QsRUFDYlosRUFBT2xCLE1BQU1JLEVBQVFDLEdBRXJCWixFQUFRZixPQUFPd0MsR0FDZi9CLEVBQUtNLEVBQU0sRUFFWCxLQUFLLEdBQUk0QyxHQUFRLEVBQUdBLEVBQVEsSUFDMUJyRCxFQUFPZixLQUFLNkIsSUFBSUgsRUFBTXVCLEdBQ3RCaUIsR0FBUzNDLEVBQUlMLEVBQUttQixFQUFNdEIsR0FBUWtELEVBQ2hDTixFQUFRM0QsS0FBSzJDLEtBQUt1QixHQUFTeEMsRUFFM0JrQyxFQUFPRCxFQUFRVixFQUNmQSxFQUFPVSxFQUNQN0MsRUFBT2QsS0FBSzRCLElBQUlGLEVBQU11QixHQUV0QnpCLEVBQVFmLE9BQU93QyxHQUNmL0IsRUFBS00sRUFBTSxHQUVYWSxFQUFTNkIsRUFBSW5ELEVBQVFJLElBRWpCbEIsS0FBS3VFLElBQUlYLEdBQVEsUUFkUVEsS0F3Qi9CLE1BSkFDLEdBQU8sR0FBS3BCLEVBQ1pvQixFQUFPLEdBQUtuQixFQUNabUIsRUFBTyxHQUFLakMsRUFFTGlDLG9VQTlhTGpGLFFBQ0FjLFFBQ0FDLFFBQ0FDLFVBQ0FDLDBRQ2RBb0UsT0FBUyxHQUFJQyxRQUFPQyxPQUFPLG1CQUU3QkMsa0JBQWtCLEVBQ2xCQyxpQkFBaUIsRUFDakJDLFVBQVUsRUFDVkMsWUFBWSxFQUNaQyxVQUFVLEVBQ1ZDLHNCQUFzQixFQUN0QkMsb0JBQW9CLEVBQ3BCQyxVQUFVLEVBQ1ZDLFVBQVUsRUFDVkMsaUJBQWlCLEVBQ2pCQyxXQUFXLEdBT2JDLFVBQVNDLGNBQWMseUJBQXlCQyxNQUFNQyxRQUFVLE1BK0NoRSxLQUFLLEdBN0NDQyxLQUFBQSxXQUNKLFFBQUFBLEdBQVlDLEVBQU1DLEVBQUlDLEVBQU1DLEVBQU9DLEdBQUtDLGdCQUFBQyxLQUFBUCxFQUN0QyxJQUFJUSxHQUFPRCxJQUNYQSxNQUFLTixLQUFPQSxFQUNaTSxLQUFLSixLQUFPQSxFQUNaSSxLQUFLTCxHQUFLQSxFQUNWSyxLQUFLRSxTQUFXSixFQUNoQkUsS0FBS0YsSUFBTXZDLE9BQU91QyxHQUNsQkUsS0FBS0gsTUFBUUEsRUFDYkcsS0FBS0csT0FBUyxHQUFJM0IsUUFBTzRCLFFBQ3ZCVCxHQUFJSyxLQUFLTCxHQUNURCxLQUFNTSxLQUFLTixLQUNYVyxTQUFVLEdBQUk3QixRQUFPOEIsV0FBV0MsWUFBWVAsS0FBS0YsSUFBSSxHQUFJRSxLQUFLRixJQUFJLEdBQWtCLElBQWRFLEtBQUtGLElBQUksSUFDL0VVLFdBQ0VDLE1BQU8sR0FBSWpDLFFBQU84QixXQUFXLElBQVMsSUFBUyxLQUMvQ0ksU0FBVWxDLE9BQU9tQyxNQUFNQyxLQUd6QkMsT0FDRUMsS0FBTWQsS0FBS04sS0FDWHFCLEtBQU0saUJBQ054QixNQUFPZixPQUFPd0MsV0FBV0MsaUJBQ3pCQyxhQUFjLEVBQ2RDLGVBQWdCM0MsT0FBTzRDLGVBQWVDLE9BQ3RDQyxZQUFhLEdBQUk5QyxRQUFPK0MsV0FBVyxHQUFJLE9BSTNDdkIsS0FBS3dCLE1BQVEsR0FBSWhELFFBQU80QixPQUFPSixLQUFLTixNQUNwQ00sS0FBS3dCLE1BQU1DLGFBQ1RDLFNBQVUsV0FDUixNQUFPLG1EQUFxRHpCLEVBQUtQLEtBQU8scUJBQXVCTyxFQUFLTCxLQUFPLHFCQUF1QkssRUFBS0osTUFBTThCLFFBQVUsc0JBQXdCMUIsRUFBS0osTUFBTStCLFdBQWEsa0JBQW9CM0IsRUFBS0osTUFBTWdDLEtBQU8sd0JBQTBCNUIsRUFBS0osTUFBTTRCLFlBQWMsZUFJcFN6QixLQUFLOEIsK0RBSUx2RCxPQUFPd0QsU0FBU0MsSUFBSWhDLEtBQUtHLGlCQUl6QjhCLGNBRUtDLEVBQUksRUFBR0EsRUFBSUMsS0FBS0MsT0FBUUYsSUFDL0JELFdBQVdJLEtBQUssR0FBSTVDLEtBQUkwQyxLQUFLRCxHQUFHeEMsS0FBTXlDLEtBQUtELEdBQUd2QyxHQUFJd0MsS0FBS0QsR0FBR3RDLEtBQU11QyxLQUFLRCxHQUFHckMsTUFBT3NDLEtBQUtELEdBQUdwQyxLQUd6RndDLFNBQVFDLElBQUlOLFdBRVosSUFBSU8sU0FBVSxHQUFJaEUsUUFBT2lFLHdCQUF3QmxFLE9BQU9tRSxNQUFNQyxPQUM5REgsU0FBUUksZUFBZSxTQUFVQyxHQUUvQixJQUFLLEdBRERDLEdBQWV2RSxPQUFPbUUsTUFBTUssS0FBS0YsRUFBTXhDLFVBQ2xDNkIsRUFBSSxFQUFHQSxFQUFJRCxXQUFXRyxPQUFRRixJQUNqQzFELE9BQU93RSxRQUFRRixJQUFrQkEsRUFBYW5ELElBQU1zQyxXQUFXQyxHQUFHL0IsU0FDcEU1QixPQUFPMEUsZUFBaUJoQixXQUFXQyxHQUFHVixRQUd6Q2hELE9BQU8wRSxxQkFBcUJDLFdBRS9CLElBQUlDLE9BQVEvRCxTQUFTQyxjQUFjLFVBQy9CK0QsS0FBT2hFLFNBQVNDLGNBQWMsY0FDOUJnRSxVQUFZakUsU0FBU0MsY0FBYyxRQUN2QzhELE9BQU1HLGlCQUFpQixRQUFTLFdBQ08sUUFBbEN2RCxLQUFLd0QsYUFBYSxjQUNuQnhELEtBQUt5RCxhQUFhLGFBQVksR0FDOUJKLEtBQUtLLFVBQVVDLE9BQU8sVUFDdEJMLFVBQVVJLFVBQVVDLE9BQU8sWUFFM0IzRCxLQUFLeUQsYUFBYSxhQUFZLEdBQzlCSixLQUFLSyxVQUFVMUIsSUFBSSxVQUNuQnNCLFVBQVVJLFVBQVUxQixJQUFJIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiAgICAgICAgICAgICBnZW9kZXN5IHJvdXRpbmVzIGluIEphdmFTY3JpcHRcbiAgICAgICAgICAgICAgICAgSmFtZXMgUi4gQ2x5bmNoIE5QUyAvIDIwMDNcbiAgICAgICAgICAgICAgIFxuICAgICAgICAgIERvbmUgZm9yIHN1cHBvcnQgb2Ygd2ViIGVkdWNhdGlvbiBwYWdlc1xuXG5cbiAgICAgICAgICA9PSBtdXN0IGNvbnZlcnQgaW5wdXRzIHRvIG51bWJlcnMgZm9yIHNhZmV0eSA9PVxuICAgICAgICAgID09IGlmIHN0cmluZyBjb21lcyBpbiAtIHNvbWV0aW1lcyB3b3Jrcywgc29tZXRpbWVzIG5vdCAhPT1cbiovXG5cbnZhciBFQVJUSF9BO1xudmFyIEVBUlRIX0I7XG52YXIgRUFSVEhfRjtcbnZhciBFQVJUSF9FY2M7XG52YXIgRUFSVEhfRXNxO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5mdW5jdGlvbiBnZW9kR0JMKClcblxuLy8gICAgICAgICAgICAgdGVzdCBhbmQgZW5zdXJlIGdlb2Rlc3kgZ2xvYmFscyBsb2FkZWRcbntcblxuICB2YXIgdHN0Z2xvYmFsXG5cbiAgdHN0Z2xvYmFsID0gdHlwZW9mIEVBUlRIX0E7XG4gIGlmICh0c3RnbG9iYWwgPT0gXCJ1bmRlZmluZWRcIikgd2dzODQoKVxuXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIGVhcnRoY29uKGFpLCBiaSlcblxuLyogICAgICAgIFNldHMgRWFydGggQ29uc3RhbnRzIGFzIGdsb2JhbHNcbiAgICAgICAgICAgICAtLSAgaW5wdXQgYSxiXG4gICAgICAgICAgICAgLS0gIExlYXZlcyBHbG9iYWxzIFxuICAgICAgICAgICAgICAgICBFQVJUSF9BICAgICAgRUFSVEhfQiAgIEVBUlRIX0YgIEVBUlRIX0VjY1xuKi9cblxue1xuICB2YXIgZiwgZWNjLCBlY2NzcSwgYSwgYlxuXG4gIGEgPSBOdW1iZXIoYWkpO1xuICBiID0gTnVtYmVyKGJpKTtcblxuICBmID0gMSAtIGIgLyBhO1xuICBlY2NzcSA9IDEgLSBiICogYiAvIChhICogYSk7XG4gIGVjYyA9IE1hdGguc3FydChlY2NzcSk7XG5cbiAgRUFSVEhfQSA9IGE7XG4gIEVBUlRIX0IgPSBiO1xuICBFQVJUSF9GID0gZjtcbiAgRUFSVEhfRWNjID0gZWNjO1xuICBFQVJUSF9Fc3EgPSBlY2NzcTtcbn1cblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5mdW5jdGlvbiB3Z3M4NCgpXG5cbi8qICAgICAgICBXR1M4NCBFYXJ0aCBDb25zdGFudHNcbiAgICAgICAgICAgICAtLSAgcmV0dXJucyBhLGIsZixlICAtLVxuICAgICAgICAgICAgIC0tICBMZWF2ZXMgR2xvYmFscyBcbiAgICAgICAgICAgICAgICAgRUFSVEhfQSAgICAgIEVBUlRIX0IgICBFQVJUSF9GICBFQVJUSF9FY2NcblxuKi9cblxue1xuICB2YXIgd2dzODRhLCB3Z3M4NGIsIHdnczg0ZlxuXG4gIHdnczg0YSA9IDYzNzguMTM3O1xuICB3Z3M4NGYgPSAxLjAgLyAyOTguMjU3MjIzNTYzO1xuICB3Z3M4NGIgPSB3Z3M4NGEgKiAoMS4wIC0gd2dzODRmKTtcblxuICBlYXJ0aGNvbih3Z3M4NGEsIHdnczg0Yik7XG5cbn1cblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5mdW5jdGlvbiByYWRjdXIobGF0aSlcblxuLypcbiAgICAgICBjb21wdXRlIHRoZSByYWRpaSBhdCB0aGUgZ2VvZGV0aWMgbGF0aXR1ZGUgbGF0IChpbiBkZWdyZWVzKVxuICAgICBcbiAgICAgaW5wdXQ6XG4gICAgICAgICAgICAgICBsYXQgICAgICAgZ2VvZGV0aWMgbGF0aXR1ZGUgaW4gZGVncmVlc1xuICAgICBvdXRwdXQ6ICAgXG4gICAgICAgICAgICAgICBycm5ybSAgICAgYW4gYXJyYXkgMyBsb25nXG4gICAgICAgICAgICAgICAgICAgICAgICAgciwgIHJuLCAgcm0gICBpbiBrbVxuXG4qL1xuXG57XG5cbiAgdmFyIHJybnJtID0gbmV3IEFycmF5KDMpXG5cbiAgdmFyIGR0ciA9IE1hdGguUEkgLyAxODAuMFxuXG4gIHZhciBhLCBiLCBsYXRcbiAgdmFyIGFzcSwgYnNxLCBlY2NzcSwgZWNjLCBjbGF0LCBzbGF0XG4gIHZhciBkc3EsIGQsIHJuLCBybSwgcmhvLCByc3EsIHIsIHpcblxuICAvLyAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIGdlb2RHQkwoKTtcblxuICBhID0gRUFSVEhfQTtcbiAgYiA9IEVBUlRIX0I7XG5cbiAgYXNxID0gYSAqIGE7XG4gIGJzcSA9IGIgKiBiO1xuICBlY2NzcSA9IDEgLSBic3EgLyBhc3E7XG4gIGVjYyA9IE1hdGguc3FydChlY2NzcSk7XG5cbiAgbGF0ID0gTnVtYmVyKGxhdGkpO1xuXG4gIGNsYXQgPSBNYXRoLmNvcyhkdHIgKiBsYXQpO1xuICBzbGF0ID0gTWF0aC5zaW4oZHRyICogbGF0KTtcblxuICBkc3EgPSAxLjAgLSBlY2NzcSAqIHNsYXQgKiBzbGF0O1xuICBkID0gTWF0aC5zcXJ0KGRzcSk7XG5cbiAgcm4gPSBhIC8gZDtcbiAgcm0gPSBybiAqICgxLjAgLSBlY2NzcSkgLyBkc3E7XG5cbiAgcmhvID0gcm4gKiBjbGF0O1xuICB6ID0gKDEuMCAtIGVjY3NxKSAqIHJuICogc2xhdDtcbiAgcnNxID0gcmhvICogcmhvICsgeiAqIHo7XG4gIHIgPSBNYXRoLnNxcnQocnNxKTtcblxuICBycm5ybVswXSA9IHI7XG4gIHJybnJtWzFdID0gcm47XG4gIHJybnJtWzJdID0gcm07XG5cbiAgcmV0dXJuIChycm5ybSk7XG5cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLy8gICAgICAgIHBoeXNpY2FsIHJhZGl1cyBvZiBlYXJ0aCBmcm9tIGdlb2RldGljIGxhdGl0dWRlXG5cbmZ1bmN0aW9uIHJlYXJ0aChsYXRpKSB7XG4gIHZhciBycm5ybSwgciwgbGF0XG5cbiAgbGF0ID0gTnVtYmVyKGxhdGkpO1xuXG4gIHJybnJtID0gcmFkY3VyKGxhdCk7XG4gIHIgPSBycm5ybVswXTtcblxuICByZXR1cm4gKHIpO1xuXG59XG5cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24gZ2MyZ2QoZmxhdGdjaSwgYWx0a21pKVxuXG4vKiAgICAgICAgZ2VvY2VudHJpYyBsYXRpdHVkZSB0byBnZW9kZXRpYyBsYXRpdHVkZVxuXG4gICAgIElucHV0OlxuICAgICAgICAgICAgICAgZmxhdGdjICAgIGdlb2NlbnRyaWMgbGF0aXR1ZGUgZGVnLlxuICAgICAgICAgICAgICAgYWx0a20gICAgIGFsdGl0aWRlIGluIGttXG4gICAgIG91cHV0OlxuICAgICAgICAgICAgICAgZmxhdGdkICAgIGdlb2RldGljIGxhdGl0dWRlIGluIGRlZ1xuXG4qL1xuXG57XG5cbiAgdmFyIGR0ciA9IE1hdGguUEkgLyAxODAuMDtcbiAgdmFyIHJ0ZCA9IDEgLyBkdHI7XG5cbiAgdmFyIGZsYXRnZCwgZmxhdGdjLCBhbHRrbVxuICB2YXIgcnJucm0gPSBuZXcgQXJyYXkoMylcbiAgdmFyIHJlLCBybiwgZWNjLCBlc3E7XG4gIHZhciBzbGF0LCBjbGF0LCB0bGF0XG4gIHZhciBhbHRub3csIHJhdGlvXG5cbiAgZ2VvZEdCTCgpO1xuXG4gIGZsYXRnYyA9IE51bWJlcihmbGF0Z2NpKTtcbiAgYWx0a20gPSBOdW1iZXIoYWx0a21pKTtcblxuICBlY2MgPSBFQVJUSF9FY2M7XG4gIGVzcSA9IGVjYyAqIGVjYztcblxuICAvLyAgICAgICAgICAgICBhcHByb3hpbWF0aW9uIGJ5IHN0YWdlc1xuICAvLyAgICAgICAgICAgICAxc3QgdXNlIGdjLWxhdCBhcyBpZiBpcyBnZCwgdGhlbiBjb3JyZWN0IGFsdCBkZXBlbmRlbmNlXG5cbiAgYWx0bm93ID0gYWx0a207XG5cbiAgcnJucm0gPSByYWRjdXIoZmxhdGdjKTtcbiAgcm4gPSBycm5ybVsxXTtcblxuICByYXRpbyA9IDEgLSBlc3EgKiBybiAvIChybiArIGFsdG5vdyk7XG5cbiAgdGxhdCA9IE1hdGgudGFuKGR0ciAqIGZsYXRnYykgLyByYXRpbztcbiAgZmxhdGdkID0gcnRkICogTWF0aC5hdGFuKHRsYXQpO1xuXG4gIC8vICAgICAgICBub3cgdXNlIHRoaXMgYXBwcm94aW1hdGlvbiBmb3IgZ2QtbGF0IHRvIGdldCBybiBldGMuXG5cbiAgcnJucm0gPSByYWRjdXIoZmxhdGdkKTtcbiAgcm4gPSBycm5ybVsxXTtcblxuICByYXRpbyA9IDEgLSBlc3EgKiBybiAvIChybiArIGFsdG5vdylcbiAgdGxhdCA9IE1hdGgudGFuKGR0ciAqIGZsYXRnYykgLyByYXRpbztcbiAgZmxhdGdkID0gcnRkICogTWF0aC5hdGFuKHRsYXQpO1xuXG4gIHJldHVybiBmbGF0Z2RcblxufVxuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuZnVuY3Rpb24gZ2QyZ2MoZmxhdGdkaSwgYWx0a21pKVxuXG4vKiAgICAgICAgZ2VvZGV0aWMgbGF0aXR1ZGUgdG8gZ2VvY2VudHJpYyBsYXRpdHVkZVxuXG4gICAgIElucHV0OlxuICAgICAgICAgICAgICAgZmxhdGdkICAgIGdlb2RldGljIGxhdGl0dWRlIGRlZy5cbiAgICAgICAgICAgICAgIGFsdGttICAgICBhbHRpdGlkZSBpbiBrbVxuICAgICBvdXB1dDpcbiAgICAgICAgICAgICAgIGZsYXRnYyAgICBnZW9jZW50cmljIGxhdGl0dWRlIGluIGRlZ1xuXG4qL1xuXG57XG5cbiAgdmFyIGR0ciA9IE1hdGguUEkgLyAxODAuMDtcbiAgdmFyIHJ0ZCA9IDEgLyBkdHI7XG5cbiAgdmFyIGZsYXRnYywgZmxhdGdkLCBhbHRrbVxuICB2YXIgcnJucm0gPSBuZXcgQXJyYXkoMylcbiAgdmFyIHJlLCBybiwgZWNjLCBlc3E7XG4gIHZhciBzbGF0LCBjbGF0LCB0bGF0XG4gIHZhciBhbHRub3csIHJhdGlvXG5cbiAgZ2VvZEdCTCgpO1xuXG4gIGZsYXRnZCA9IE51bWJlcihmbGF0Z2RpKTtcbiAgYWx0a20gPSBOdW1iZXIoYWx0a21pKTtcblxuICBlY2MgPSBFQVJUSF9FY2M7XG4gIGVzcSA9IGVjYyAqIGVjYztcblxuICBhbHRub3cgPSBhbHRrbTtcblxuICBycm5ybSA9IHJhZGN1cihmbGF0Z2QpO1xuICBybiA9IHJybnJtWzFdO1xuXG4gIHJhdGlvID0gMSAtIGVzcSAqIHJuIC8gKHJuICsgYWx0bm93KTtcblxuICB0bGF0ID0gTWF0aC50YW4oZHRyICogZmxhdGdkKSAqIHJhdGlvO1xuICBmbGF0Z2MgPSBydGQgKiBNYXRoLmF0YW4odGxhdCk7XG5cbiAgcmV0dXJuIGZsYXRnYztcblxufVxuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIGxsZW51KGZsYXRpLCBmbG9uaSlcblxuLyogICAgICAgIGxhdGl0dWRlIGxvbmdpdHVkZSB0byBlYXN0LG5vcnRoLHVwIHVuaXQgdmVjdG9yc1xuXG4gICAgIGlucHV0OlxuICAgICAgICAgICAgICAgZmxhdCAgICAgIGxhdGl0dWRlIGluIGRlZ2VlcyBOXG4gICAgICAgICAgICAgICAgICAgICAgICAgWyBnYyAtPiBnYyBlbnUsICBnZCB1c3VhbCBlbnUgXVxuICAgICAgICAgICAgICAgZmxvbiAgICAgIGxvbmdpdHVkZSBpbiBkZWdyZWVzIEVcbiAgICAgb3V0cHV0OlxuICAgICAgICAgICAgICAgZW51WzNbM11dICBwYWNrZWQgMy11bml0IHZlY3RvcnMgLyBlYWNoIGEgMyB2ZWN0b3JcblxuKi9cblxue1xuXG4gIHZhciBmbGF0LCBmbG9uO1xuICB2YXIgZHRyLCBjbGF0LCBzbGF0LCBjbG9uLCBzbG9uO1xuICB2YXIgZWUgPSBuZXcgQXJyYXkoMyk7XG4gIHZhciBlbiA9IG5ldyBBcnJheSgzKTtcbiAgdmFyIGV1ID0gbmV3IEFycmF5KDMpO1xuXG4gIHZhciBlbnUgPSBuZXcgQXJyYXkoMyk7XG5cbiAgdmFyIGR0ciA9IE1hdGguUEkgLyAxODAuMFxuXG5cbiAgLy8gICAgICAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBmbGF0ID0gTnVtYmVyKGZsYXRpKTtcbiAgZmxvbiA9IE51bWJlcihmbG9uaSk7XG5cbiAgY2xhdCA9IE1hdGguY29zKGR0ciAqIGZsYXQpO1xuICBzbGF0ID0gTWF0aC5zaW4oZHRyICogZmxhdCk7XG4gIGNsb24gPSBNYXRoLmNvcyhkdHIgKiBmbG9uKTtcbiAgc2xvbiA9IE1hdGguc2luKGR0ciAqIGZsb24pO1xuXG4gIGVlWzBdID0gLXNsb247XG4gIGVlWzFdID0gY2xvbjtcbiAgZWVbMl0gPSAwLjA7XG5cbiAgZW5bMF0gPSAtY2xvbiAqIHNsYXQ7XG4gIGVuWzFdID0gLXNsb24gKiBzbGF0O1xuICBlblsyXSA9IGNsYXQ7XG5cbiAgZXVbMF0gPSBjbG9uICogY2xhdDtcbiAgZXVbMV0gPSBzbG9uICogY2xhdDtcbiAgZXVbMl0gPSBzbGF0O1xuXG4gIGVudVswXSA9IGVlO1xuICBlbnVbMV0gPSBlbjtcbiAgZW51WzJdID0gZXU7XG5cbiAgcmV0dXJuIGVudTtcblxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5mdW5jdGlvbiB4eXpsbGgoeHZlYylcblxuLyogICAgICAgIHh5eiB2ZWN0b3IgIHRvICBsYXQsbG9uLGhlaWdodFxuXG4gICAgIGlucHV0OlxuICAgICAgICAgIHh2ZWNbM10gICB4eXogRUNFRiBsb2NhdGlvblxuICAgICBvdXRwdXQ6XG5cbiAgICAgICAgICBsbGh2ZWNbM10gd2l0aCBjb21wb25lbnRzXG5cbiAgICAgICAgICBmbGF0ICAgICAgZ2VvZGV0aWMgbGF0aXR1ZGUgaW4gZGVnXG4gICAgICAgICAgZmxvbiAgICAgIGxvbmdpdHVkZSBpbiBkZWdcbiAgICAgICAgICBhbHRrbSAgICAgYWx0aXR1ZGUgaW4ga21cblxuKi9cblxue1xuXG4gIHZhciBkdHIgPSBNYXRoLlBJIC8gMTgwLjA7XG4gIHZhciBmbGF0Z2MsIGZsYXRuLCBkbGF0O1xuICB2YXIgcm5vdywgcnA7XG4gIHZhciB4LCB5LCB6LCBwO1xuICB2YXIgdGFuZ2MsIHRhbmdkO1xuXG4gIHZhciB0ZXN0dmFsLCBrb3VudDtcblxuICB2YXIgcm4sIGVzcTtcbiAgdmFyIGNsYXQsIHNsYXQ7XG4gIHZhciBycm5ybSA9IG5ldyBBcnJheSgzKTtcblxuICB2YXIgZmxhdCwgZmxvbiwgYWx0a207XG4gIHZhciBsbGh2ZWMgPSBuZXcgQXJyYXkoMyk7XG5cblxuICBnZW9kR0JMKCk7XG5cbiAgZXNxID0gRUFSVEhfRXNxO1xuXG4gIHggPSB4dmVjWzBdO1xuICB5ID0geHZlY1sxXTtcbiAgeiA9IHh2ZWNbMl07XG5cbiAgeCA9IE51bWJlcih4KTtcbiAgeSA9IE51bWJlcih5KTtcbiAgeiA9IE51bWJlcih6KTtcblxuICBycCA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xuXG4gIGZsYXRnYyA9IE1hdGguYXNpbih6IC8gcnApIC8gZHRyO1xuXG4gIHRlc3R2YWwgPSBNYXRoLmFicyh4KSArIE1hdGguYWJzKHkpO1xuICBpZiAodGVzdHZhbCA8IDEuMGUtMTApIHtcbiAgICBmbG9uID0gMC4wXG4gIH0gZWxzZSB7XG4gICAgZmxvbiA9IE1hdGguYXRhbjIoeSwgeCkgLyBkdHJcbiAgfVxuICBpZiAoZmxvbiA8IDAuMCkge1xuICAgIGZsb24gPSBmbG9uICsgMzYwLjBcbiAgfVxuXG4gIHAgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSk7XG5cbiAgLy8gICAgICAgICAgICAgb24gcG9sZSBzcGVjaWFsIGNhc2VcblxuICBpZiAocCA8IDEuMGUtMTApIHtcbiAgICBmbGF0ID0gOTAuMFxuICAgIGlmICh6IDwgMC4wKSB7XG4gICAgICBmbGF0ID0gLTkwLjBcbiAgICB9XG5cbiAgICBhbHRrbSA9IHJwIC0gcmVhcnRoKGZsYXQpO1xuICAgIGxsaHZlY1swXSA9IGZsYXQ7XG4gICAgbGxodmVjWzFdID0gZmxvbjtcbiAgICBsbGh2ZWNbMl0gPSBhbHRrbTtcblxuICAgIHJldHVybiBsbGh2ZWM7XG4gIH1cblxuICAvLyAgICAgICAgZmlyc3QgaXRlcmF0aW9uLCB1c2UgZmxhdGdjIHRvIGdldCBhbHRpdHVkZSBcbiAgLy8gICAgICAgIGFuZCBhbHQgbmVlZGVkIHRvIGNvbnZlcnQgZ2MgdG8gZ2QgbGF0LlxuXG4gIHJub3cgPSByZWFydGgoZmxhdGdjKTtcbiAgYWx0a20gPSBycCAtIHJub3c7XG4gIGZsYXQgPSBnYzJnZChmbGF0Z2MsIGFsdGttKTtcblxuICBycm5ybSA9IHJhZGN1cihmbGF0KTtcbiAgcm4gPSBycm5ybVsxXTtcblxuICBmb3IgKHZhciBrb3VudCA9IDA7IGtvdW50IDwgNTsga291bnQrKykge1xuICAgIHNsYXQgPSBNYXRoLnNpbihkdHIgKiBmbGF0KTtcbiAgICB0YW5nZCA9ICh6ICsgcm4gKiBlc3EgKiBzbGF0KSAvIHA7XG4gICAgZmxhdG4gPSBNYXRoLmF0YW4odGFuZ2QpIC8gZHRyO1xuXG4gICAgZGxhdCA9IGZsYXRuIC0gZmxhdDtcbiAgICBmbGF0ID0gZmxhdG47XG4gICAgY2xhdCA9IE1hdGguY29zKGR0ciAqIGZsYXQpO1xuXG4gICAgcnJucm0gPSByYWRjdXIoZmxhdCk7XG4gICAgcm4gPSBycm5ybVsxXTtcblxuICAgIGFsdGttID0gKHAgLyBjbGF0KSAtIHJuO1xuXG4gICAgaWYgKE1hdGguYWJzKGRsYXQpIDwgMS4wZS0xMikge1xuICAgICAgYnJlYWtcbiAgICB9XG5cbiAgfVxuXG4gIGxsaHZlY1swXSA9IGZsYXQ7XG4gIGxsaHZlY1sxXSA9IGZsb247XG4gIGxsaHZlY1syXSA9IGFsdGttO1xuXG4gIHJldHVybiBsbGh2ZWM7XG5cbn0iLCJ2YXIgdmlld2VyID0gbmV3IENlc2l1bS5WaWV3ZXIoJ2Nlc2l1bUNvbnRhaW5lcicsIHtcblxuICBmdWxsc2NyZWVuQnV0dG9uOiBmYWxzZSxcbiAgYmFzZUxheWVyUGlja2VyOiBmYWxzZSxcbiAgdGltZWxpbmU6IGZhbHNlLFxuICBob21lQnV0dG9uOiBmYWxzZSxcbiAgaW5mb0JveGU6IGZhbHNlLFxuICBuYXZpZ2F0aW9uSGVscEJ1dHRvbjogZmFsc2UsXG4gIHNlbGVjdGlvbkluZGljYXRvcjogZmFsc2UsXG4gIHZyQnV0dG9uOiBmYWxzZSxcbiAgZ2VvY29kZXI6IGZhbHNlLFxuICBzY2VuZU1vZGVQaWNrZXI6IGZhbHNlLFxuICBhbmltYXRpb246IGZhbHNlLFxuICAvLyAgaW1hZ2VyeVByb3ZpZGVyOiBuZXcgQ2VzaXVtLkFyY0dpc01hcFNlcnZlckltYWdlcnlQcm92aWRlcih7XG4gIC8vICAgIHVybDogJ2h0dHA6Ly9zZXJ2ZXIuYXJjZ2lzb25saW5lLmNvbS9BcmNHSVMvcmVzdC9zZXJ2aWNlcy9Xb3JsZF9TdHJlZXRfTWFwL01hcFNlcnZlcidcbiAgLy8gIH0pXG5cbn0pO1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2VzaXVtLXZpZXdlci1ib3R0b20nKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cbmNsYXNzIHNhdCB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIGlkLCBkYXRlLCBpbmZvcywgcG9zKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5kYXRlID0gZGF0ZTtcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgdGhpcy50cnVlX3BvcyA9IHBvcztcbiAgICB0aGlzLnBvcyA9IHh5emxsaChwb3MpO1xuICAgIHRoaXMuaW5mb3MgPSBpbmZvcztcbiAgICB0aGlzLm9iamVjdCA9IG5ldyBDZXNpdW0uRW50aXR5KHtcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgcG9zaXRpb246IG5ldyBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tRGVncmVlcyh0aGlzLnBvc1swXSwgdGhpcy5wb3NbMV0sIHRoaXMucG9zWzJdICogMTAwMCksXG4gICAgICBlbGxpcHNvaWQ6IHtcbiAgICAgICAgcmFkaWk6IG5ldyBDZXNpdW0uQ2FydGVzaWFuMyg1MDAwMC4wLCA1MDAwMC4wLCA1MDAwMC4wKSxcbiAgICAgICAgbWF0ZXJpYWw6IENlc2l1bS5Db2xvci5SRUQsXG5cbiAgICAgIH0sXG4gICAgICBsYWJlbDoge1xuICAgICAgICB0ZXh0OiB0aGlzLm5hbWUsXG4gICAgICAgIGZvbnQ6ICcxMHB0IG1vbm9zcGFjZScsXG4gICAgICAgIHN0eWxlOiBDZXNpdW0uTGFiZWxTdHlsZS5GSUxMX0FORF9PVVRMSU5FLFxuICAgICAgICBvdXRsaW5lV2lkdGg6IDIsXG4gICAgICAgIHZlcnRpY2FsT3JpZ2luOiBDZXNpdW0uVmVydGljYWxPcmlnaW4uQk9UVE9NLFxuICAgICAgICBwaXhlbE9mZnNldDogbmV3IENlc2l1bS5DYXJ0ZXNpYW4yKDAsIC0yNSlcbiAgICAgIH1cblxuICAgIH0pO1xuICAgIHRoaXMucG9wdXAgPSBuZXcgQ2VzaXVtLkVudGl0eSh0aGlzLm5hbWUpO1xuICAgIHRoaXMucG9wdXAuZGVzY3JpcHRpb24gPSB7XG4gICAgICBnZXRWYWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJwb3BfdXBcIj48ZGl2IGNsYXNzPVwiZXhpdFwiPjwvZGl2PjxoMj4nICsgdGhhdC5uYW1lICsgJzwvaDI+PHA+TGF1Y2hlZCA6ICcgKyB0aGF0LmRhdGUgKyAnPC9wPjxwPiBDb3VudHJ5IDogJyArIHRoYXQuaW5mb3MuY291bnRyeSArICc8L3A+PHA+IEZ1bmN0aW9uIDogJyArIHRoYXQuaW5mb3MuZGlzY2lwbGluZSArICc8L3A+PHA+IE1hc3MgOiAnICsgdGhhdC5pbmZvcy5tYXNzICsgJzwvcD48cD5EZXNjcmlwdGlvbiA6ICcgKyB0aGF0LmluZm9zLmRlc2NyaXB0aW9uICsgJzwvcD48L2Rpdj4nO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmNyZWF0ZSgpO1xuICB9XG5cbiAgY3JlYXRlKCkge1xuICAgIHZpZXdlci5lbnRpdGllcy5hZGQodGhpcy5vYmplY3QpO1xuICB9XG59XG5cbnZhciBzYXRlbGxpdGVzID0gW107XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgc2F0cy5sZW5ndGg7IGkrKykge1xuICBzYXRlbGxpdGVzLnB1c2gobmV3IHNhdChzYXRzW2ldLm5hbWUsIHNhdHNbaV0uaWQsIHNhdHNbaV0uZGF0ZSwgc2F0c1tpXS5pbmZvcywgc2F0c1tpXS5wb3MpKTtcbn1cblxuY29uc29sZS5sb2coc2F0ZWxsaXRlcyk7XG5cbnZhciBoYW5kbGVyID0gbmV3IENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50SGFuZGxlcih2aWV3ZXIuc2NlbmUuY2FudmFzKTtcbmhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oZnVuY3Rpb24gKGNsaWNrKSB7XG4gIHZhciBwaWNrZWRPYmplY3QgPSB2aWV3ZXIuc2NlbmUucGljayhjbGljay5wb3NpdGlvbik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2F0ZWxsaXRlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChDZXNpdW0uZGVmaW5lZChwaWNrZWRPYmplY3QpICYmIChwaWNrZWRPYmplY3QuaWQgPT0gc2F0ZWxsaXRlc1tpXS5vYmplY3QpKSB7XG4gICAgICB2aWV3ZXIuc2VsZWN0ZWRFbnRpdHkgPSBzYXRlbGxpdGVzW2ldLnBvcHVwO1xuICAgIH1cbiAgfVxufSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLkxFRlRfQ0xJQ0spO1xuXG52YXIgY3Jvc3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY3Jvc3MnKTtcbnZhciBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxlZnRfbWVudScpO1xudmFyIGNyb3NzX2RpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5leGl0Jyk7XG5jcm9zcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gIGlmKHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLW9wZW4nKSA9PSAndHJ1ZScpe1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKCdkYXRhLW9wZW4nLGZhbHNlKTtcbiAgICBtZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIGNyb3NzX2Rpdi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZSgnZGF0YS1vcGVuJyx0cnVlKTtcbiAgICBtZW51LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIGNyb3NzX2Rpdi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgfVxufSk7XG4iXX0=
