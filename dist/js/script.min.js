"use strict";function geodGBL(){var e;"undefined"==(e=void 0===EARTH_A?"undefined":_typeof(EARTH_A))&&wgs84()}function earthcon(e,t){var n,a,r,i,s;i=Number(e),s=Number(t),n=1-s/i,r=1-s*s/(i*i),a=Math.sqrt(r),EARTH_A=i,EARTH_B=s,EARTH_F=n,EARTH_Ecc=a,EARTH_Esq=r}function wgs84(){var e,t,n;e=6378.137,n=1/298.257223563,t=e*(1-n),earthcon(e,t)}function radcur(e){var t,n,a,r,i,s,o,c,u,l,h,p,f,d,m,y,v=new Array(3),b=Math.PI/180;return geodGBL(),t=EARTH_A,n=EARTH_B,r=t*t,i=n*n,s=1-i/r,Math.sqrt(s),a=Number(e),o=Math.cos(b*a),c=Math.sin(b*a),u=1-s*c*c,l=Math.sqrt(u),h=t/l,p=h*(1-s)/u,f=h*o,y=(1-s)*h*c,d=f*f+y*y,m=Math.sqrt(d),v[0]=m,v[1]=h,v[2]=p,v}function rearth(e){var t,n;return n=Number(e),t=radcur(n),t[0]}function gc2gd(e,t){var n,a,r,i,s,o,c,u,l,h=Math.PI/180,p=1/h,f=new Array(3);return geodGBL(),a=Number(e),r=Number(t),s=EARTH_Ecc,o=s*s,u=r,f=radcur(a),i=f[1],l=1-o*i/(i+u),c=Math.tan(h*a)/l,n=p*Math.atan(c),f=radcur(n),i=f[1],l=1-o*i/(i+u),c=Math.tan(h*a)/l,n=p*Math.atan(c)}function gd2gc(e,t){var n,a,r,i,s,o,c,u,l=Math.PI/180,h=1/l,p=new Array(3);return geodGBL(),n=Number(e),a=Number(t),i=EARTH_Ecc,s=i*i,c=a,p=radcur(n),r=p[1],u=1-s*r/(r+c),o=Math.tan(l*n)*u,h*Math.atan(o)}function llenu(e,t){var n,a,r,i,s,o,c,u=new Array(3),l=new Array(3),h=new Array(3),p=new Array(3),r=Math.PI/180;return n=Number(e),a=Number(t),i=Math.cos(r*n),s=Math.sin(r*n),o=Math.cos(r*a),c=Math.sin(r*a),u[0]=-c,u[1]=o,u[2]=0,l[0]=-o*s,l[1]=-c*s,l[2]=i,h[0]=o*i,h[1]=c*i,h[2]=s,p[0]=u,p[1]=l,p[2]=h,p}function xyzllh(e){var t,n,a,r,i,s,o,c,u,l,h,p,f,d,m,y,v,b,M,A=Math.PI/180,E=new Array(3),w=new Array(3);if(geodGBL(),d=EARTH_Esq,s=e[0],o=e[1],c=e[2],s=Number(s),o=Number(o),c=Number(c),i=Math.sqrt(s*s+o*o+c*c),t=Math.asin(c/i)/A,h=Math.abs(s)+Math.abs(o),b=h<1e-10?0:Math.atan2(o,s)/A,b<0&&(b+=360),(u=Math.sqrt(s*s+o*o))<1e-10)return v=90,c<0&&(v=-90),M=i-rearth(v),w[0]=v,w[1]=b,w[2]=M,w;r=rearth(t),M=i-r,v=gc2gd(t,M),E=radcur(v),f=E[1];for(var p=0;p<5&&(y=Math.sin(A*v),l=(c+f*d*y)/u,n=Math.atan(l)/A,a=n-v,v=n,m=Math.cos(A*v),E=radcur(v),f=E[1],M=u/m-f,!(Math.abs(a)<1e-12));p++);return w[0]=v,w[1]=b,w[2]=M,w}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EARTH_A,EARTH_B,EARTH_F,EARTH_Ecc,EARTH_Esq,_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),viewer=new Cesium.Viewer("cesiumContainer",{fullscreenButton:!1,baseLayerPicker:!1,timeline:!1,homeButton:!1,infoBoxe:!1,navigationHelpButton:!1,selectionIndicator:!1,vrButton:!1,geocoder:!1,sceneModePicker:!1,animation:!1});document.querySelector(".cesium-viewer-bottom").style.display="none";for(var sat=function(){function e(t,n,a,r,i){_classCallCheck(this,e);var s=this;this.name=t,this.date=a,this.id=n,this.true_pos=i,this.pos=xyzllh(i),this.infos=r,this.object=new Cesium.Entity({id:this.id,name:this.name,position:new Cesium.Cartesian3.fromDegrees(this.pos[0],this.pos[1],1e3*this.pos[2]),ellipsoid:{radii:new Cesium.Cartesian3(5e4,5e4,5e4),material:Cesium.Color.RED},label:{text:this.name,font:"10pt monospace",style:Cesium.LabelStyle.FILL_AND_OUTLINE,outlineWidth:2,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:new Cesium.Cartesian2(0,-25)}}),this.popup=new Cesium.Entity(this.name),this.popup.description={getValue:function(){return'<div class="pop_up"><div class="exit"></div><h2>'+s.name+"</h2><p>Lauched : "+s.date+"</p><p> Country : "+s.infos.country+"</p><p> Function : "+s.infos.discipline+"</p><p> Mass : "+s.infos.mass+"</p><p>Description : "+s.infos.description+"</p></div>"}},this.create()}return _createClass(e,[{key:"create",value:function(){viewer.entities.add(this.object)}}]),e}(),satellites=[],i=0;i<sats.length;i++)satellites.push(new sat(sats[i].name,sats[i].id,sats[i].date,sats[i].infos,sats[i].pos));console.log(satellites);var handler=new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas);handler.setInputAction(function(e){for(var t=viewer.scene.pick(e.position),n=0;n<satellites.length;n++)Cesium.defined(t)&&t.id==satellites[n].object&&(viewer.selectedEntity=satellites[n].popup)},Cesium.ScreenSpaceEventType.LEFT_CLICK);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnZlcnRlci5qcyIsInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJnZW9kR0JMIiwidHN0Z2xvYmFsIiwiRUFSVEhfQSIsIl90eXBlb2YiLCJ3Z3M4NCIsImVhcnRoY29uIiwiYWkiLCJiaSIsImYiLCJlY2MiLCJlY2NzcSIsImEiLCJiIiwiTnVtYmVyIiwiTWF0aCIsInNxcnQiLCJFQVJUSF9CIiwiRUFSVEhfRiIsIkVBUlRIX0VjYyIsIkVBUlRIX0VzcSIsIndnczg0YSIsIndnczg0YiIsIndnczg0ZiIsInJhZGN1ciIsImxhdGkiLCJsYXQiLCJhc3EiLCJic3EiLCJjbGF0Iiwic2xhdCIsImRzcSIsImQiLCJybiIsInJtIiwicmhvIiwicnNxIiwiciIsInoiLCJycm5ybSIsIkFycmF5IiwiZHRyIiwiUEkiLCJjb3MiLCJzaW4iLCJyZWFydGgiLCJnYzJnZCIsImZsYXRnY2kiLCJhbHRrbWkiLCJmbGF0Z2QiLCJmbGF0Z2MiLCJhbHRrbSIsImVzcSIsInRsYXQiLCJhbHRub3ciLCJyYXRpbyIsInJ0ZCIsInRhbiIsImF0YW4iLCJnZDJnYyIsImZsYXRnZGkiLCJsbGVudSIsImZsYXRpIiwiZmxvbmkiLCJmbGF0IiwiZmxvbiIsImNsb24iLCJzbG9uIiwiZWUiLCJlbiIsImV1IiwiZW51IiwieHl6bGxoIiwieHZlYyIsImZsYXRuIiwiZGxhdCIsInJub3ciLCJycCIsIngiLCJ5IiwicCIsInRhbmdkIiwidGVzdHZhbCIsImtvdW50IiwibGxodmVjIiwiYXNpbiIsImFicyIsImF0YW4yIiwidmlld2VyIiwiQ2VzaXVtIiwiVmlld2VyIiwiZnVsbHNjcmVlbkJ1dHRvbiIsImJhc2VMYXllclBpY2tlciIsInRpbWVsaW5lIiwiaG9tZUJ1dHRvbiIsImluZm9Cb3hlIiwibmF2aWdhdGlvbkhlbHBCdXR0b24iLCJzZWxlY3Rpb25JbmRpY2F0b3IiLCJ2ckJ1dHRvbiIsImdlb2NvZGVyIiwic2NlbmVNb2RlUGlja2VyIiwiYW5pbWF0aW9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic3R5bGUiLCJkaXNwbGF5Iiwic2F0IiwibmFtZSIsImlkIiwiZGF0ZSIsImluZm9zIiwicG9zIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsInRoYXQiLCJ0cnVlX3BvcyIsIm9iamVjdCIsIkVudGl0eSIsInBvc2l0aW9uIiwiQ2FydGVzaWFuMyIsImZyb21EZWdyZWVzIiwiZWxsaXBzb2lkIiwicmFkaWkiLCJtYXRlcmlhbCIsIkNvbG9yIiwiUkVEIiwibGFiZWwiLCJ0ZXh0IiwiZm9udCIsIkxhYmVsU3R5bGUiLCJGSUxMX0FORF9PVVRMSU5FIiwib3V0bGluZVdpZHRoIiwidmVydGljYWxPcmlnaW4iLCJWZXJ0aWNhbE9yaWdpbiIsIkJPVFRPTSIsInBpeGVsT2Zmc2V0IiwiQ2FydGVzaWFuMiIsInBvcHVwIiwiZGVzY3JpcHRpb24iLCJnZXRWYWx1ZSIsImNvdW50cnkiLCJkaXNjaXBsaW5lIiwibWFzcyIsImNyZWF0ZSIsImVudGl0aWVzIiwiYWRkIiwic2F0ZWxsaXRlcyIsImkiLCJzYXRzIiwibGVuZ3RoIiwicHVzaCIsImNvbnNvbGUiLCJsb2ciLCJoYW5kbGVyIiwiU2NyZWVuU3BhY2VFdmVudEhhbmRsZXIiLCJzY2VuZSIsImNhbnZhcyIsInNldElucHV0QWN0aW9uIiwiY2xpY2siLCJwaWNrZWRPYmplY3QiLCJwaWNrIiwiZGVmaW5lZCIsInNlbGVjdGVkRW50aXR5IiwiU2NyZWVuU3BhY2VFdmVudFR5cGUiLCJMRUZUX0NMSUNLIl0sIm1hcHBpbmdzIjoiWUFrQkEsU0FBU0EsV0FLUCxHQUFJQyxFQUdhLGVBRGpCQSxFQUFBLFNBQW1CQyxRQUFuQixZQUFBQyxRQUFtQkQsV0FDV0UsUUFNaEMsUUFBU0MsVUFBU0MsRUFBSUMsR0FTcEIsR0FBSUMsR0FBR0MsRUFBS0MsRUFBT0MsRUFBR0MsQ0FFdEJELEdBQUlFLE9BQU9QLEdBQ1hNLEVBQUlDLE9BQU9OLEdBRVhDLEVBQUksRUFBSUksRUFBSUQsRUFDWkQsRUFBUSxFQUFJRSxFQUFJQSxHQUFLRCxFQUFJ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QkFDekJDLGFBQWMsRUFDZEMsZUFBZ0IzQyxPQUFPNEMsZUFBZUMsT0FDdENDLFlBQWEsR0FBSTlDLFFBQU8rQyxXQUFXLEdBQUksT0FJM0N2QixLQUFLd0IsTUFBUSxHQUFJaEQsUUFBTzRCLE9BQU9KLEtBQUtOLE1BQ3BDTSxLQUFLd0IsTUFBTUMsYUFDVEMsU0FBVSxXQUNSLE1BQU8sbURBQXFEekIsRUFBS1AsS0FBTyxxQkFBdUJPLEVBQUtMLEtBQU8scUJBQXVCSyxFQUFLSixNQUFNOEIsUUFBVSxzQkFBd0IxQixFQUFLSixNQUFNK0IsV0FBYSxrQkFBb0IzQixFQUFLSixNQUFNZ0MsS0FBTyx3QkFBMEI1QixFQUFLSixNQUFNNEIsWUFBYyxlQUlwU3pCLEtBQUs4QiwrREFJTHZELE9BQU93RCxTQUFTQyxJQUFJaEMsS0FBS0csaUJBSXpCOEIsY0FFS0MsRUFBSSxFQUFHQSxFQUFJQyxLQUFLQyxPQUFRRixJQUMvQkQsV0FBV0ksS0FBSyxHQUFJNUMsS0FBSTBDLEtBQUtELEdBQUd4QyxLQUFNeUMsS0FBS0QsR0FBR3ZDLEdBQUl3QyxLQUFLRCxHQUFHdEMsS0FBTXVDLEtBQUtELEdBQUdyQyxNQUFPc0MsS0FBS0QsR0FBR3BDLEtBR3pGd0MsU0FBUUMsSUFBSU4sV0FFWixJQUFJTyxTQUFVLEdBQUloRSxRQUFPaUUsd0JBQXdCbEUsT0FBT21FLE1BQU1DLE9BQzlESCxTQUFRSSxlQUFlLFNBQVVDLEdBRS9CLElBQUssR0FEREMsR0FBZXZFLE9BQU9tRSxNQUFNSyxLQUFLRixFQUFNeEMsVUFDbEM2QixFQUFJLEVBQUdBLEVBQUlELFdBQVdHLE9BQVFGLElBQ2pDMUQsT0FBT3dFLFFBQVFGLElBQWtCQSxFQUFhbkQsSUFBTXNDLFdBQVdDLEdBQUcvQixTQUNwRTVCLE9BQU8wRSxlQUFpQmhCLFdBQVdDLEdBQUdWLFFBR3pDaEQsT0FBTzBFLHFCQUFxQkMiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qICAgICAgICAgICAgIGdlb2Rlc3kgcm91dGluZXMgaW4gSmF2YVNjcmlwdFxuICAgICAgICAgICAgICAgICBKYW1lcyBSLiBDbHluY2ggTlBTIC8gMjAwM1xuICAgICAgICAgICAgICAgXG4gICAgICAgICAgRG9uZSBmb3Igc3VwcG9ydCBvZiB3ZWIgZWR1Y2F0aW9uIHBhZ2VzXG5cblxuICAgICAgICAgID09IG11c3QgY29udmVydCBpbnB1dHMgdG8gbnVtYmVycyBmb3Igc2FmZXR5ID09XG4gICAgICAgICAgPT0gaWYgc3RyaW5nIGNvbWVzIGluIC0gc29tZXRpbWVzIHdvcmtzLCBzb21ldGltZXMgbm90ICE9PVxuKi9cblxudmFyIEVBUlRIX0E7XG52YXIgRUFSVEhfQjtcbnZhciBFQVJUSF9GO1xudmFyIEVBUlRIX0VjYztcbnZhciBFQVJUSF9Fc3E7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIGdlb2RHQkwoKVxuXG4vLyAgICAgICAgICAgICB0ZXN0IGFuZCBlbnN1cmUgZ2VvZGVzeSBnbG9iYWxzIGxvYWRlZFxue1xuXG4gIHZhciB0c3RnbG9iYWxcblxuICB0c3RnbG9iYWwgPSB0eXBlb2YgRUFSVEhfQTtcbiAgaWYgKHRzdGdsb2JhbCA9PSBcInVuZGVmaW5lZFwiKSB3Z3M4NCgpXG5cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24gZWFydGhjb24oYWksIGJpKVxuXG4vKiAgICAgICAgU2V0cyBFYXJ0aCBDb25zdGFudHMgYXMgZ2xvYmFsc1xuICAgICAgICAgICAgIC0tICBpbnB1dCBhLGJcbiAgICAgICAgICAgICAtLSAgTGVhdmVzIEdsb2JhbHMgXG4gICAgICAgICAgICAgICAgIEVBUlRIX0EgICAgICBFQVJUSF9CICAgRUFSVEhfRiAgRUFSVEhfRWNjXG4qL1xuXG57XG4gIHZhciBmLCBlY2MsIGVjY3NxLCBhLCBiXG5cbiAgYSA9IE51bWJlcihhaSk7XG4gIGIgPSBOdW1iZXIoYmkpO1xuXG4gIGYgPSAxIC0gYiAvIGE7XG4gIGVjY3NxID0gMSAtIGIgKiBiIC8gKGEgKiBhKTtcbiAgZWNjID0gTWF0aC5zcXJ0KGVjY3NxKTtcblxuICBFQVJUSF9BID0gYTtcbiAgRUFSVEhfQiA9IGI7XG4gIEVBUlRIX0YgPSBmO1xuICBFQVJUSF9FY2MgPSBlY2M7XG4gIEVBUlRIX0VzcSA9IGVjY3NxO1xufVxuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIHdnczg0KClcblxuLyogICAgICAgIFdHUzg0IEVhcnRoIENvbnN0YW50c1xuICAgICAgICAgICAgIC0tICByZXR1cm5zIGEsYixmLGUgIC0tXG4gICAgICAgICAgICAgLS0gIExlYXZlcyBHbG9iYWxzIFxuICAgICAgICAgICAgICAgICBFQVJUSF9BICAgICAgRUFSVEhfQiAgIEVBUlRIX0YgIEVBUlRIX0VjY1xuXG4qL1xuXG57XG4gIHZhciB3Z3M4NGEsIHdnczg0Yiwgd2dzODRmXG5cbiAgd2dzODRhID0gNjM3OC4xMzc7XG4gIHdnczg0ZiA9IDEuMCAvIDI5OC4yNTcyMjM1NjM7XG4gIHdnczg0YiA9IHdnczg0YSAqICgxLjAgLSB3Z3M4NGYpO1xuXG4gIGVhcnRoY29uKHdnczg0YSwgd2dzODRiKTtcblxufVxuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIHJhZGN1cihsYXRpKVxuXG4vKlxuICAgICAgIGNvbXB1dGUgdGhlIHJhZGlpIGF0IHRoZSBnZW9kZXRpYyBsYXRpdHVkZSBsYXQgKGluIGRlZ3JlZXMpXG4gICAgIFxuICAgICBpbnB1dDpcbiAgICAgICAgICAgICAgIGxhdCAgICAgICBnZW9kZXRpYyBsYXRpdHVkZSBpbiBkZWdyZWVzXG4gICAgIG91dHB1dDogICBcbiAgICAgICAgICAgICAgIHJybnJtICAgICBhbiBhcnJheSAzIGxvbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICByLCAgcm4sICBybSAgIGluIGttXG5cbiovXG5cbntcblxuICB2YXIgcnJucm0gPSBuZXcgQXJyYXkoMylcblxuICB2YXIgZHRyID0gTWF0aC5QSSAvIDE4MC4wXG5cbiAgdmFyIGEsIGIsIGxhdFxuICB2YXIgYXNxLCBic3EsIGVjY3NxLCBlY2MsIGNsYXQsIHNsYXRcbiAgdmFyIGRzcSwgZCwgcm4sIHJtLCByaG8sIHJzcSwgciwgelxuXG4gIC8vICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgZ2VvZEdCTCgpO1xuXG4gIGEgPSBFQVJUSF9BO1xuICBiID0gRUFSVEhfQjtcblxuICBhc3EgPSBhICogYTtcbiAgYnNxID0gYiAqIGI7XG4gIGVjY3NxID0gMSAtIGJzcSAvIGFzcTtcbiAgZWNjID0gTWF0aC5zcXJ0KGVjY3NxKTtcblxuICBsYXQgPSBOdW1iZXIobGF0aSk7XG5cbiAgY2xhdCA9IE1hdGguY29zKGR0ciAqIGxhdCk7XG4gIHNsYXQgPSBNYXRoLnNpbihkdHIgKiBsYXQpO1xuXG4gIGRzcSA9IDEuMCAtIGVjY3NxICogc2xhdCAqIHNsYXQ7XG4gIGQgPSBNYXRoLnNxcnQoZHNxKTtcblxuICBybiA9IGEgLyBkO1xuICBybSA9IHJuICogKDEuMCAtIGVjY3NxKSAvIGRzcTtcblxuICByaG8gPSBybiAqIGNsYXQ7XG4gIHogPSAoMS4wIC0gZWNjc3EpICogcm4gKiBzbGF0O1xuICByc3EgPSByaG8gKiByaG8gKyB6ICogejtcbiAgciA9IE1hdGguc3FydChyc3EpO1xuXG4gIHJybnJtWzBdID0gcjtcbiAgcnJucm1bMV0gPSBybjtcbiAgcnJucm1bMl0gPSBybTtcblxuICByZXR1cm4gKHJybnJtKTtcblxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vLyAgICAgICAgcGh5c2ljYWwgcmFkaXVzIG9mIGVhcnRoIGZyb20gZ2VvZGV0aWMgbGF0aXR1ZGVcblxuZnVuY3Rpb24gcmVhcnRoKGxhdGkpIHtcbiAgdmFyIHJybnJtLCByLCBsYXRcblxuICBsYXQgPSBOdW1iZXIobGF0aSk7XG5cbiAgcnJucm0gPSByYWRjdXIobGF0KTtcbiAgciA9IHJybnJtWzBdO1xuXG4gIHJldHVybiAocik7XG5cbn1cblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5mdW5jdGlvbiBnYzJnZChmbGF0Z2NpLCBhbHRrbWkpXG5cbi8qICAgICAgICBnZW9jZW50cmljIGxhdGl0dWRlIHRvIGdlb2RldGljIGxhdGl0dWRlXG5cbiAgICAgSW5wdXQ6XG4gICAgICAgICAgICAgICBmbGF0Z2MgICAgZ2VvY2VudHJpYyBsYXRpdHVkZSBkZWcuXG4gICAgICAgICAgICAgICBhbHRrbSAgICAgYWx0aXRpZGUgaW4ga21cbiAgICAgb3VwdXQ6XG4gICAgICAgICAgICAgICBmbGF0Z2QgICAgZ2VvZGV0aWMgbGF0aXR1ZGUgaW4gZGVnXG5cbiovXG5cbntcblxuICB2YXIgZHRyID0gTWF0aC5QSSAvIDE4MC4wO1xuICB2YXIgcnRkID0gMSAvIGR0cjtcblxuICB2YXIgZmxhdGdkLCBmbGF0Z2MsIGFsdGttXG4gIHZhciBycm5ybSA9IG5ldyBBcnJheSgzKVxuICB2YXIgcmUsIHJuLCBlY2MsIGVzcTtcbiAgdmFyIHNsYXQsIGNsYXQsIHRsYXRcbiAgdmFyIGFsdG5vdywgcmF0aW9cblxuICBnZW9kR0JMKCk7XG5cbiAgZmxhdGdjID0gTnVtYmVyKGZsYXRnY2kpO1xuICBhbHRrbSA9IE51bWJlcihhbHRrbWkpO1xuXG4gIGVjYyA9IEVBUlRIX0VjYztcbiAgZXNxID0gZWNjICogZWNjO1xuXG4gIC8vICAgICAgICAgICAgIGFwcHJveGltYXRpb24gYnkgc3RhZ2VzXG4gIC8vICAgICAgICAgICAgIDFzdCB1c2UgZ2MtbGF0IGFzIGlmIGlzIGdkLCB0aGVuIGNvcnJlY3QgYWx0IGRlcGVuZGVuY2VcblxuICBhbHRub3cgPSBhbHRrbTtcblxuICBycm5ybSA9IHJhZGN1cihmbGF0Z2MpO1xuICBybiA9IHJybnJtWzFdO1xuXG4gIHJhdGlvID0gMSAtIGVzcSAqIHJuIC8gKHJuICsgYWx0bm93KTtcblxuICB0bGF0ID0gTWF0aC50YW4oZHRyICogZmxhdGdjKSAvIHJhdGlvO1xuICBmbGF0Z2QgPSBydGQgKiBNYXRoLmF0YW4odGxhdCk7XG5cbiAgLy8gICAgICAgIG5vdyB1c2UgdGhpcyBhcHByb3hpbWF0aW9uIGZvciBnZC1sYXQgdG8gZ2V0IHJuIGV0Yy5cblxuICBycm5ybSA9IHJhZGN1cihmbGF0Z2QpO1xuICBybiA9IHJybnJtWzFdO1xuXG4gIHJhdGlvID0gMSAtIGVzcSAqIHJuIC8gKHJuICsgYWx0bm93KVxuICB0bGF0ID0gTWF0aC50YW4oZHRyICogZmxhdGdjKSAvIHJhdGlvO1xuICBmbGF0Z2QgPSBydGQgKiBNYXRoLmF0YW4odGxhdCk7XG5cbiAgcmV0dXJuIGZsYXRnZFxuXG59XG5cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuXG5mdW5jdGlvbiBnZDJnYyhmbGF0Z2RpLCBhbHRrbWkpXG5cbi8qICAgICAgICBnZW9kZXRpYyBsYXRpdHVkZSB0byBnZW9jZW50cmljIGxhdGl0dWRlXG5cbiAgICAgSW5wdXQ6XG4gICAgICAgICAgICAgICBmbGF0Z2QgICAgZ2VvZGV0aWMgbGF0aXR1ZGUgZGVnLlxuICAgICAgICAgICAgICAgYWx0a20gICAgIGFsdGl0aWRlIGluIGttXG4gICAgIG91cHV0OlxuICAgICAgICAgICAgICAgZmxhdGdjICAgIGdlb2NlbnRyaWMgbGF0aXR1ZGUgaW4gZGVnXG5cbiovXG5cbntcblxuICB2YXIgZHRyID0gTWF0aC5QSSAvIDE4MC4wO1xuICB2YXIgcnRkID0gMSAvIGR0cjtcblxuICB2YXIgZmxhdGdjLCBmbGF0Z2QsIGFsdGttXG4gIHZhciBycm5ybSA9IG5ldyBBcnJheSgzKVxuICB2YXIgcmUsIHJuLCBlY2MsIGVzcTtcbiAgdmFyIHNsYXQsIGNsYXQsIHRsYXRcbiAgdmFyIGFsdG5vdywgcmF0aW9cblxuICBnZW9kR0JMKCk7XG5cbiAgZmxhdGdkID0gTnVtYmVyKGZsYXRnZGkpO1xuICBhbHRrbSA9IE51bWJlcihhbHRrbWkpO1xuXG4gIGVjYyA9IEVBUlRIX0VjYztcbiAgZXNxID0gZWNjICogZWNjO1xuXG4gIGFsdG5vdyA9IGFsdGttO1xuXG4gIHJybnJtID0gcmFkY3VyKGZsYXRnZCk7XG4gIHJuID0gcnJucm1bMV07XG5cbiAgcmF0aW8gPSAxIC0gZXNxICogcm4gLyAocm4gKyBhbHRub3cpO1xuXG4gIHRsYXQgPSBNYXRoLnRhbihkdHIgKiBmbGF0Z2QpICogcmF0aW87XG4gIGZsYXRnYyA9IHJ0ZCAqIE1hdGguYXRhbih0bGF0KTtcblxuICByZXR1cm4gZmxhdGdjO1xuXG59XG5cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24gbGxlbnUoZmxhdGksIGZsb25pKVxuXG4vKiAgICAgICAgbGF0aXR1ZGUgbG9uZ2l0dWRlIHRvIGVhc3Qsbm9ydGgsdXAgdW5pdCB2ZWN0b3JzXG5cbiAgICAgaW5wdXQ6XG4gICAgICAgICAgICAgICBmbGF0ICAgICAgbGF0aXR1ZGUgaW4gZGVnZWVzIE5cbiAgICAgICAgICAgICAgICAgICAgICAgICBbIGdjIC0+IGdjIGVudSwgIGdkIHVzdWFsIGVudSBdXG4gICAgICAgICAgICAgICBmbG9uICAgICAgbG9uZ2l0dWRlIGluIGRlZ3JlZXMgRVxuICAgICBvdXRwdXQ6XG4gICAgICAgICAgICAgICBlbnVbM1szXV0gIHBhY2tlZCAzLXVuaXQgdmVjdG9ycyAvIGVhY2ggYSAzIHZlY3RvclxuXG4qL1xuXG57XG5cbiAgdmFyIGZsYXQsIGZsb247XG4gIHZhciBkdHIsIGNsYXQsIHNsYXQsIGNsb24sIHNsb247XG4gIHZhciBlZSA9IG5ldyBBcnJheSgzKTtcbiAgdmFyIGVuID0gbmV3IEFycmF5KDMpO1xuICB2YXIgZXUgPSBuZXcgQXJyYXkoMyk7XG5cbiAgdmFyIGVudSA9IG5ldyBBcnJheSgzKTtcblxuICB2YXIgZHRyID0gTWF0aC5QSSAvIDE4MC4wXG5cblxuICAvLyAgICAgICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIGZsYXQgPSBOdW1iZXIoZmxhdGkpO1xuICBmbG9uID0gTnVtYmVyKGZsb25pKTtcblxuICBjbGF0ID0gTWF0aC5jb3MoZHRyICogZmxhdCk7XG4gIHNsYXQgPSBNYXRoLnNpbihkdHIgKiBmbGF0KTtcbiAgY2xvbiA9IE1hdGguY29zKGR0ciAqIGZsb24pO1xuICBzbG9uID0gTWF0aC5zaW4oZHRyICogZmxvbik7XG5cbiAgZWVbMF0gPSAtc2xvbjtcbiAgZWVbMV0gPSBjbG9uO1xuICBlZVsyXSA9IDAuMDtcblxuICBlblswXSA9IC1jbG9uICogc2xhdDtcbiAgZW5bMV0gPSAtc2xvbiAqIHNsYXQ7XG4gIGVuWzJdID0gY2xhdDtcblxuICBldVswXSA9IGNsb24gKiBjbGF0O1xuICBldVsxXSA9IHNsb24gKiBjbGF0O1xuICBldVsyXSA9IHNsYXQ7XG5cbiAgZW51WzBdID0gZWU7XG4gIGVudVsxXSA9IGVuO1xuICBlbnVbMl0gPSBldTtcblxuICByZXR1cm4gZW51O1xuXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIHh5emxsaCh4dmVjKVxuXG4vKiAgICAgICAgeHl6IHZlY3RvciAgdG8gIGxhdCxsb24saGVpZ2h0XG5cbiAgICAgaW5wdXQ6XG4gICAgICAgICAgeHZlY1szXSAgIHh5eiBFQ0VGIGxvY2F0aW9uXG4gICAgIG91dHB1dDpcblxuICAgICAgICAgIGxsaHZlY1szXSB3aXRoIGNvbXBvbmVudHNcblxuICAgICAgICAgIGZsYXQgICAgICBnZW9kZXRpYyBsYXRpdHVkZSBpbiBkZWdcbiAgICAgICAgICBmbG9uICAgICAgbG9uZ2l0dWRlIGluIGRlZ1xuICAgICAgICAgIGFsdGttICAgICBhbHRpdHVkZSBpbiBrbVxuXG4qL1xuXG57XG5cbiAgdmFyIGR0ciA9IE1hdGguUEkgLyAxODAuMDtcbiAgdmFyIGZsYXRnYywgZmxhdG4sIGRsYXQ7XG4gIHZhciBybm93LCBycDtcbiAgdmFyIHgsIHksIHosIHA7XG4gIHZhciB0YW5nYywgdGFuZ2Q7XG5cbiAgdmFyIHRlc3R2YWwsIGtvdW50O1xuXG4gIHZhciBybiwgZXNxO1xuICB2YXIgY2xhdCwgc2xhdDtcbiAgdmFyIHJybnJtID0gbmV3IEFycmF5KDMpO1xuXG4gIHZhciBmbGF0LCBmbG9uLCBhbHRrbTtcbiAgdmFyIGxsaHZlYyA9IG5ldyBBcnJheSgzKTtcblxuXG4gIGdlb2RHQkwoKTtcblxuICBlc3EgPSBFQVJUSF9Fc3E7XG5cbiAgeCA9IHh2ZWNbMF07XG4gIHkgPSB4dmVjWzFdO1xuICB6ID0geHZlY1syXTtcblxuICB4ID0gTnVtYmVyKHgpO1xuICB5ID0gTnVtYmVyKHkpO1xuICB6ID0gTnVtYmVyKHopO1xuXG4gIHJwID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkgKyB6ICogeik7XG5cbiAgZmxhdGdjID0gTWF0aC5hc2luKHogLyBycCkgLyBkdHI7XG5cbiAgdGVzdHZhbCA9IE1hdGguYWJzKHgpICsgTWF0aC5hYnMoeSk7XG4gIGlmICh0ZXN0dmFsIDwgMS4wZS0xMCkge1xuICAgIGZsb24gPSAwLjBcbiAgfSBlbHNlIHtcbiAgICBmbG9uID0gTWF0aC5hdGFuMih5LCB4KSAvIGR0clxuICB9XG4gIGlmIChmbG9uIDwgMC4wKSB7XG4gICAgZmxvbiA9IGZsb24gKyAzNjAuMFxuICB9XG5cbiAgcCA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5KTtcblxuICAvLyAgICAgICAgICAgICBvbiBwb2xlIHNwZWNpYWwgY2FzZVxuXG4gIGlmIChwIDwgMS4wZS0xMCkge1xuICAgIGZsYXQgPSA5MC4wXG4gICAgaWYgKHogPCAwLjApIHtcbiAgICAgIGZsYXQgPSAtOTAuMFxuICAgIH1cblxuICAgIGFsdGttID0gcnAgLSByZWFydGgoZmxhdCk7XG4gICAgbGxodmVjWzBdID0gZmxhdDtcbiAgICBsbGh2ZWNbMV0gPSBmbG9uO1xuICAgIGxsaHZlY1syXSA9IGFsdGttO1xuXG4gICAgcmV0dXJuIGxsaHZlYztcbiAgfVxuXG4gIC8vICAgICAgICBmaXJzdCBpdGVyYXRpb24sIHVzZSBmbGF0Z2MgdG8gZ2V0IGFsdGl0dWRlIFxuICAvLyAgICAgICAgYW5kIGFsdCBuZWVkZWQgdG8gY29udmVydCBnYyB0byBnZCBsYXQuXG5cbiAgcm5vdyA9IHJlYXJ0aChmbGF0Z2MpO1xuICBhbHRrbSA9IHJwIC0gcm5vdztcbiAgZmxhdCA9IGdjMmdkKGZsYXRnYywgYWx0a20pO1xuXG4gIHJybnJtID0gcmFkY3VyKGZsYXQpO1xuICBybiA9IHJybnJtWzFdO1xuXG4gIGZvciAodmFyIGtvdW50ID0gMDsga291bnQgPCA1OyBrb3VudCsrKSB7XG4gICAgc2xhdCA9IE1hdGguc2luKGR0ciAqIGZsYXQpO1xuICAgIHRhbmdkID0gKHogKyBybiAqIGVzcSAqIHNsYXQpIC8gcDtcbiAgICBmbGF0biA9IE1hdGguYXRhbih0YW5nZCkgLyBkdHI7XG5cbiAgICBkbGF0ID0gZmxhdG4gLSBmbGF0O1xuICAgIGZsYXQgPSBmbGF0bjtcbiAgICBjbGF0ID0gTWF0aC5jb3MoZHRyICogZmxhdCk7XG5cbiAgICBycm5ybSA9IHJhZGN1cihmbGF0KTtcbiAgICBybiA9IHJybnJtWzFdO1xuXG4gICAgYWx0a20gPSAocCAvIGNsYXQpIC0gcm47XG5cbiAgICBpZiAoTWF0aC5hYnMoZGxhdCkgPCAxLjBlLTEyKSB7XG4gICAgICBicmVha1xuICAgIH1cblxuICB9XG5cbiAgbGxodmVjWzBdID0gZmxhdDtcbiAgbGxodmVjWzFdID0gZmxvbjtcbiAgbGxodmVjWzJdID0gYWx0a207XG5cbiAgcmV0dXJuIGxsaHZlYztcblxufSIsInZhciB2aWV3ZXIgPSBuZXcgQ2VzaXVtLlZpZXdlcignY2VzaXVtQ29udGFpbmVyJywge1xuXG4gIGZ1bGxzY3JlZW5CdXR0b246IGZhbHNlLFxuICBiYXNlTGF5ZXJQaWNrZXI6IGZhbHNlLFxuICB0aW1lbGluZTogZmFsc2UsXG4gIGhvbWVCdXR0b246IGZhbHNlLFxuICBpbmZvQm94ZTogZmFsc2UsXG4gIG5hdmlnYXRpb25IZWxwQnV0dG9uOiBmYWxzZSxcbiAgc2VsZWN0aW9uSW5kaWNhdG9yOiBmYWxzZSxcbiAgdnJCdXR0b246IGZhbHNlLFxuICBnZW9jb2RlcjogZmFsc2UsXG4gIHNjZW5lTW9kZVBpY2tlcjogZmFsc2UsXG4gIGFuaW1hdGlvbjogZmFsc2UsXG4gIC8vICBpbWFnZXJ5UHJvdmlkZXI6IG5ldyBDZXNpdW0uQXJjR2lzTWFwU2VydmVySW1hZ2VyeVByb3ZpZGVyKHtcbiAgLy8gICAgdXJsOiAnaHR0cDovL3NlcnZlci5hcmNnaXNvbmxpbmUuY29tL0FyY0dJUy9yZXN0L3NlcnZpY2VzL1dvcmxkX1N0cmVldF9NYXAvTWFwU2VydmVyJ1xuICAvLyAgfSlcblxufSk7XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jZXNpdW0tdmlld2VyLWJvdHRvbScpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuY2xhc3Mgc2F0IHtcbiAgY29uc3RydWN0b3IobmFtZSwgaWQsIGRhdGUsIGluZm9zLCBwb3MpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmRhdGUgPSBkYXRlO1xuICAgIHRoaXMuaWQgPSBpZDtcbiAgICB0aGlzLnRydWVfcG9zID0gcG9zO1xuICAgIHRoaXMucG9zID0geHl6bGxoKHBvcyk7XG4gICAgdGhpcy5pbmZvcyA9IGluZm9zO1xuICAgIHRoaXMub2JqZWN0ID0gbmV3IENlc2l1bS5FbnRpdHkoe1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICBwb3NpdGlvbjogbmV3IENlc2l1bS5DYXJ0ZXNpYW4zLmZyb21EZWdyZWVzKHRoaXMucG9zWzBdLCB0aGlzLnBvc1sxXSwgdGhpcy5wb3NbMl0gKiAxMDAwKSxcbiAgICAgIGVsbGlwc29pZDoge1xuICAgICAgICByYWRpaTogbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKDUwMDAwLjAsIDUwMDAwLjAsIDUwMDAwLjApLFxuICAgICAgICBtYXRlcmlhbDogQ2VzaXVtLkNvbG9yLlJFRCxcblxuICAgICAgfSxcbiAgICAgIGxhYmVsOiB7XG4gICAgICAgIHRleHQ6IHRoaXMubmFtZSxcbiAgICAgICAgZm9udDogJzEwcHQgbW9ub3NwYWNlJyxcbiAgICAgICAgc3R5bGU6IENlc2l1bS5MYWJlbFN0eWxlLkZJTExfQU5EX09VVExJTkUsXG4gICAgICAgIG91dGxpbmVXaWR0aDogMixcbiAgICAgICAgdmVydGljYWxPcmlnaW46IENlc2l1bS5WZXJ0aWNhbE9yaWdpbi5CT1RUT00sXG4gICAgICAgIHBpeGVsT2Zmc2V0OiBuZXcgQ2VzaXVtLkNhcnRlc2lhbjIoMCwgLTI1KVxuICAgICAgfVxuXG4gICAgfSk7XG4gICAgdGhpcy5wb3B1cCA9IG5ldyBDZXNpdW0uRW50aXR5KHRoaXMubmFtZSk7XG4gICAgdGhpcy5wb3B1cC5kZXNjcmlwdGlvbiA9IHtcbiAgICAgIGdldFZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz1cInBvcF91cFwiPjxkaXYgY2xhc3M9XCJleGl0XCI+PC9kaXY+PGgyPicgKyB0aGF0Lm5hbWUgKyAnPC9oMj48cD5MYXVjaGVkIDogJyArIHRoYXQuZGF0ZSArICc8L3A+PHA+IENvdW50cnkgOiAnICsgdGhhdC5pbmZvcy5jb3VudHJ5ICsgJzwvcD48cD4gRnVuY3Rpb24gOiAnICsgdGhhdC5pbmZvcy5kaXNjaXBsaW5lICsgJzwvcD48cD4gTWFzcyA6ICcgKyB0aGF0LmluZm9zLm1hc3MgKyAnPC9wPjxwPkRlc2NyaXB0aW9uIDogJyArIHRoYXQuaW5mb3MuZGVzY3JpcHRpb24gKyAnPC9wPjwvZGl2Pic7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuY3JlYXRlKCk7XG4gIH1cblxuICBjcmVhdGUoKSB7XG4gICAgdmlld2VyLmVudGl0aWVzLmFkZCh0aGlzLm9iamVjdCk7XG4gIH1cbn1cblxudmFyIHNhdGVsbGl0ZXMgPSBbXTtcblxuZm9yICh2YXIgaSA9IDA7IGkgPCBzYXRzLmxlbmd0aDsgaSsrKSB7XG4gIHNhdGVsbGl0ZXMucHVzaChuZXcgc2F0KHNhdHNbaV0ubmFtZSwgc2F0c1tpXS5pZCwgc2F0c1tpXS5kYXRlLCBzYXRzW2ldLmluZm9zLCBzYXRzW2ldLnBvcykpO1xufVxuXG5jb25zb2xlLmxvZyhzYXRlbGxpdGVzKTtcblxudmFyIGhhbmRsZXIgPSBuZXcgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyKHZpZXdlci5zY2VuZS5jYW52YXMpO1xuaGFuZGxlci5zZXRJbnB1dEFjdGlvbihmdW5jdGlvbiAoY2xpY2spIHtcbiAgdmFyIHBpY2tlZE9iamVjdCA9IHZpZXdlci5zY2VuZS5waWNrKGNsaWNrLnBvc2l0aW9uKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzYXRlbGxpdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKENlc2l1bS5kZWZpbmVkKHBpY2tlZE9iamVjdCkgJiYgKHBpY2tlZE9iamVjdC5pZCA9PSBzYXRlbGxpdGVzW2ldLm9iamVjdCkpIHtcbiAgICAgIHZpZXdlci5zZWxlY3RlZEVudGl0eSA9IHNhdGVsbGl0ZXNbaV0ucG9wdXA7XG4gICAgfVxuICB9XG59LCBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudFR5cGUuTEVGVF9DTElDSyk7XG4iXX0=
