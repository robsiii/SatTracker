"use strict";function geodGBL(){var e;"undefined"==(e=void 0===EARTH_A?"undefined":_typeof(EARTH_A))&&wgs84()}function earthcon(e,t){var a,n,r,s,i;s=Number(e),i=Number(t),a=1-i/s,r=1-i*i/(s*s),n=Math.sqrt(r),EARTH_A=s,EARTH_B=i,EARTH_F=a,EARTH_Ecc=n,EARTH_Esq=r}function wgs84(){var e,t,a;e=6378.137,a=1/298.257223563,t=e*(1-a),earthcon(e,t)}function radcur(e){var t,a,n,r,s,i,o,u,l,c,h,p,d,m,v,f,b=new Array(3),y=Math.PI/180;return geodGBL(),t=EARTH_A,a=EARTH_B,r=t*t,s=a*a,i=1-s/r,Math.sqrt(i),n=Number(e),o=Math.cos(y*n),u=Math.sin(y*n),l=1-i*u*u,c=Math.sqrt(l),h=t/c,p=h*(1-i)/l,d=h*o,f=(1-i)*h*u,m=d*d+f*f,v=Math.sqrt(m),b[0]=v,b[1]=h,b[2]=p,b}function rearth(e){var t,a;return a=Number(e),t=radcur(a),t[0]}function gc2gd(e,t){var a,n,r,s,i,o,u,l,c,h=Math.PI/180,p=1/h,d=new Array(3);return geodGBL(),n=Number(e),r=Number(t),i=EARTH_Ecc,o=i*i,l=r,d=radcur(n),s=d[1],c=1-o*s/(s+l),u=Math.tan(h*n)/c,a=p*Math.atan(u),d=radcur(a),s=d[1],c=1-o*s/(s+l),u=Math.tan(h*n)/c,a=p*Math.atan(u)}function gd2gc(e,t){var a,n,r,s,i,o,u,l,c=Math.PI/180,h=1/c,p=new Array(3);return geodGBL(),a=Number(e),n=Number(t),s=EARTH_Ecc,i=s*s,u=n,p=radcur(a),r=p[1],l=1-i*r/(r+u),o=Math.tan(c*a)*l,h*Math.atan(o)}function llenu(e,t){var a,n,r,s,i,o,u,l=new Array(3),c=new Array(3),h=new Array(3),p=new Array(3),r=Math.PI/180;return a=Number(e),n=Number(t),s=Math.cos(r*a),i=Math.sin(r*a),o=Math.cos(r*n),u=Math.sin(r*n),l[0]=-u,l[1]=o,l[2]=0,c[0]=-o*i,c[1]=-u*i,c[2]=s,h[0]=o*s,h[1]=u*s,h[2]=i,p[0]=l,p[1]=c,p[2]=h,p}function xyzllh(e){var t,a,n,r,s,i,o,u,l,c,h,p,d,m,v,f,b,y,g,_=Math.PI/180,w=new Array(3),A=new Array(3);if(geodGBL(),m=EARTH_Esq,i=e[0],o=e[1],u=e[2],i=Number(i),o=Number(o),u=Number(u),s=Math.sqrt(i*i+o*o+u*u),t=Math.asin(u/s)/_,h=Math.abs(i)+Math.abs(o),y=h<1e-10?0:Math.atan2(o,i)/_,y<0&&(y+=360),(l=Math.sqrt(i*i+o*o))<1e-10)return b=90,u<0&&(b=-90),g=s-rearth(b),A[0]=b,A[1]=y,A[2]=g,A;r=rearth(t),g=s-r,b=gc2gd(t,g),w=radcur(b),d=w[1];for(var p=0;p<5&&(f=Math.sin(_*b),c=(u+d*m*f)/l,a=Math.atan(c)/_,n=a-b,b=a,v=Math.cos(_*b),w=radcur(b),d=w[1],g=l/v-d,!(Math.abs(n)<1e-12));p++);return A[0]=b,A[1]=y,A[2]=g,A}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function filter_date(e){for(var t=0;t<satellites.length;t++){var a=new Date(satellites[t].date),a=a.getFullYear();e[0]>a||e[1]<a?satellites[t].object.show=!1:satellites[t].object.show=!0}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EARTH_A,EARTH_B,EARTH_F,EARTH_Ecc,EARTH_Esq,_createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),viewer=new Cesium.Viewer("cesiumContainer",{fullscreenButton:!1,baseLayerPicker:!1,timeline:!1,homeButton:!1,infoBoxe:!1,navigationHelpButton:!1,selectionIndicator:!1,vrButton:!1,geocoder:!1,sceneModePicker:!1,animation:!1,skyAtmosphere:!1});document.querySelector(".cesium-viewer-bottom").style.display="none";var cross=document.querySelector("#cross"),menu=document.querySelector(".left_menu"),cross_div=document.querySelector(".exit");cross.addEventListener("click",function(){"true"==this.getAttribute("data-open")?(this.setAttribute("data-open",!1),menu.classList.remove("active"),cross_div.classList.remove("active")):(this.setAttribute("data-open",!0),menu.classList.add("active"),cross_div.classList.add("active"))});for(var sat=function(){function e(t,a,n,r,s){_classCallCheck(this,e);this.name=t,this.date=n,this.id=a,this.true_pos=s,this.pos=xyzllh(s),this.infos=r,this.object=new Cesium.Entity({id:this.id,name:this.name,position:new Cesium.Cartesian3.fromDegrees(this.pos[0],this.pos[1],1e3*this.pos[2]),ellipsoid:{radii:new Cesium.Cartesian3(7e4,7e4,7e4),material:Cesium.Color.GREEN},label:{text:this.name,font:"10pt arial",style:Cesium.LabelStyle.FILL_AND_OUTLINE,outlineWidth:2,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:new Cesium.Cartesian2(0,-25)}}),this.popup=document.createElement("div"),this.popup.className="pop-up",this.popup.appendChild(document.createElement("div")),this.popup.children[0].className="pop-up-container",this.popup.children[0].innerHTML='<p class="name">'+this.name+"</p><p>Launched on the "+this.date+"</p><p>Organisation : "+this.infos.country+"</p><p>Mass : "+this.infos.mass+"</p><p>"+this.infos.description+"</p>",this.create()}return _createClass(e,[{key:"create",value:function(){viewer.entities.add(this.object)}}]),e}(),satellites=[],i=0;i<sats.length;i++)satellites.push(new sat(sats[i].name,sats[i].id,sats[i].date,sats[i].infos,sats[i].pos));console.log(satellites);var last_popup,handler=new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas);handler.setInputAction(function(e){for(var t=viewer.scene.pick(e.position),a=0;a<satellites.length;a++)Cesium.defined(t)&&t.id==satellites[a].object&&(void 0!=last_popup&&document.querySelector("body").removeChild(last_popup),document.querySelector("body").appendChild(satellites[a].popup),last_popup=satellites[a].popup)},Cesium.ScreenSpaceEventType.LEFT_CLICK);var parent=document.querySelector(".range-slider"),rangeS=parent.querySelectorAll("input[type=range]"),numberS=parent.querySelectorAll("input[type=number]");rangeS.forEach(function(e){e.oninput=function(){var e=parseFloat(rangeS[0].value),t=parseFloat(rangeS[1].value);if(e>t){var a=[t,e];e=a[0],t=a[1]}numberS[0].value=e,numberS[1].value=t,filter_date([numberS[0].value,numberS[1].value])}}),numberS.forEach(function(e){e.onblur=function(){var e=parseFloat(numberS[0].value),t=parseFloat(numberS[1].value);if(e>t){var a=e;numberS[0].value=t,numberS[1].value=a}rangeS[0].value=e,rangeS[1].value=t,filter_date([rangeS[0].value,rangeS[1].value])},e.onkeyup=function(){13==event.keyCode&&e.blur()}});var select_org=document.querySelector("select");select_org.onchange=function(){for(var e=0;e<satellites.length;e++)"Organisation"==this.value?satellites[e].object.show=!0:"Others"==this.value?"Pas de donnÃ©es"!=satellites[e].infos?satellites[e].object.show=!1:satellites[e].object.show=!0:satellites[e].infos.country==this.value?satellites[e].object.show=!0:satellites[e].object.show=!1};var search=document.querySelector("#name");search.onchange=function(){for(var e=this.value.toLowerCase(),t=0;t<satellites.length;t++)satellites[t].name.toLowerCase().includes(e)?satellites[t].object.show=!0:satellites[t].object.show=!1};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnZlcnRlci5qcyIsInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJnZW9kR0JMIiwidHN0Z2xvYmFsIiwiRUFSVEhfQSIsIl90eXBlb2YiLCJ3Z3M4NCIsImVhcnRoY29uIiwiYWkiLCJiaSIsImYiLCJlY2MiLCJlY2NzcSIsImEiLCJiIiwiTnVtYmVyIiwiTWF0aCIsInNxcnQiLCJFQVJUSF9CIiwiRUFSVEhfRiIsIkVBUlRIX0VjYyIsIkVBUlRIX0VzcSIsIndnczg0YSIsIndnczg0YiIsIndnczg0ZiIsInJhZGN1ciIsImxhdGkiLCJsYXQiLCJhc3EiLCJic3EiLCJjbGF0Iiwic2xhdCIsImRzcSIsImQiLCJybiIsInJtIiwicmhvIiwicnNxIiwiciIsInoiLCJycm5ybSIsIkFycmF5IiwiZHRyIiwiUEkiLCJjb3MiLCJzaW4iLCJyZWFydGgiLCJnYzJnZCIsImZsYXRnY2kiLCJhbHRrbWkiLCJmbGF0Z2QiLCJmbGF0Z2MiLCJhbHRrbSIsImVzcSIsInRsYXQiLCJhbHRub3ciLCJyYXRpbyIsInJ0ZCIsInRhbiIsImF0YW4iLCJnZDJnYyIsImZsYXRnZGkiLCJsbGVudSIsImZsYXRpIiwiZmxvbmkiLCJmbGF0IiwiZmxvbiIsImNsb24iLCJzbG9uIiwiZWUiLCJlbiIsImV1IiwiZW51IiwieHl6bGxoIiwieHZlYyIsImZsYXRuIiwiZGxhdCIsInJub3ciLCJycCIsIngiLCJ5IiwicCIsInRhbmdkIiwidGVzdHZhbCIsImtvdW50IiwibGxodmVjIiwiYXNpbiIsImFicyIsImF0YW4yIiwiZmlsdGVyX2RhdGUiLCJkYXRlcyIsImkiLCJzYXRlbGxpdGVzIiwibGVuZ3RoIiwic2F0X2RhdGUiLCJEYXRlIiwiZGF0ZSIsImdldEZ1bGxZZWFyIiwib2JqZWN0Iiwic2hvdyIsInZpZXdlciIsIkNlc2l1bSIsIlZpZXdlciIsImZ1bGxzY3JlZW5CdXR0b24iLCJiYXNlTGF5ZXJQaWNrZXIiLCJ0aW1lbGluZSIsImhvbWVCdXR0b24iLCJpbmZvQm94ZSIsIm5hdmlnYXRpb25IZWxwQnV0dG9uIiwic2VsZWN0aW9uSW5kaWNhdG9yIiwidnJCdXR0b24iLCJnZW9jb2RlciIsInNjZW5lTW9kZVBpY2tlciIsImFuaW1hdGlvbiIsInNreUF0bW9zcGhlcmUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzdHlsZSIsImRpc3BsYXkiLCJjcm9zcyIsIm1lbnUiLCJjcm9zc19kaXYiLCJhZGRFdmVudExpc3RlbmVyIiwidGhpcyIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsInNhdCIsIm5hbWUiLCJpZCIsImluZm9zIiwicG9zIiwiX2NsYXNzQ2FsbENoZWNrIiwidHJ1ZV9wb3MiLCJFbnRpdHkiLCJwb3NpdGlvbiIsIkNhcnRlc2lhbjMiLCJmcm9tRGVncmVlcyIsImVsbGlwc29pZCIsInJhZGlpIiwibWF0ZXJpYWwiLCJDb2xvciIsIkdSRUVOIiwibGFiZWwiLCJ0ZXh0IiwiZm9udCIsIkxhYmVsU3R5bGUiLCJGSUxMX0FORF9PVVRMSU5FIiwib3V0bGluZVdpZHRoIiwidmVydGljYWxPcmlnaW4iLCJWZXJ0aWNhbE9yaWdpbiIsIkJPVFRPTSIsInBpeGVsT2Zmc2V0IiwiQ2FydGVzaWFuMiIsInBvcHVwIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImFwcGVuZENoaWxkIiwiY2hpbGRyZW4iLCJpbm5lckhUTUwiLCJjb3VudHJ5IiwibWFzcyIsImRlc2NyaXB0aW9uIiwiY3JlYXRlIiwiZW50aXRpZXMiLCJzYXRzIiwicHVzaCIsImNvbnNvbGUiLCJsb2ciLCJsYXN0X3BvcHVwIiwiaGFuZGxlciIsIlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyIiwic2NlbmUiLCJjYW52YXMiLCJzZXRJbnB1dEFjdGlvbiIsImNsaWNrIiwicGlja2VkT2JqZWN0IiwicGljayIsImRlZmluZWQiLCJ1bmRlZmluZWQiLCJyZW1vdmVDaGlsZCIsIlNjcmVlblNwYWNlRXZlbnRUeXBlIiwiTEVGVF9DTElDSyIsInBhcmVudCIsInJhbmdlUyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJudW1iZXJTIiwiZm9yRWFjaCIsImVsIiwib25pbnB1dCIsInNsaWRlMSIsInBhcnNlRmxvYXQiLCJ2YWx1ZSIsInNsaWRlMiIsIl9yZWYiLCJvbmJsdXIiLCJudW1iZXIxIiwibnVtYmVyMiIsInRtcCIsIm9ua2V5dXAiLCJldmVudCIsImtleUNvZGUiLCJibHVyIiwic2VsZWN0X29yZyIsIm9uY2hhbmdlIiwic2VhcmNoIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyJdLCJtYXBwaW5ncyI6IllBa0JBLFNBQVNBLFdBS1AsR0FBSUMsRUFHYSxlQURqQkEsRUFBQSxTQUFtQkMsUUFBbkIsWUFBQUMsUUFBbUJELFdBQ1dFLFFBTWhDLFFBQVNDLFVBQVNDLEVBQUlDLEdBU3BCLEdBQUlDLEdBQUdDLEVBQUtDLEVBQU9DLEVBQUdDLENBRXRCRCxHQUFJRSxPQUFPUCxHQUNYTSxFQUFJQyxPQUFPTixHQUVYQyxFQUFJLEVBQUlJLEVBQUlELEVBQ1pELEVBQVEsRUFBSUUsRUFBSUEsR0FBS0QsRUFBSUEsR0FDekJGLEVBQU1LLEtBQUtDLEtBQUtMLEdBRWhCUixRQUFVUyxFQUNWSyxRQUFVSixFQUNWSyxRQUFVVCxFQUNWVSxVQUFZVCxFQUNaVSxVQUFZVCxFQU1kLFFBQVNOLFNBVVAsR0FBSWdCLEdBQVFDLEVBQVFDLENBRXBCRixHQUFTLFNBQ1RFLEVBQVMsRUFBTSxjQUNmRCxFQUFTRCxHQUFVLEVBQU1FLEdBRXpCakIsU0FBU2UsRUFBUUMsR0FPbkIsUUFBU0UsUUFBT0MsR0FlZCxHQUlJYixHQUFHQyxFQUFHYSxFQUNOQyxFQUFLQyxFQUFLakIsRUFBWWtCLEVBQU1DLEVBQzVCQyxFQUFLQyxFQUFHQyxFQUFJQyxFQUFJQyxFQUFLQyxFQUFLQyxFQUFHQyxFQU43QkMsRUFBUSxHQUFJQyxPQUFNLEdBRWxCQyxFQUFNMUIsS0FBSzJCLEdBQUssR0FzQ3BCLE9BOUJBekMsV0FFQVcsRUFBSVQsUUFDSlUsRUFBSUksUUFFSlUsRUFBTWYsRUFBSUEs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QUNwQixJQUFLLEdBQUluSCxHQUFJLEVBQUdBLEVBQUlDLFdBQVdDLE9BQVFGLElBQ25CLGdCQUFkZ0MsS0FBS3VFLE1BQXlCdEcsV0FBV0QsR0FBR08sT0FBT0MsTUFBTyxFQUUxQyxVQUFkd0IsS0FBS3VFLE1BQ29CLGtCQUF2QnRHLFdBQVdELEdBQUd5QyxNQUNoQnhDLFdBQVdELEdBQUdPLE9BQU9DLE1BQU8sRUFDdkJQLFdBQVdELEdBQUdPLE9BQU9DLE1BQU8sRUFDMUJQLFdBQVdELEdBQUd5QyxNQUFNOEIsU0FBV3ZDLEtBQUt1RSxNQUM3Q3RHLFdBQVdELEdBQUdPLE9BQU9DLE1BQU8sRUFDdkJQLFdBQVdELEdBQUdPLE9BQU9DLE1BQU8sRUFLekMsSUFBSTRHLFFBQVM1RixTQUFTQyxjQUFjLFFBRXBDMkYsUUFBT0QsU0FBVyxXQUVoQixJQUFLLEdBREQ1RSxHQUFPUCxLQUFLdUUsTUFBTWMsY0FDYnJILEVBQUksRUFBR0EsRUFBSUMsV0FBV0MsT0FBUUYsSUFDakNDLFdBQVdELEdBQUd1QyxLQUFLOEUsY0FBY0MsU0FBUy9FLEdBQzVDdEMsV0FBV0QsR0FBR08sT0FBT0MsTUFBTyxFQUN2QlAsV0FBV0QsR0FBR08sT0FBT0MsTUFBTyIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogICAgICAgICAgICAgZ2VvZGVzeSByb3V0aW5lcyBpbiBKYXZhU2NyaXB0XG4gICAgICAgICAgICAgICAgIEphbWVzIFIuIENseW5jaCBOUFMgLyAyMDAzXG4gICAgICAgICAgICAgICBcbiAgICAgICAgICBEb25lIGZvciBzdXBwb3J0IG9mIHdlYiBlZHVjYXRpb24gcGFnZXNcblxuXG4gICAgICAgICAgPT0gbXVzdCBjb252ZXJ0IGlucHV0cyB0byBudW1iZXJzIGZvciBzYWZldHkgPT1cbiAgICAgICAgICA9PSBpZiBzdHJpbmcgY29tZXMgaW4gLSBzb21ldGltZXMgd29ya3MsIHNvbWV0aW1lcyBub3QgIT09XG4qL1xuXG52YXIgRUFSVEhfQTtcbnZhciBFQVJUSF9CO1xudmFyIEVBUlRIX0Y7XG52YXIgRUFSVEhfRWNjO1xudmFyIEVBUlRIX0VzcTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24gZ2VvZEdCTCgpXG5cbi8vICAgICAgICAgICAgIHRlc3QgYW5kIGVuc3VyZSBnZW9kZXN5IGdsb2JhbHMgbG9hZGVkXG57XG5cbiAgdmFyIHRzdGdsb2JhbFxuXG4gIHRzdGdsb2JhbCA9IHR5cGVvZiBFQVJUSF9BO1xuICBpZiAodHN0Z2xvYmFsID09IFwidW5kZWZpbmVkXCIpIHdnczg0KClcblxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5mdW5jdGlvbiBlYXJ0aGNvbihhaSwgYmkpXG5cbi8qICAgICAgICBTZXRzIEVhcnRoIENvbnN0YW50cyBhcyBnbG9iYWxzXG4gICAgICAgICAgICAgLS0gIGlucHV0IGEsYlxuICAgICAgICAgICAgIC0tICBMZWF2ZXMgR2xvYmFscyBcbiAgICAgICAgICAgICAgICAgRUFSVEhfQSAgICAgIEVBUlRIX0IgICBFQVJUSF9GICBFQVJUSF9FY2NcbiovXG5cbntcbiAgdmFyIGYsIGVjYywgZWNjc3EsIGEsIGJcblxuICBhID0gTnVtYmVyKGFpKTtcbiAgYiA9IE51bWJlcihiaSk7XG5cbiAgZiA9IDEgLSBiIC8gYTtcbiAgZWNjc3EgPSAxIC0gYiAqIGIgLyAoYSAqIGEpO1xuICBlY2MgPSBNYXRoLnNxcnQoZWNjc3EpO1xuXG4gIEVBUlRIX0EgPSBhO1xuICBFQVJUSF9CID0gYjtcbiAgRUFSVEhfRiA9IGY7XG4gIEVBUlRIX0VjYyA9IGVjYztcbiAgRUFSVEhfRXNxID0gZWNjc3E7XG59XG5cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24gd2dzODQoKVxuXG4vKiAgICAgICAgV0dTODQgRWFydGggQ29uc3RhbnRzXG4gICAgICAgICAgICAgLS0gIHJldHVybnMgYSxiLGYsZSAgLS1cbiAgICAgICAgICAgICAtLSAgTGVhdmVzIEdsb2JhbHMgXG4gICAgICAgICAgICAgICAgIEVBUlRIX0EgICAgICBFQVJUSF9CICAgRUFSVEhfRiAgRUFSVEhfRWNjXG5cbiovXG5cbntcbiAgdmFyIHdnczg0YSwgd2dzODRiLCB3Z3M4NGZcblxuICB3Z3M4NGEgPSA2Mzc4LjEzNztcbiAgd2dzODRmID0gMS4wIC8gMjk4LjI1NzIyMzU2MztcbiAgd2dzODRiID0gd2dzODRhICogKDEuMCAtIHdnczg0Zik7XG5cbiAgZWFydGhjb24od2dzODRhLCB3Z3M4NGIpO1xuXG59XG5cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24gcmFkY3VyKGxhdGkpXG5cbi8qXG4gICAgICAgY29tcHV0ZSB0aGUgcmFkaWkgYXQgdGhlIGdlb2RldGljIGxhdGl0dWRlIGxhdCAoaW4gZGVncmVlcylcbiAgICAgXG4gICAgIGlucHV0OlxuICAgICAgICAgICAgICAgbGF0ICAgICAgIGdlb2RldGljIGxhdGl0dWRlIGluIGRlZ3JlZXNcbiAgICAgb3V0cHV0OiAgIFxuICAgICAgICAgICAgICAgcnJucm0gICAgIGFuIGFycmF5IDMgbG9uZ1xuICAgICAgICAgICAgICAgICAgICAgICAgIHIsICBybiwgIHJtICAgaW4ga21cblxuKi9cblxue1xuXG4gIHZhciBycm5ybSA9IG5ldyBBcnJheSgzKVxuXG4gIHZhciBkdHIgPSBNYXRoLlBJIC8gMTgwLjBcblxuICB2YXIgYSwgYiwgbGF0XG4gIHZhciBhc3EsIGJzcSwgZWNjc3EsIGVjYywgY2xhdCwgc2xhdFxuICB2YXIgZHNxLCBkLCBybiwgcm0sIHJobywgcnNxLCByLCB6XG5cbiAgLy8gICAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBnZW9kR0JMKCk7XG5cbiAgYSA9IEVBUlRIX0E7XG4gIGIgPSBFQVJUSF9CO1xuXG4gIGFzcSA9IGEgKiBhO1xuICBic3EgPSBiICogYjtcbiAgZWNjc3EgPSAxIC0gYnNxIC8gYXNxO1xuICBlY2MgPSBNYXRoLnNxcnQoZWNjc3EpO1xuXG4gIGxhdCA9IE51bWJlcihsYXRpKTtcblxuICBjbGF0ID0gTWF0aC5jb3MoZHRyICogbGF0KTtcbiAgc2xhdCA9IE1hdGguc2luKGR0ciAqIGxhdCk7XG5cbiAgZHNxID0gMS4wIC0gZWNjc3EgKiBzbGF0ICogc2xhdDtcbiAgZCA9IE1hdGguc3FydChkc3EpO1xuXG4gIHJuID0gYSAvIGQ7XG4gIHJtID0gcm4gKiAoMS4wIC0gZWNjc3EpIC8gZHNxO1xuXG4gIHJobyA9IHJuICogY2xhdDtcbiAgeiA9ICgxLjAgLSBlY2NzcSkgKiBybiAqIHNsYXQ7XG4gIHJzcSA9IHJobyAqIHJobyArIHogKiB6O1xuICByID0gTWF0aC5zcXJ0KHJzcSk7XG5cbiAgcnJucm1bMF0gPSByO1xuICBycm5ybVsxXSA9IHJuO1xuICBycm5ybVsyXSA9IHJtO1xuXG4gIHJldHVybiAocnJucm0pO1xuXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8vICAgICAgICBwaHlzaWNhbCByYWRpdXMgb2YgZWFydGggZnJvbSBnZW9kZXRpYyBsYXRpdHVkZVxuXG5mdW5jdGlvbiByZWFydGgobGF0aSkge1xuICB2YXIgcnJucm0sIHIsIGxhdFxuXG4gIGxhdCA9IE51bWJlcihsYXRpKTtcblxuICBycm5ybSA9IHJhZGN1cihsYXQpO1xuICByID0gcnJucm1bMF07XG5cbiAgcmV0dXJuIChyKTtcblxufVxuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIGdjMmdkKGZsYXRnY2ksIGFsdGttaSlcblxuLyogICAgICAgIGdlb2NlbnRyaWMgbGF0aXR1ZGUgdG8gZ2VvZGV0aWMgbGF0aXR1ZGVcblxuICAgICBJbnB1dDpcbiAgICAgICAgICAgICAgIGZsYXRnYyAgICBnZW9jZW50cmljIGxhdGl0dWRlIGRlZy5cbiAgICAgICAgICAgICAgIGFsdGttICAgICBhbHRpdGlkZSBpbiBrbVxuICAgICBvdXB1dDpcbiAgICAgICAgICAgICAgIGZsYXRnZCAgICBnZW9kZXRpYyBsYXRpdHVkZSBpbiBkZWdcblxuKi9cblxue1xuXG4gIHZhciBkdHIgPSBNYXRoLlBJIC8gMTgwLjA7XG4gIHZhciBydGQgPSAxIC8gZHRyO1xuXG4gIHZhciBmbGF0Z2QsIGZsYXRnYywgYWx0a21cbiAgdmFyIHJybnJtID0gbmV3IEFycmF5KDMpXG4gIHZhciByZSwgcm4sIGVjYywgZXNxO1xuICB2YXIgc2xhdCwgY2xhdCwgdGxhdFxuICB2YXIgYWx0bm93LCByYXRpb1xuXG4gIGdlb2RHQkwoKTtcblxuICBmbGF0Z2MgPSBOdW1iZXIoZmxhdGdjaSk7XG4gIGFsdGttID0gTnVtYmVyKGFsdGttaSk7XG5cbiAgZWNjID0gRUFSVEhfRWNjO1xuICBlc3EgPSBlY2MgKiBlY2M7XG5cbiAgLy8gICAgICAgICAgICAgYXBwcm94aW1hdGlvbiBieSBzdGFnZXNcbiAgLy8gICAgICAgICAgICAgMXN0IHVzZSBnYy1sYXQgYXMgaWYgaXMgZ2QsIHRoZW4gY29ycmVjdCBhbHQgZGVwZW5kZW5jZVxuXG4gIGFsdG5vdyA9IGFsdGttO1xuXG4gIHJybnJtID0gcmFkY3VyKGZsYXRnYyk7XG4gIHJuID0gcnJucm1bMV07XG5cbiAgcmF0aW8gPSAxIC0gZXNxICogcm4gLyAocm4gKyBhbHRub3cpO1xuXG4gIHRsYXQgPSBNYXRoLnRhbihkdHIgKiBmbGF0Z2MpIC8gcmF0aW87XG4gIGZsYXRnZCA9IHJ0ZCAqIE1hdGguYXRhbih0bGF0KTtcblxuICAvLyAgICAgICAgbm93IHVzZSB0aGlzIGFwcHJveGltYXRpb24gZm9yIGdkLWxhdCB0byBnZXQgcm4gZXRjLlxuXG4gIHJybnJtID0gcmFkY3VyKGZsYXRnZCk7XG4gIHJuID0gcnJucm1bMV07XG5cbiAgcmF0aW8gPSAxIC0gZXNxICogcm4gLyAocm4gKyBhbHRub3cpXG4gIHRsYXQgPSBNYXRoLnRhbihkdHIgKiBmbGF0Z2MpIC8gcmF0aW87XG4gIGZsYXRnZCA9IHJ0ZCAqIE1hdGguYXRhbih0bGF0KTtcblxuICByZXR1cm4gZmxhdGdkXG5cbn1cblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cbmZ1bmN0aW9uIGdkMmdjKGZsYXRnZGksIGFsdGttaSlcblxuLyogICAgICAgIGdlb2RldGljIGxhdGl0dWRlIHRvIGdlb2NlbnRyaWMgbGF0aXR1ZGVcblxuICAgICBJbnB1dDpcbiAgICAgICAgICAgICAgIGZsYXRnZCAgICBnZW9kZXRpYyBsYXRpdHVkZSBkZWcuXG4gICAgICAgICAgICAgICBhbHRrbSAgICAgYWx0aXRpZGUgaW4ga21cbiAgICAgb3VwdXQ6XG4gICAgICAgICAgICAgICBmbGF0Z2MgICAgZ2VvY2VudHJpYyBsYXRpdHVkZSBpbiBkZWdcblxuKi9cblxue1xuXG4gIHZhciBkdHIgPSBNYXRoLlBJIC8gMTgwLjA7XG4gIHZhciBydGQgPSAxIC8gZHRyO1xuXG4gIHZhciBmbGF0Z2MsIGZsYXRnZCwgYWx0a21cbiAgdmFyIHJybnJtID0gbmV3IEFycmF5KDMpXG4gIHZhciByZSwgcm4sIGVjYywgZXNxO1xuICB2YXIgc2xhdCwgY2xhdCwgdGxhdFxuICB2YXIgYWx0bm93LCByYXRpb1xuXG4gIGdlb2RHQkwoKTtcblxuICBmbGF0Z2QgPSBOdW1iZXIoZmxhdGdkaSk7XG4gIGFsdGttID0gTnVtYmVyKGFsdGttaSk7XG5cbiAgZWNjID0gRUFSVEhfRWNjO1xuICBlc3EgPSBlY2MgKiBlY2M7XG5cbiAgYWx0bm93ID0gYWx0a207XG5cbiAgcnJucm0gPSByYWRjdXIoZmxhdGdkKTtcbiAgcm4gPSBycm5ybVsxXTtcblxuICByYXRpbyA9IDEgLSBlc3EgKiBybiAvIChybiArIGFsdG5vdyk7XG5cbiAgdGxhdCA9IE1hdGgudGFuKGR0ciAqIGZsYXRnZCkgKiByYXRpbztcbiAgZmxhdGdjID0gcnRkICogTWF0aC5hdGFuKHRsYXQpO1xuXG4gIHJldHVybiBmbGF0Z2M7XG5cbn1cblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5mdW5jdGlvbiBsbGVudShmbGF0aSwgZmxvbmkpXG5cbi8qICAgICAgICBsYXRpdHVkZSBsb25naXR1ZGUgdG8gZWFzdCxub3J0aCx1cCB1bml0IHZlY3RvcnNcblxuICAgICBpbnB1dDpcbiAgICAgICAgICAgICAgIGZsYXQgICAgICBsYXRpdHVkZSBpbiBkZWdlZXMgTlxuICAgICAgICAgICAgICAgICAgICAgICAgIFsgZ2MgLT4gZ2MgZW51LCAgZ2QgdXN1YWwgZW51IF1cbiAgICAgICAgICAgICAgIGZsb24gICAgICBsb25naXR1ZGUgaW4gZGVncmVlcyBFXG4gICAgIG91dHB1dDpcbiAgICAgICAgICAgICAgIGVudVszWzNdXSAgcGFja2VkIDMtdW5pdCB2ZWN0b3JzIC8gZWFjaCBhIDMgdmVjdG9yXG5cbiovXG5cbntcblxuICB2YXIgZmxhdCwgZmxvbjtcbiAgdmFyIGR0ciwgY2xhdCwgc2xhdCwgY2xvbiwgc2xvbjtcbiAgdmFyIGVlID0gbmV3IEFycmF5KDMpO1xuICB2YXIgZW4gPSBuZXcgQXJyYXkoMyk7XG4gIHZhciBldSA9IG5ldyBBcnJheSgzKTtcblxuICB2YXIgZW51ID0gbmV3IEFycmF5KDMpO1xuXG4gIHZhciBkdHIgPSBNYXRoLlBJIC8gMTgwLjBcblxuXG4gIC8vICAgICAgICAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgZmxhdCA9IE51bWJlcihmbGF0aSk7XG4gIGZsb24gPSBOdW1iZXIoZmxvbmkpO1xuXG4gIGNsYXQgPSBNYXRoLmNvcyhkdHIgKiBmbGF0KTtcbiAgc2xhdCA9IE1hdGguc2luKGR0ciAqIGZsYXQpO1xuICBjbG9uID0gTWF0aC5jb3MoZHRyICogZmxvbik7XG4gIHNsb24gPSBNYXRoLnNpbihkdHIgKiBmbG9uKTtcblxuICBlZVswXSA9IC1zbG9uO1xuICBlZVsxXSA9IGNsb247XG4gIGVlWzJdID0gMC4wO1xuXG4gIGVuWzBdID0gLWNsb24gKiBzbGF0O1xuICBlblsxXSA9IC1zbG9uICogc2xhdDtcbiAgZW5bMl0gPSBjbGF0O1xuXG4gIGV1WzBdID0gY2xvbiAqIGNsYXQ7XG4gIGV1WzFdID0gc2xvbiAqIGNsYXQ7XG4gIGV1WzJdID0gc2xhdDtcblxuICBlbnVbMF0gPSBlZTtcbiAgZW51WzFdID0gZW47XG4gIGVudVsyXSA9IGV1O1xuXG4gIHJldHVybiBlbnU7XG5cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24geHl6bGxoKHh2ZWMpXG5cbi8qICAgICAgICB4eXogdmVjdG9yICB0byAgbGF0LGxvbixoZWlnaHRcblxuICAgICBpbnB1dDpcbiAgICAgICAgICB4dmVjWzNdICAgeHl6IEVDRUYgbG9jYXRpb25cbiAgICAgb3V0cHV0OlxuXG4gICAgICAgICAgbGxodmVjWzNdIHdpdGggY29tcG9uZW50c1xuXG4gICAgICAgICAgZmxhdCAgICAgIGdlb2RldGljIGxhdGl0dWRlIGluIGRlZ1xuICAgICAgICAgIGZsb24gICAgICBsb25naXR1ZGUgaW4gZGVnXG4gICAgICAgICAgYWx0a20gICAgIGFsdGl0dWRlIGluIGttXG5cbiovXG5cbntcblxuICB2YXIgZHRyID0gTWF0aC5QSSAvIDE4MC4wO1xuICB2YXIgZmxhdGdjLCBmbGF0biwgZGxhdDtcbiAgdmFyIHJub3csIHJwO1xuICB2YXIgeCwgeSwgeiwgcDtcbiAgdmFyIHRhbmdjLCB0YW5nZDtcblxuICB2YXIgdGVzdHZhbCwga291bnQ7XG5cbiAgdmFyIHJuLCBlc3E7XG4gIHZhciBjbGF0LCBzbGF0O1xuICB2YXIgcnJucm0gPSBuZXcgQXJyYXkoMyk7XG5cbiAgdmFyIGZsYXQsIGZsb24sIGFsdGttO1xuICB2YXIgbGxodmVjID0gbmV3IEFycmF5KDMpO1xuXG5cbiAgZ2VvZEdCTCgpO1xuXG4gIGVzcSA9IEVBUlRIX0VzcTtcblxuICB4ID0geHZlY1swXTtcbiAgeSA9IHh2ZWNbMV07XG4gIHogPSB4dmVjWzJdO1xuXG4gIHggPSBOdW1iZXIoeCk7XG4gIHkgPSBOdW1iZXIoeSk7XG4gIHogPSBOdW1iZXIoeik7XG5cbiAgcnAgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSArIHogKiB6KTtcblxuICBmbGF0Z2MgPSBNYXRoLmFzaW4oeiAvIHJwKSAvIGR0cjtcblxuICB0ZXN0dmFsID0gTWF0aC5hYnMoeCkgKyBNYXRoLmFicyh5KTtcbiAgaWYgKHRlc3R2YWwgPCAxLjBlLTEwKSB7XG4gICAgZmxvbiA9IDAuMFxuICB9IGVsc2Uge1xuICAgIGZsb24gPSBNYXRoLmF0YW4yKHksIHgpIC8gZHRyXG4gIH1cbiAgaWYgKGZsb24gPCAwLjApIHtcbiAgICBmbG9uID0gZmxvbiArIDM2MC4wXG4gIH1cblxuICBwID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpO1xuXG4gIC8vICAgICAgICAgICAgIG9uIHBvbGUgc3BlY2lhbCBjYXNlXG5cbiAgaWYgKHAgPCAxLjBlLTEwKSB7XG4gICAgZmxhdCA9IDkwLjBcbiAgICBpZiAoeiA8IDAuMCkge1xuICAgICAgZmxhdCA9IC05MC4wXG4gICAgfVxuXG4gICAgYWx0a20gPSBycCAtIHJlYXJ0aChmbGF0KTtcbiAgICBsbGh2ZWNbMF0gPSBmbGF0O1xuICAgIGxsaHZlY1sxXSA9IGZsb247XG4gICAgbGxodmVjWzJdID0gYWx0a207XG5cbiAgICByZXR1cm4gbGxodmVjO1xuICB9XG5cbiAgLy8gICAgICAgIGZpcnN0IGl0ZXJhdGlvbiwgdXNlIGZsYXRnYyB0byBnZXQgYWx0aXR1ZGUgXG4gIC8vICAgICAgICBhbmQgYWx0IG5lZWRlZCB0byBjb252ZXJ0IGdjIHRvIGdkIGxhdC5cblxuICBybm93ID0gcmVhcnRoKGZsYXRnYyk7XG4gIGFsdGttID0gcnAgLSBybm93O1xuICBmbGF0ID0gZ2MyZ2QoZmxhdGdjLCBhbHRrbSk7XG5cbiAgcnJucm0gPSByYWRjdXIoZmxhdCk7XG4gIHJuID0gcnJucm1bMV07XG5cbiAgZm9yICh2YXIga291bnQgPSAwOyBrb3VudCA8IDU7IGtvdW50KyspIHtcbiAgICBzbGF0ID0gTWF0aC5zaW4oZHRyICogZmxhdCk7XG4gICAgdGFuZ2QgPSAoeiArIHJuICogZXNxICogc2xhdCkgLyBwO1xuICAgIGZsYXRuID0gTWF0aC5hdGFuKHRhbmdkKSAvIGR0cjtcblxuICAgIGRsYXQgPSBmbGF0biAtIGZsYXQ7XG4gICAgZmxhdCA9IGZsYXRuO1xuICAgIGNsYXQgPSBNYXRoLmNvcyhkdHIgKiBmbGF0KTtcblxuICAgIHJybnJtID0gcmFkY3VyKGZsYXQpO1xuICAgIHJuID0gcnJucm1bMV07XG5cbiAgICBhbHRrbSA9IChwIC8gY2xhdCkgLSBybjtcblxuICAgIGlmIChNYXRoLmFicyhkbGF0KSA8IDEuMGUtMTIpIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuXG4gIH1cblxuICBsbGh2ZWNbMF0gPSBmbGF0O1xuICBsbGh2ZWNbMV0gPSBmbG9uO1xuICBsbGh2ZWNbMl0gPSBhbHRrbTtcblxuICByZXR1cm4gbGxodmVjO1xuXG59IiwidmFyIHZpZXdlciA9IG5ldyBDZXNpdW0uVmlld2VyKCdjZXNpdW1Db250YWluZXInLCB7XG5cbiAgZnVsbHNjcmVlbkJ1dHRvbjogZmFsc2UsXG4gIGJhc2VMYXllclBpY2tlcjogZmFsc2UsXG4gIHRpbWVsaW5lOiBmYWxzZSxcbiAgaG9tZUJ1dHRvbjogZmFsc2UsXG4gIGluZm9Cb3hlOiBmYWxzZSxcbiAgbmF2aWdhdGlvbkhlbHBCdXR0b246IGZhbHNlLFxuICBzZWxlY3Rpb25JbmRpY2F0b3I6IGZhbHNlLFxuICB2ckJ1dHRvbjogZmFsc2UsXG4gIGdlb2NvZGVyOiBmYWxzZSxcbiAgc2NlbmVNb2RlUGlja2VyOiBmYWxzZSxcbiAgYW5pbWF0aW9uOiBmYWxzZSxcbiAgc2t5QXRtb3NwaGVyZTogZmFsc2VcbiAgLy8gIGltYWdlcnlQcm92aWRlcjogbmV3IENlc2l1bS5BcmNHaXNNYXBTZXJ2ZXJJbWFnZXJ5UHJvdmlkZXIoe1xuICAvLyAgICB1cmw6ICdodHRwOi8vc2VydmVyLmFyY2dpc29ubGluZS5jb20vQXJjR0lTL3Jlc3Qvc2VydmljZXMvV29ybGRfU3RyZWV0X01hcC9NYXBTZXJ2ZXInXG4gIC8vICB9KVxuXG59KTtcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNlc2l1bS12aWV3ZXItYm90dG9tJykuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG5cbi8vIEZJTFRFUiBOQVZCQVJcblxudmFyIGNyb3NzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Nyb3NzJyk7XG52YXIgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sZWZ0X21lbnUnKTtcbnZhciBjcm9zc19kaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZXhpdCcpO1xuY3Jvc3MuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1vcGVuJykgPT0gJ3RydWUnKSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3BlbicsIGZhbHNlKTtcbiAgICBtZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIGNyb3NzX2Rpdi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZSgnZGF0YS1vcGVuJywgdHJ1ZSk7XG4gICAgbWVudS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICBjcm9zc19kaXYuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gIH1cbn0pO1xuXG4vLyBTQVRFTExJVEVTXG5cbmNsYXNzIHNhdCB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIGlkLCBkYXRlLCBpbmZvcywgcG9zKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5kYXRlID0gZGF0ZTtcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgdGhpcy50cnVlX3BvcyA9IHBvcztcbiAgICB0aGlzLnBvcyA9IHh5emxsaChwb3MpO1xuICAgIHRoaXMuaW5mb3MgPSBpbmZvcztcbiAgICB0aGlzLm9iamVjdCA9IG5ldyBDZXNpdW0uRW50aXR5KHtcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgcG9zaXRpb246IG5ldyBDZXNpdW0uQ2FydGVzaWFuMy5mcm9tRGVncmVlcyh0aGlzLnBvc1swXSwgdGhpcy5wb3NbMV0sIHRoaXMucG9zWzJdICogMTAwMCksXG4gICAgICBlbGxpcHNvaWQ6IHtcbiAgICAgICAgcmFkaWk6IG5ldyBDZXNpdW0uQ2FydGVzaWFuMyg3MDAwMC4wLCA3MDAwMC4wLCA3MDAwMC4wKSxcbiAgICAgICAgbWF0ZXJpYWw6IENlc2l1bS5Db2xvci5HUkVFTlxuXG4gICAgICB9LFxuICAgICAgbGFiZWw6IHtcbiAgICAgICAgdGV4dDogdGhpcy5uYW1lLFxuICAgICAgICBmb250OiAnMTBwdCBhcmlhbCcsXG4gICAgICAgIHN0eWxlOiBDZXNpdW0uTGFiZWxTdHlsZS5GSUxMX0FORF9PVVRMSU5FLFxuICAgICAgICBvdXRsaW5lV2lkdGg6IDIsXG4gICAgICAgIHZlcnRpY2FsT3JpZ2luOiBDZXNpdW0uVmVydGljYWxPcmlnaW4uQk9UVE9NLFxuICAgICAgICBwaXhlbE9mZnNldDogbmV3IENlc2l1bS5DYXJ0ZXNpYW4yKDAsIC0yNSlcbiAgICAgIH1cblxuICAgIH0pO1xuICAgIHRoaXMucG9wdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLnBvcHVwLmNsYXNzTmFtZSA9ICdwb3AtdXAnO1xuICAgIHRoaXMucG9wdXAuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpO1xuICAgIHRoaXMucG9wdXAuY2hpbGRyZW5bMF0uY2xhc3NOYW1lID0gJ3BvcC11cC1jb250YWluZXInO1xuICAgIHRoaXMucG9wdXAuY2hpbGRyZW5bMF0uaW5uZXJIVE1MID0gJzxwIGNsYXNzPVwibmFtZVwiPicgKyB0aGlzLm5hbWUgKyAnPC9wPjxwPkxhdW5jaGVkIG9uIHRoZSAnICsgdGhpcy5kYXRlICsgJzwvcD48cD5PcmdhbmlzYXRpb24gOiAnICsgdGhpcy5pbmZvcy5jb3VudHJ5ICsgJzwvcD48cD5NYXNzIDogJyArIHRoaXMuaW5mb3MubWFzcyArICc8L3A+PHA+JyArIHRoaXMuaW5mb3MuZGVzY3JpcHRpb24gKyAnPC9wPic7XG5cbiAgICB0aGlzLmNyZWF0ZSgpO1xuICB9XG5cbiAgY3JlYXRlKCkge1xuICAgIHZpZXdlci5lbnRpdGllcy5hZGQodGhpcy5vYmplY3QpO1xuICB9XG59XG5cbnZhciBzYXRlbGxpdGVzID0gW107XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgc2F0cy5sZW5ndGg7IGkrKykge1xuICBzYXRlbGxpdGVzLnB1c2gobmV3IHNhdChzYXRzW2ldLm5hbWUsIHNhdHNbaV0uaWQsIHNhdHNbaV0uZGF0ZSwgc2F0c1tpXS5pbmZvcywgc2F0c1tpXS5wb3MpKTtcbn1cblxuY29uc29sZS5sb2coc2F0ZWxsaXRlcyk7XG5cbi8vIFBPUFVQXG5cbnZhciBsYXN0X3BvcHVwO1xuXG52YXIgaGFuZGxlciA9IG5ldyBDZXNpdW0uU2NyZWVuU3BhY2VFdmVudEhhbmRsZXIodmlld2VyLnNjZW5lLmNhbnZhcyk7XG5oYW5kbGVyLnNldElucHV0QWN0aW9uKGZ1bmN0aW9uIChjbGljaykge1xuICB2YXIgcGlja2VkT2JqZWN0ID0gdmlld2VyLnNjZW5lLnBpY2soY2xpY2sucG9zaXRpb24pO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNhdGVsbGl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoQ2VzaXVtLmRlZmluZWQocGlja2VkT2JqZWN0KSAmJiAocGlja2VkT2JqZWN0LmlkID09IHNhdGVsbGl0ZXNbaV0ub2JqZWN0KSkge1xuICAgICAgaWYgKGxhc3RfcG9wdXAgIT0gdW5kZWZpbmVkKSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykucmVtb3ZlQ2hpbGQobGFzdF9wb3B1cCk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykuYXBwZW5kQ2hpbGQoc2F0ZWxsaXRlc1tpXS5wb3B1cCk7XG4gICAgICBsYXN0X3BvcHVwID0gc2F0ZWxsaXRlc1tpXS5wb3B1cDtcbiAgICB9XG4gIH1cbn0sIENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50VHlwZS5MRUZUX0NMSUNLKTtcblxuLy8gRklMVEVSIFNMSURFUlxuXG52YXIgcGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yYW5nZS1zbGlkZXJcIik7XG5cbnZhclxuICByYW5nZVMgPSBwYXJlbnQucXVlcnlTZWxlY3RvckFsbChcImlucHV0W3R5cGU9cmFuZ2VdXCIpLFxuICBudW1iZXJTID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFt0eXBlPW51bWJlcl1cIik7XG5cbnJhbmdlUy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICBlbC5vbmlucHV0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzbGlkZTEgPSBwYXJzZUZsb2F0KHJhbmdlU1swXS52YWx1ZSksXG4gICAgICBzbGlkZTIgPSBwYXJzZUZsb2F0KHJhbmdlU1sxXS52YWx1ZSk7XG5cbiAgICBpZiAoc2xpZGUxID4gc2xpZGUyKSB7XG4gICAgICBbc2xpZGUxLCBzbGlkZTJdID0gW3NsaWRlMiwgc2xpZGUxXTtcbiAgICAgIC8vIHZhciB0bXAgPSBzbGlkZTI7XG4gICAgICAvLyBzbGlkZTIgPSBzbGlkZTE7XG4gICAgICAvLyBzbGlkZTEgPSB0bXA7XG4gICAgfVxuXG4gICAgbnVtYmVyU1swXS52YWx1ZSA9IHNsaWRlMTtcbiAgICBudW1iZXJTWzFdLnZhbHVlID0gc2xpZGUyO1xuXG4gICAgZmlsdGVyX2RhdGUoW251bWJlclNbMF0udmFsdWUsIG51bWJlclNbMV0udmFsdWVdKTtcbiAgfVxufSk7XG5cbm51bWJlclMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgZWwub25ibHVyID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBudW1iZXIxID0gcGFyc2VGbG9hdChudW1iZXJTWzBdLnZhbHVlKSxcbiAgICAgIG51bWJlcjIgPSBwYXJzZUZsb2F0KG51bWJlclNbMV0udmFsdWUpO1xuXG4gICAgaWYgKG51bWJlcjEgPiBudW1iZXIyKSB7XG4gICAgICB2YXIgdG1wID0gbnVtYmVyMTtcbiAgICAgIG51bWJlclNbMF0udmFsdWUgPSBudW1iZXIyO1xuICAgICAgbnVtYmVyU1sxXS52YWx1ZSA9IHRtcDtcbiAgICB9XG5cbiAgICByYW5nZVNbMF0udmFsdWUgPSBudW1iZXIxO1xuICAgIHJhbmdlU1sxXS52YWx1ZSA9IG51bWJlcjI7XG5cbiAgICBmaWx0ZXJfZGF0ZShbcmFuZ2VTWzBdLnZhbHVlLCByYW5nZVNbMV0udmFsdWVdKTtcbiAgfVxuICBlbC5vbmtleXVwID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChldmVudC5rZXlDb2RlID09IDEzKSB7XG4gICAgICBlbC5ibHVyKCk7XG4gICAgfVxuICB9XG59KTtcblxuZnVuY3Rpb24gZmlsdGVyX2RhdGUoZGF0ZXMpIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzYXRlbGxpdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNhdF9kYXRlID0gbmV3IERhdGUoc2F0ZWxsaXRlc1tpXS5kYXRlKTtcbiAgICB2YXIgc2F0X2RhdGUgPSBzYXRfZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIGlmIChkYXRlc1swXSA+IHNhdF9kYXRlIHx8IGRhdGVzWzFdIDwgc2F0X2RhdGUpIHtcbiAgICAgIHNhdGVsbGl0ZXNbaV0ub2JqZWN0LnNob3cgPSBmYWxzZTtcbiAgICB9IGVsc2Ugc2F0ZWxsaXRlc1tpXS5vYmplY3Quc2hvdyA9IHRydWU7XG4gIH1cbn1cblxuLy8gIEZJTFRFUlxuXG52YXIgc2VsZWN0X29yZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdCcpO1xuXG5zZWxlY3Rfb3JnLm9uY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNhdGVsbGl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodGhpcy52YWx1ZSA9PSAnT3JnYW5pc2F0aW9uJykgc2F0ZWxsaXRlc1tpXS5vYmplY3Quc2hvdyA9IHRydWU7XG4gICAgZWxzZSB7XG4gICAgICBpZiAodGhpcy52YWx1ZSA9PSAnT3RoZXJzJykge1xuICAgICAgICBpZiAoc2F0ZWxsaXRlc1tpXS5pbmZvcyAhPSAnUGFzIGRlIGRvbm7DqWVzJykge1xuICAgICAgICAgIHNhdGVsbGl0ZXNbaV0ub2JqZWN0LnNob3cgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHNhdGVsbGl0ZXNbaV0ub2JqZWN0LnNob3cgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChzYXRlbGxpdGVzW2ldLmluZm9zLmNvdW50cnkgPT0gdGhpcy52YWx1ZSkge1xuICAgICAgICBzYXRlbGxpdGVzW2ldLm9iamVjdC5zaG93ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBzYXRlbGxpdGVzW2ldLm9iamVjdC5zaG93ID0gZmFsc2U7XG4gICAgfVxuICB9XG59XG5cbnZhciBzZWFyY2ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmFtZScpO1xuXG5zZWFyY2gub25jaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBuYW1lID0gdGhpcy52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNhdGVsbGl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc2F0ZWxsaXRlc1tpXS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobmFtZSkpIHtcbiAgICAgIHNhdGVsbGl0ZXNbaV0ub2JqZWN0LnNob3cgPSB0cnVlO1xuICAgIH0gZWxzZSBzYXRlbGxpdGVzW2ldLm9iamVjdC5zaG93ID0gZmFsc2U7XG4gIH1cbn1cbiJdfQ==
