"use strict";function geodGBL(){var e;"undefined"==(e=void 0===EARTH_A?"undefined":_typeof(EARTH_A))&&wgs84()}function earthcon(e,t){var a,n,r,s,i;s=Number(e),i=Number(t),a=1-i/s,r=1-i*i/(s*s),n=Math.sqrt(r),EARTH_A=s,EARTH_B=i,EARTH_F=a,EARTH_Ecc=n,EARTH_Esq=r}function wgs84(){var e,t,a;e=6378.137,a=1/298.257223563,t=e*(1-a),earthcon(e,t)}function radcur(e){var t,a,n,r,s,i,o,u,l,c,h,d,p,v,f,m,b=new Array(3),y=Math.PI/180;return geodGBL(),t=EARTH_A,a=EARTH_B,r=t*t,s=a*a,i=1-s/r,Math.sqrt(i),n=Number(e),o=Math.cos(y*n),u=Math.sin(y*n),l=1-i*u*u,c=Math.sqrt(l),h=t/c,d=h*(1-i)/l,p=h*o,m=(1-i)*h*u,v=p*p+m*m,f=Math.sqrt(v),b[0]=f,b[1]=h,b[2]=d,b}function rearth(e){var t,a;return a=Number(e),t=radcur(a),t[0]}function gc2gd(e,t){var a,n,r,s,i,o,u,l,c,h=Math.PI/180,d=1/h,p=new Array(3);return geodGBL(),n=Number(e),r=Number(t),i=EARTH_Ecc,o=i*i,l=r,p=radcur(n),s=p[1],c=1-o*s/(s+l),u=Math.tan(h*n)/c,a=d*Math.atan(u),p=radcur(a),s=p[1],c=1-o*s/(s+l),u=Math.tan(h*n)/c,a=d*Math.atan(u)}function gd2gc(e,t){var a,n,r,s,i,o,u,l,c=Math.PI/180,h=1/c,d=new Array(3);return geodGBL(),a=Number(e),n=Number(t),s=EARTH_Ecc,i=s*s,u=n,d=radcur(a),r=d[1],l=1-i*r/(r+u),o=Math.tan(c*a)*l,h*Math.atan(o)}function llenu(e,t){var a,n,r,s,i,o,u,l=new Array(3),c=new Array(3),h=new Array(3),d=new Array(3),r=Math.PI/180;return a=Number(e),n=Number(t),s=Math.cos(r*a),i=Math.sin(r*a),o=Math.cos(r*n),u=Math.sin(r*n),l[0]=-u,l[1]=o,l[2]=0,c[0]=-o*i,c[1]=-u*i,c[2]=s,h[0]=o*s,h[1]=u*s,h[2]=i,d[0]=l,d[1]=c,d[2]=h,d}function xyzllh(e){var t,a,n,r,s,i,o,u,l,c,h,d,p,v,f,m,b,y,g,w=Math.PI/180,A=new Array(3),S=new Array(3);if(geodGBL(),v=EARTH_Esq,i=e[0],o=e[1],u=e[2],i=Number(i),o=Number(o),u=Number(u),s=Math.sqrt(i*i+o*o+u*u),t=Math.asin(u/s)/w,h=Math.abs(i)+Math.abs(o),y=h<1e-10?0:Math.atan2(o,i)/w,y<0&&(y+=360),(l=Math.sqrt(i*i+o*o))<1e-10)return b=90,u<0&&(b=-90),g=s-rearth(b),S[0]=b,S[1]=y,S[2]=g,S;r=rearth(t),g=s-r,b=gc2gd(t,g),A=radcur(b),p=A[1];for(var d=0;d<5&&(m=Math.sin(w*b),c=(u+p*v*m)/l,a=Math.atan(c)/w,n=a-b,b=a,f=Math.cos(w*b),A=radcur(b),p=A[1],g=l/f-p,!(Math.abs(n)<1e-12));d++);return S[0]=b,S[1]=y,S[2]=g,S}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function filter_date(e){for(var t=0;t<satellites.length;t++){var a=new Date(satellites[t].date),a=a.getFullYear();e[0]>a||e[1]<a?satellites[t].object.show=!1:satellites[t].object.show=!0}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EARTH_A,EARTH_B,EARTH_F,EARTH_Ecc,EARTH_Esq,_createClass=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),viewer=new Cesium.Viewer("cesiumContainer",{fullscreenButton:!1,baseLayerPicker:!1,timeline:!1,homeButton:!1,infoBoxe:!1,navigationHelpButton:!1,selectionIndicator:!1,vrButton:!1,geocoder:!1,sceneModePicker:!1,animation:!1});document.querySelector(".cesium-viewer-bottom").style.display="none";var cross=document.querySelector("#cross"),menu=document.querySelector(".left_menu"),cross_div=document.querySelector(".exit");cross.addEventListener("click",function(){"true"==this.getAttribute("data-open")?(this.setAttribute("data-open",!1),menu.classList.remove("active"),cross_div.classList.remove("active")):(this.setAttribute("data-open",!0),menu.classList.add("active"),cross_div.classList.add("active"))});for(var sat=function(){function e(t,a,n,r,s){_classCallCheck(this,e);var i=this;this.name=t,this.date=n,this.id=a,this.true_pos=s,this.pos=xyzllh(s),this.infos=r,this.object=new Cesium.Entity({id:this.id,name:this.name,position:new Cesium.Cartesian3.fromDegrees(this.pos[0],this.pos[1],1e3*this.pos[2]),ellipsoid:{radii:new Cesium.Cartesian3(5e4,5e4,5e4),material:Cesium.Color.RED},label:{text:this.name,font:"10pt arial",style:Cesium.LabelStyle.FILL_AND_OUTLINE,outlineWidth:2,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:new Cesium.Cartesian2(0,-25)}}),this.popup=new Cesium.Entity(i.name),this.popup={title:""},this.popup.description={getValue:function(){return'<div class="pop_up"><div class="exit"></div><h2>'+i.name+"</h2><p>Lauched : "+i.date+"</p><p> Country : "+i.infos.country+"</p><p> Function : "+i.infos.discipline+"</p><p> Mass : "+i.infos.mass+"</p><p>Description : "+i.infos.description+"</p></div>"}},this.create()}return _createClass(e,[{key:"create",value:function(){viewer.entities.add(this.object)}}]),e}(),satellites=[],i=0;i<sats.length;i++)satellites.push(new sat(sats[i].name,sats[i].id,sats[i].date,sats[i].infos,sats[i].pos));console.log(satellites);var handler=new Cesium.ScreenSpaceEventHandler(viewer.scene.canvas);handler.setInputAction(function(e){for(var t=viewer.scene.pick(e.position),a=0;a<satellites.length;a++)Cesium.defined(t)&&t.id==satellites[a].object&&(viewer.selectedEntity=satellites[a].popup)},Cesium.ScreenSpaceEventType.LEFT_CLICK);var parent=document.querySelector(".range-slider"),rangeS=parent.querySelectorAll("input[type=range]"),numberS=parent.querySelectorAll("input[type=number]");rangeS.forEach(function(e){e.oninput=function(){var e=parseFloat(rangeS[0].value),t=parseFloat(rangeS[1].value);if(e>t){var a=[t,e];e=a[0],t=a[1]}numberS[0].value=e,numberS[1].value=t,filter_date([numberS[0].value,numberS[1].value])}}),numberS.forEach(function(e){e.onblur=function(){var e=parseFloat(numberS[0].value),t=parseFloat(numberS[1].value);if(e>t){var a=e;numberS[0].value=t,numberS[1].value=a}rangeS[0].value=e,rangeS[1].value=t,filter_date([rangeS[0].value,rangeS[1].value])},e.onkeyup=function(){13==event.keyCode&&e.blur()}});var select_org=document.querySelector("select");select_org.onchange=function(){for(var e=0;e<satellites.length;e++)"Organisation"==this.value?satellites[e].object.show=!0:"Others"==this.value?"Pas de donnÃ©es"!=satellites[e].infos?satellites[e].object.show=!1:satellites[e].object.show=!0:satellites[e].infos.country==this.value?satellites[e].object.show=!0:satellites[e].object.show=!1};var search=document.querySelector("#name");search.onchange=function(){for(var e=this.value.toLowerCase(),t=0;t<satellites.length;t++)satellites[t].name.toLowerCase().includes(e)?satellites[t].object.show=!0:satellites[t].object.show=!1};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnZlcnRlci5qcyIsInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJnZW9kR0JMIiwidHN0Z2xvYmFsIiwiRUFSVEhfQSIsIl90eXBlb2YiLCJ3Z3M4NCIsImVhcnRoY29uIiwiYWkiLCJiaSIsImYiLCJlY2MiLCJlY2NzcSIsImEiLCJiIiwiTnVtYmVyIiwiTWF0aCIsInNxcnQiLCJFQVJUSF9CIiwiRUFSVEhfRiIsIkVBUlRIX0VjYyIsIkVBUlRIX0VzcSIsIndnczg0YSIsIndnczg0YiIsIndnczg0ZiIsInJhZGN1ciIsImxhdGkiLCJsYXQiLCJhc3EiLCJic3EiLCJjbGF0Iiwic2xhdCIsImRzcSIsImQiLCJybiIsInJtIiwicmhvIiwicnNxIiwiciIsInoiLCJycm5ybSIsIkFycmF5IiwiZHRyIiwiUEkiLCJjb3MiLCJzaW4iLCJyZWFydGgiLCJnYzJnZCIsImZsYXRnY2kiLCJhbHRrbWkiLCJmbGF0Z2QiLCJmbGF0Z2MiLCJhbHRrbSIsImVzcSIsInRsYXQiLCJhbHRub3ciLCJyYXRpbyIsInJ0ZCIsInRhbiIsImF0YW4iLCJnZDJnYyIsImZsYXRnZGkiLCJsbGVudSIsImZsYXRpIiwiZmxvbmkiLCJmbGF0IiwiZmxvbiIsImNsb24iLCJzbG9uIiwiZWUiLCJlbiIsImV1IiwiZW51IiwieHl6bGxoIiwieHZlYyIsImZsYXRuIiwiZGxhdCIsInJub3ciLCJycCIsIngiLCJ5IiwicCIsInRhbmdkIiwidGVzdHZhbCIsImtvdW50IiwibGxodmVjIiwiYXNpbiIsImFicyIsImF0YW4yIiwiZmlsdGVyX2RhdGUiLCJkYXRlcyIsImkiLCJzYXRlbGxpdGVzIiwibGVuZ3RoIiwic2F0X2RhdGUiLCJEYXRlIiwiZGF0ZSIsImdldEZ1bGxZZWFyIiwib2JqZWN0Iiwic2hvdyIsInZpZXdlciIsIkNlc2l1bSIsIlZpZXdlciIsImZ1bGxzY3JlZW5CdXR0b24iLCJiYXNlTGF5ZXJQaWNrZXIiLCJ0aW1lbGluZSIsImhvbWVCdXR0b24iLCJpbmZvQm94ZSIsIm5hdmlnYXRpb25IZWxwQnV0dG9uIiwic2VsZWN0aW9uSW5kaWNhdG9yIiwidnJCdXR0b24iLCJnZW9jb2RlciIsInNjZW5lTW9kZVBpY2tlciIsImFuaW1hdGlvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInN0eWxlIiwiZGlzcGxheSIsImNyb3NzIiwibWVudSIsImNyb3NzX2RpdiIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0aGlzIiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwic2F0IiwibmFtZSIsImlkIiwiaW5mb3MiLCJwb3MiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGF0IiwidHJ1ZV9wb3MiLCJFbnRpdHkiLCJwb3NpdGlvbiIsIkNhcnRlc2lhbjMiLCJmcm9tRGVncmVlcyIsImVsbGlwc29pZCIsInJhZGlpIiwibWF0ZXJpYWwiLCJDb2xvciIsIlJFRCIsImxhYmVsIiwidGV4dCIsImZvbnQiLCJMYWJlbFN0eWxlIiwiRklMTF9BTkRfT1VUTElORSIsIm91dGxpbmVXaWR0aCIsInZlcnRpY2FsT3JpZ2luIiwiVmVydGljYWxPcmlnaW4iLCJCT1RUT00iLCJwaXhlbE9mZnNldCIsIkNhcnRlc2lhbjIiLCJwb3B1cCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJnZXRWYWx1ZSIsImNvdW50cnkiLCJkaXNjaXBsaW5lIiwibWFzcyIsImNyZWF0ZSIsImVudGl0aWVzIiwic2F0cyIsInB1c2giLCJjb25zb2xlIiwibG9nIiwiaGFuZGxlciIsIlNjcmVlblNwYWNlRXZlbnRIYW5kbGVyIiwic2NlbmUiLCJjYW52YXMiLCJzZXRJbnB1dEFjdGlvbiIsImNsaWNrIiwicGlja2VkT2JqZWN0IiwicGljayIsImRlZmluZWQiLCJzZWxlY3RlZEVudGl0eSIsIlNjcmVlblNwYWNlRXZlbnRUeXBlIiwiTEVGVF9DTElDSyIsInBhcmVudCIsInJhbmdlUyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJudW1iZXJTIiwiZm9yRWFjaCIsImVsIiwib25pbnB1dCIsInNsaWRlMSIsInBhcnNlRmxvYXQiLCJ2YWx1ZSIsInNsaWRlMiIsIl9yZWYiLCJvbmJsdXIiLCJudW1iZXIxIiwibnVtYmVyMiIsInRtcCIsIm9ua2V5dXAiLCJldmVudCIsImtleUNvZGUiLCJibHVyIiwic2VsZWN0X29yZyIsIm9uY2hhbmdlIiwic2VhcmNoIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyJdLCJtYXBwaW5ncyI6IllBa0JBLFNBQVNBLFdBS1AsR0FBSUMsRUFHYSxlQURqQkEsRUFBQSxTQUFtQkMsUUFBbkIsWUFBQUMsUUFBbUJELFdBQ1dFLFFBTWhDLFFBQVNDLFVBQVNDLEVBQUlDLEdBU3BCLEdBQUlDLEdBQUdDLEVBQUtDLEVBQU9DLEVBQUdDLENBRXRCRCxHQUFJRSxPQUFPUCxHQUNYTSxFQUFJQyxPQUFPTixHQUVYQyxFQUFJLEVBQUlJLEVBQUlELEVBQ1pELEVBQVEsRUFBSUUsRUFBSUEsR0FBS0QsRUFBSUEsR0FDekJGLEVBQU1LLEtBQUtDLEtBQUtMLEdBRWhCUixRQUFVUyxFQUNWSyxRQUFVSixFQUNWSyxRQUFVVCxFQUNWVSxVQUFZVCxFQUNaVSxVQUFZVCxFQU1kLFFBQVNOLFNBVVAsR0FBSWdCLEdBQVFDLEVBQVFDLENBRXBCRixHQUFTLFNBQ1RFLEVBQVMsRUFBTSxjQUNmRCxFQUFTRCxHQUFVLEVBQU1FLEdBRXpCakIsU0FBU2UsRUFBUUMsR0FPbkIsUUFBU0UsUUFBT0MsR0FlZCxHQUlJYixHQUFHQyxFQUFHYSxFQUNOQyxFQUFLQyxFQUFLakIsRUFBWWtCLEVBQU1DLEVBQzVCQyxFQUFLQyxFQUFHQyxFQUFJQyxFQUFJQyxFQUFLQyxFQUFLQyxFQUFHQyxFQU43QkMsRUFBUSxHQUFJQyxPQUFNLEdBRWxCQyxFQUFNMUIsS0FBSzJCLEdBQUssR0FzQ3BCLE9BOUJBekMsV0FFQVcsRUFBSVQsUUFDSlUsRUFBSUksUUFFSlUsRUFBTWYsRUFBSUEsRUFDVmdCLEVBQU1mLEVBQUlBLEVBQ1ZGLEVBQVEsRUFBSWlCLEVBQU1ELEVBQ1paLEtBQUtDLEtBQUtMLEdBRWhC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QVdELEdBQUdPLE9BQU9DLE1BQU8sRUFDMUJQLFdBQVdELEdBQUd3QyxNQUFNNkIsU0FBV3RDLEtBQUtvRSxNQUM3Q2xHLFdBQVdELEdBQUdPLE9BQU9DLE1BQU8sRUFDdkJQLFdBQVdELEdBQUdPLE9BQU9DLE1BQU8sRUFLekMsSUFBSXdHLFFBQVN6RixTQUFTQyxjQUFjLFFBRXBDd0YsUUFBT0QsU0FBVyxXQUVkLElBQUssR0FERHpFLEdBQU9QLEtBQUtvRSxNQUFNYyxjQUNiakgsRUFBSSxFQUFHQSxFQUFJQyxXQUFXQyxPQUFRRixJQUNqQ0MsV0FBV0QsR0FBR3NDLEtBQUsyRSxjQUFjQyxTQUFTNUUsR0FDNUNyQyxXQUFXRCxHQUFHTyxPQUFPQyxNQUFPLEVBQ3ZCUCxXQUFXRCxHQUFHTyxPQUFPQyxNQUFPIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiAgICAgICAgICAgICBnZW9kZXN5IHJvdXRpbmVzIGluIEphdmFTY3JpcHRcbiAgICAgICAgICAgICAgICAgSmFtZXMgUi4gQ2x5bmNoIE5QUyAvIDIwMDNcbiAgICAgICAgICAgICAgIFxuICAgICAgICAgIERvbmUgZm9yIHN1cHBvcnQgb2Ygd2ViIGVkdWNhdGlvbiBwYWdlc1xuXG5cbiAgICAgICAgICA9PSBtdXN0IGNvbnZlcnQgaW5wdXRzIHRvIG51bWJlcnMgZm9yIHNhZmV0eSA9PVxuICAgICAgICAgID09IGlmIHN0cmluZyBjb21lcyBpbiAtIHNvbWV0aW1lcyB3b3Jrcywgc29tZXRpbWVzIG5vdCAhPT1cbiovXG5cbnZhciBFQVJUSF9BO1xudmFyIEVBUlRIX0I7XG52YXIgRUFSVEhfRjtcbnZhciBFQVJUSF9FY2M7XG52YXIgRUFSVEhfRXNxO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5mdW5jdGlvbiBnZW9kR0JMKClcblxuLy8gICAgICAgICAgICAgdGVzdCBhbmQgZW5zdXJlIGdlb2Rlc3kgZ2xvYmFscyBsb2FkZWRcbntcblxuICB2YXIgdHN0Z2xvYmFsXG5cbiAgdHN0Z2xvYmFsID0gdHlwZW9mIEVBUlRIX0E7XG4gIGlmICh0c3RnbG9iYWwgPT0gXCJ1bmRlZmluZWRcIikgd2dzODQoKVxuXG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIGVhcnRoY29uKGFpLCBiaSlcblxuLyogICAgICAgIFNldHMgRWFydGggQ29uc3RhbnRzIGFzIGdsb2JhbHNcbiAgICAgICAgICAgICAtLSAgaW5wdXQgYSxiXG4gICAgICAgICAgICAgLS0gIExlYXZlcyBHbG9iYWxzIFxuICAgICAgICAgICAgICAgICBFQVJUSF9BICAgICAgRUFSVEhfQiAgIEVBUlRIX0YgIEVBUlRIX0VjY1xuKi9cblxue1xuICB2YXIgZiwgZWNjLCBlY2NzcSwgYSwgYlxuXG4gIGEgPSBOdW1iZXIoYWkpO1xuICBiID0gTnVtYmVyKGJpKTtcblxuICBmID0gMSAtIGIgLyBhO1xuICBlY2NzcSA9IDEgLSBiICogYiAvIChhICogYSk7XG4gIGVjYyA9IE1hdGguc3FydChlY2NzcSk7XG5cbiAgRUFSVEhfQSA9IGE7XG4gIEVBUlRIX0IgPSBiO1xuICBFQVJUSF9GID0gZjtcbiAgRUFSVEhfRWNjID0gZWNjO1xuICBFQVJUSF9Fc3EgPSBlY2NzcTtcbn1cblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5mdW5jdGlvbiB3Z3M4NCgpXG5cbi8qICAgICAgICBXR1M4NCBFYXJ0aCBDb25zdGFudHNcbiAgICAgICAgICAgICAtLSAgcmV0dXJucyBhLGIsZixlICAtLVxuICAgICAgICAgICAgIC0tICBMZWF2ZXMgR2xvYmFscyBcbiAgICAgICAgICAgICAgICAgRUFSVEhfQSAgICAgIEVBUlRIX0IgICBFQVJUSF9GICBFQVJUSF9FY2NcblxuKi9cblxue1xuICB2YXIgd2dzODRhLCB3Z3M4NGIsIHdnczg0ZlxuXG4gIHdnczg0YSA9IDYzNzguMTM3O1xuICB3Z3M4NGYgPSAxLjAgLyAyOTguMjU3MjIzNTYzO1xuICB3Z3M4NGIgPSB3Z3M4NGEgKiAoMS4wIC0gd2dzODRmKTtcblxuICBlYXJ0aGNvbih3Z3M4NGEsIHdnczg0Yik7XG5cbn1cblxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5mdW5jdGlvbiByYWRjdXIobGF0aSlcblxuLypcbiAgICAgICBjb21wdXRlIHRoZSByYWRpaSBhdCB0aGUgZ2VvZGV0aWMgbGF0aXR1ZGUgbGF0IChpbiBkZWdyZWVzKVxuICAgICBcbiAgICAgaW5wdXQ6XG4gICAgICAgICAgICAgICBsYXQgICAgICAgZ2VvZGV0aWMgbGF0aXR1ZGUgaW4gZGVncmVlc1xuICAgICBvdXRwdXQ6ICAgXG4gICAgICAgICAgICAgICBycm5ybSAgICAgYW4gYXJyYXkgMyBsb25nXG4gICAgICAgICAgICAgICAgICAgICAgICAgciwgIHJuLCAgcm0gICBpbiBrbVxuXG4qL1xuXG57XG5cbiAgdmFyIHJybnJtID0gbmV3IEFycmF5KDMpXG5cbiAgdmFyIGR0ciA9IE1hdGguUEkgLyAxODAuMFxuXG4gIHZhciBhLCBiLCBsYXRcbiAgdmFyIGFzcSwgYnNxLCBlY2NzcSwgZWNjLCBjbGF0LCBzbGF0XG4gIHZhciBkc3EsIGQsIHJuLCBybSwgcmhvLCByc3EsIHIsIHpcblxuICAvLyAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIGdlb2RHQkwoKTtcblxuICBhID0gRUFSVEhfQTtcbiAgYiA9IEVBUlRIX0I7XG5cbiAgYXNxID0gYSAqIGE7XG4gIGJzcSA9IGIgKiBiO1xuICBlY2NzcSA9IDEgLSBic3EgLyBhc3E7XG4gIGVjYyA9IE1hdGguc3FydChlY2NzcSk7XG5cbiAgbGF0ID0gTnVtYmVyKGxhdGkpO1xuXG4gIGNsYXQgPSBNYXRoLmNvcyhkdHIgKiBsYXQpO1xuICBzbGF0ID0gTWF0aC5zaW4oZHRyICogbGF0KTtcblxuICBkc3EgPSAxLjAgLSBlY2NzcSAqIHNsYXQgKiBzbGF0O1xuICBkID0gTWF0aC5zcXJ0KGRzcSk7XG5cbiAgcm4gPSBhIC8gZDtcbiAgcm0gPSBybiAqICgxLjAgLSBlY2NzcSkgLyBkc3E7XG5cbiAgcmhvID0gcm4gKiBjbGF0O1xuICB6ID0gKDEuMCAtIGVjY3NxKSAqIHJuICogc2xhdDtcbiAgcnNxID0gcmhvICogcmhvICsgeiAqIHo7XG4gIHIgPSBNYXRoLnNxcnQocnNxKTtcblxuICBycm5ybVswXSA9IHI7XG4gIHJybnJtWzFdID0gcm47XG4gIHJybnJtWzJdID0gcm07XG5cbiAgcmV0dXJuIChycm5ybSk7XG5cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLy8gICAgICAgIHBoeXNpY2FsIHJhZGl1cyBvZiBlYXJ0aCBmcm9tIGdlb2RldGljIGxhdGl0dWRlXG5cbmZ1bmN0aW9uIHJlYXJ0aChsYXRpKSB7XG4gIHZhciBycm5ybSwgciwgbGF0XG5cbiAgbGF0ID0gTnVtYmVyKGxhdGkpO1xuXG4gIHJybnJtID0gcmFkY3VyKGxhdCk7XG4gIHIgPSBycm5ybVswXTtcblxuICByZXR1cm4gKHIpO1xuXG59XG5cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZnVuY3Rpb24gZ2MyZ2QoZmxhdGdjaSwgYWx0a21pKVxuXG4vKiAgICAgICAgZ2VvY2VudHJpYyBsYXRpdHVkZSB0byBnZW9kZXRpYyBsYXRpdHVkZVxuXG4gICAgIElucHV0OlxuICAgICAgICAgICAgICAgZmxhdGdjICAgIGdlb2NlbnRyaWMgbGF0aXR1ZGUgZGVnLlxuICAgICAgICAgICAgICAgYWx0a20gICAgIGFsdGl0aWRlIGluIGttXG4gICAgIG91cHV0OlxuICAgICAgICAgICAgICAgZmxhdGdkICAgIGdlb2RldGljIGxhdGl0dWRlIGluIGRlZ1xuXG4qL1xuXG57XG5cbiAgdmFyIGR0ciA9IE1hdGguUEkgLyAxODAuMDtcbiAgdmFyIHJ0ZCA9IDEgLyBkdHI7XG5cbiAgdmFyIGZsYXRnZCwgZmxhdGdjLCBhbHRrbVxuICB2YXIgcnJucm0gPSBuZXcgQXJyYXkoMylcbiAgdmFyIHJlLCBybiwgZWNjLCBlc3E7XG4gIHZhciBzbGF0LCBjbGF0LCB0bGF0XG4gIHZhciBhbHRub3csIHJhdGlvXG5cbiAgZ2VvZEdCTCgpO1xuXG4gIGZsYXRnYyA9IE51bWJlcihmbGF0Z2NpKTtcbiAgYWx0a20gPSBOdW1iZXIoYWx0a21pKTtcblxuICBlY2MgPSBFQVJUSF9FY2M7XG4gIGVzcSA9IGVjYyAqIGVjYztcblxuICAvLyAgICAgICAgICAgICBhcHByb3hpbWF0aW9uIGJ5IHN0YWdlc1xuICAvLyAgICAgICAgICAgICAxc3QgdXNlIGdjLWxhdCBhcyBpZiBpcyBnZCwgdGhlbiBjb3JyZWN0IGFsdCBkZXBlbmRlbmNlXG5cbiAgYWx0bm93ID0gYWx0a207XG5cbiAgcnJucm0gPSByYWRjdXIoZmxhdGdjKTtcbiAgcm4gPSBycm5ybVsxXTtcblxuICByYXRpbyA9IDEgLSBlc3EgKiBybiAvIChybiArIGFsdG5vdyk7XG5cbiAgdGxhdCA9IE1hdGgudGFuKGR0ciAqIGZsYXRnYykgLyByYXRpbztcbiAgZmxhdGdkID0gcnRkICogTWF0aC5hdGFuKHRsYXQpO1xuXG4gIC8vICAgICAgICBub3cgdXNlIHRoaXMgYXBwcm94aW1hdGlvbiBmb3IgZ2QtbGF0IHRvIGdldCBybiBldGMuXG5cbiAgcnJucm0gPSByYWRjdXIoZmxhdGdkKTtcbiAgcm4gPSBycm5ybVsxXTtcblxuICByYXRpbyA9IDEgLSBlc3EgKiBybiAvIChybiArIGFsdG5vdylcbiAgdGxhdCA9IE1hdGgudGFuKGR0ciAqIGZsYXRnYykgLyByYXRpbztcbiAgZmxhdGdkID0gcnRkICogTWF0aC5hdGFuKHRsYXQpO1xuXG4gIHJldHVybiBmbGF0Z2RcblxufVxuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuZnVuY3Rpb24gZ2QyZ2MoZmxhdGdkaSwgYWx0a21pKVxuXG4vKiAgICAgICAgZ2VvZGV0aWMgbGF0aXR1ZGUgdG8gZ2VvY2VudHJpYyBsYXRpdHVkZVxuXG4gICAgIElucHV0OlxuICAgICAgICAgICAgICAgZmxhdGdkICAgIGdlb2RldGljIGxhdGl0dWRlIGRlZy5cbiAgICAgICAgICAgICAgIGFsdGttICAgICBhbHRpdGlkZSBpbiBrbVxuICAgICBvdXB1dDpcbiAgICAgICAgICAgICAgIGZsYXRnYyAgICBnZW9jZW50cmljIGxhdGl0dWRlIGluIGRlZ1xuXG4qL1xuXG57XG5cbiAgdmFyIGR0ciA9IE1hdGguUEkgLyAxODAuMDtcbiAgdmFyIHJ0ZCA9IDEgLyBkdHI7XG5cbiAgdmFyIGZsYXRnYywgZmxhdGdkLCBhbHRrbVxuICB2YXIgcnJucm0gPSBuZXcgQXJyYXkoMylcbiAgdmFyIHJlLCBybiwgZWNjLCBlc3E7XG4gIHZhciBzbGF0LCBjbGF0LCB0bGF0XG4gIHZhciBhbHRub3csIHJhdGlvXG5cbiAgZ2VvZEdCTCgpO1xuXG4gIGZsYXRnZCA9IE51bWJlcihmbGF0Z2RpKTtcbiAgYWx0a20gPSBOdW1iZXIoYWx0a21pKTtcblxuICBlY2MgPSBFQVJUSF9FY2M7XG4gIGVzcSA9IGVjYyAqIGVjYztcblxuICBhbHRub3cgPSBhbHRrbTtcblxuICBycm5ybSA9IHJhZGN1cihmbGF0Z2QpO1xuICBybiA9IHJybnJtWzFdO1xuXG4gIHJhdGlvID0gMSAtIGVzcSAqIHJuIC8gKHJuICsgYWx0bm93KTtcblxuICB0bGF0ID0gTWF0aC50YW4oZHRyICogZmxhdGdkKSAqIHJhdGlvO1xuICBmbGF0Z2MgPSBydGQgKiBNYXRoLmF0YW4odGxhdCk7XG5cbiAgcmV0dXJuIGZsYXRnYztcblxufVxuXG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmZ1bmN0aW9uIGxsZW51KGZsYXRpLCBmbG9uaSlcblxuLyogICAgICAgIGxhdGl0dWRlIGxvbmdpdHVkZSB0byBlYXN0LG5vcnRoLHVwIHVuaXQgdmVjdG9yc1xuXG4gICAgIGlucHV0OlxuICAgICAgICAgICAgICAgZmxhdCAgICAgIGxhdGl0dWRlIGluIGRlZ2VlcyBOXG4gICAgICAgICAgICAgICAgICAgICAgICAgWyBnYyAtPiBnYyBlbnUsICBnZCB1c3VhbCBlbnUgXVxuICAgICAgICAgICAgICAgZmxvbiAgICAgIGxvbmdpdHVkZSBpbiBkZWdyZWVzIEVcbiAgICAgb3V0cHV0OlxuICAgICAgICAgICAgICAgZW51WzNbM11dICBwYWNrZWQgMy11bml0IHZlY3RvcnMgLyBlYWNoIGEgMyB2ZWN0b3JcblxuKi9cblxue1xuXG4gIHZhciBmbGF0LCBmbG9uO1xuICB2YXIgZHRyLCBjbGF0LCBzbGF0LCBjbG9uLCBzbG9uO1xuICB2YXIgZWUgPSBuZXcgQXJyYXkoMyk7XG4gIHZhciBlbiA9IG5ldyBBcnJheSgzKTtcbiAgdmFyIGV1ID0gbmV3IEFycmF5KDMpO1xuXG4gIHZhciBlbnUgPSBuZXcgQXJyYXkoMyk7XG5cbiAgdmFyIGR0ciA9IE1hdGguUEkgLyAxODAuMFxuXG5cbiAgLy8gICAgICAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBmbGF0ID0gTnVtYmVyKGZsYXRpKTtcbiAgZmxvbiA9IE51bWJlcihmbG9uaSk7XG5cbiAgY2xhdCA9IE1hdGguY29zKGR0ciAqIGZsYXQpO1xuICBzbGF0ID0gTWF0aC5zaW4oZHRyICogZmxhdCk7XG4gIGNsb24gPSBNYXRoLmNvcyhkdHIgKiBmbG9uKTtcbiAgc2xvbiA9IE1hdGguc2luKGR0ciAqIGZsb24pO1xuXG4gIGVlWzBdID0gLXNsb247XG4gIGVlWzFdID0gY2xvbjtcbiAgZWVbMl0gPSAwLjA7XG5cbiAgZW5bMF0gPSAtY2xvbiAqIHNsYXQ7XG4gIGVuWzFdID0gLXNsb24gKiBzbGF0O1xuICBlblsyXSA9IGNsYXQ7XG5cbiAgZXVbMF0gPSBjbG9uICogY2xhdDtcbiAgZXVbMV0gPSBzbG9uICogY2xhdDtcbiAgZXVbMl0gPSBzbGF0O1xuXG4gIGVudVswXSA9IGVlO1xuICBlbnVbMV0gPSBlbjtcbiAgZW51WzJdID0gZXU7XG5cbiAgcmV0dXJuIGVudTtcblxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5mdW5jdGlvbiB4eXpsbGgoeHZlYylcblxuLyogICAgICAgIHh5eiB2ZWN0b3IgIHRvICBsYXQsbG9uLGhlaWdodFxuXG4gICAgIGlucHV0OlxuICAgICAgICAgIHh2ZWNbM10gICB4eXogRUNFRiBsb2NhdGlvblxuICAgICBvdXRwdXQ6XG5cbiAgICAgICAgICBsbGh2ZWNbM10gd2l0aCBjb21wb25lbnRzXG5cbiAgICAgICAgICBmbGF0ICAgICAgZ2VvZGV0aWMgbGF0aXR1ZGUgaW4gZGVnXG4gICAgICAgICAgZmxvbiAgICAgIGxvbmdpdHVkZSBpbiBkZWdcbiAgICAgICAgICBhbHRrbSAgICAgYWx0aXR1ZGUgaW4ga21cblxuKi9cblxue1xuXG4gIHZhciBkdHIgPSBNYXRoLlBJIC8gMTgwLjA7XG4gIHZhciBmbGF0Z2MsIGZsYXRuLCBkbGF0O1xuICB2YXIgcm5vdywgcnA7XG4gIHZhciB4LCB5LCB6LCBwO1xuICB2YXIgdGFuZ2MsIHRhbmdkO1xuXG4gIHZhciB0ZXN0dmFsLCBrb3VudDtcblxuICB2YXIgcm4sIGVzcTtcbiAgdmFyIGNsYXQsIHNsYXQ7XG4gIHZhciBycm5ybSA9IG5ldyBBcnJheSgzKTtcblxuICB2YXIgZmxhdCwgZmxvbiwgYWx0a207XG4gIHZhciBsbGh2ZWMgPSBuZXcgQXJyYXkoMyk7XG5cblxuICBnZW9kR0JMKCk7XG5cbiAgZXNxID0gRUFSVEhfRXNxO1xuXG4gIHggPSB4dmVjWzBdO1xuICB5ID0geHZlY1sxXTtcbiAgeiA9IHh2ZWNbMl07XG5cbiAgeCA9IE51bWJlcih4KTtcbiAgeSA9IE51bWJlcih5KTtcbiAgeiA9IE51bWJlcih6KTtcblxuICBycCA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5ICsgeiAqIHopO1xuXG4gIGZsYXRnYyA9IE1hdGguYXNpbih6IC8gcnApIC8gZHRyO1xuXG4gIHRlc3R2YWwgPSBNYXRoLmFicyh4KSArIE1hdGguYWJzKHkpO1xuICBpZiAodGVzdHZhbCA8IDEuMGUtMTApIHtcbiAgICBmbG9uID0gMC4wXG4gIH0gZWxzZSB7XG4gICAgZmxvbiA9IE1hdGguYXRhbjIoeSwgeCkgLyBkdHJcbiAgfVxuICBpZiAoZmxvbiA8IDAuMCkge1xuICAgIGZsb24gPSBmbG9uICsgMzYwLjBcbiAgfVxuXG4gIHAgPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSk7XG5cbiAgLy8gICAgICAgICAgICAgb24gcG9sZSBzcGVjaWFsIGNhc2VcblxuICBpZiAocCA8IDEuMGUtMTApIHtcbiAgICBmbGF0ID0gOTAuMFxuICAgIGlmICh6IDwgMC4wKSB7XG4gICAgICBmbGF0ID0gLTkwLjBcbiAgICB9XG5cbiAgICBhbHRrbSA9IHJwIC0gcmVhcnRoKGZsYXQpO1xuICAgIGxsaHZlY1swXSA9IGZsYXQ7XG4gICAgbGxodmVjWzFdID0gZmxvbjtcbiAgICBsbGh2ZWNbMl0gPSBhbHRrbTtcblxuICAgIHJldHVybiBsbGh2ZWM7XG4gIH1cblxuICAvLyAgICAgICAgZmlyc3QgaXRlcmF0aW9uLCB1c2UgZmxhdGdjIHRvIGdldCBhbHRpdHVkZSBcbiAgLy8gICAgICAgIGFuZCBhbHQgbmVlZGVkIHRvIGNvbnZlcnQgZ2MgdG8gZ2QgbGF0LlxuXG4gIHJub3cgPSByZWFydGgoZmxhdGdjKTtcbiAgYWx0a20gPSBycCAtIHJub3c7XG4gIGZsYXQgPSBnYzJnZChmbGF0Z2MsIGFsdGttKTtcblxuICBycm5ybSA9IHJhZGN1cihmbGF0KTtcbiAgcm4gPSBycm5ybVsxXTtcblxuICBmb3IgKHZhciBrb3VudCA9IDA7IGtvdW50IDwgNTsga291bnQrKykge1xuICAgIHNsYXQgPSBNYXRoLnNpbihkdHIgKiBmbGF0KTtcbiAgICB0YW5nZCA9ICh6ICsgcm4gKiBlc3EgKiBzbGF0KSAvIHA7XG4gICAgZmxhdG4gPSBNYXRoLmF0YW4odGFuZ2QpIC8gZHRyO1xuXG4gICAgZGxhdCA9IGZsYXRuIC0gZmxhdDtcbiAgICBmbGF0ID0gZmxhdG47XG4gICAgY2xhdCA9IE1hdGguY29zKGR0ciAqIGZsYXQpO1xuXG4gICAgcnJucm0gPSByYWRjdXIoZmxhdCk7XG4gICAgcm4gPSBycm5ybVsxXTtcblxuICAgIGFsdGttID0gKHAgLyBjbGF0KSAtIHJuO1xuXG4gICAgaWYgKE1hdGguYWJzKGRsYXQpIDwgMS4wZS0xMikge1xuICAgICAgYnJlYWtcbiAgICB9XG5cbiAgfVxuXG4gIGxsaHZlY1swXSA9IGZsYXQ7XG4gIGxsaHZlY1sxXSA9IGZsb247XG4gIGxsaHZlY1syXSA9IGFsdGttO1xuXG4gIHJldHVybiBsbGh2ZWM7XG5cbn0iLCJ2YXIgdmlld2VyID0gbmV3IENlc2l1bS5WaWV3ZXIoJ2Nlc2l1bUNvbnRhaW5lcicsIHtcblxuICBmdWxsc2NyZWVuQnV0dG9uOiBmYWxzZSxcbiAgYmFzZUxheWVyUGlja2VyOiBmYWxzZSxcbiAgdGltZWxpbmU6IGZhbHNlLFxuICBob21lQnV0dG9uOiBmYWxzZSxcbiAgaW5mb0JveGU6IGZhbHNlLFxuICBuYXZpZ2F0aW9uSGVscEJ1dHRvbjogZmFsc2UsXG4gIHNlbGVjdGlvbkluZGljYXRvcjogZmFsc2UsXG4gIHZyQnV0dG9uOiBmYWxzZSxcbiAgZ2VvY29kZXI6IGZhbHNlLFxuICBzY2VuZU1vZGVQaWNrZXI6IGZhbHNlLFxuICBhbmltYXRpb246IGZhbHNlLFxuICAvLyAgaW1hZ2VyeVByb3ZpZGVyOiBuZXcgQ2VzaXVtLkFyY0dpc01hcFNlcnZlckltYWdlcnlQcm92aWRlcih7XG4gIC8vICAgIHVybDogJ2h0dHA6Ly9zZXJ2ZXIuYXJjZ2lzb25saW5lLmNvbS9BcmNHSVMvcmVzdC9zZXJ2aWNlcy9Xb3JsZF9TdHJlZXRfTWFwL01hcFNlcnZlcidcbiAgLy8gIH0pXG5cbn0pO1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2VzaXVtLXZpZXdlci1ib3R0b20nKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cblxuLy8gRklMVEVSIE5BVkJBUlxuXG52YXIgY3Jvc3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY3Jvc3MnKTtcbnZhciBtZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxlZnRfbWVudScpO1xudmFyIGNyb3NzX2RpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5leGl0Jyk7XG5jcm9zcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLW9wZW4nKSA9PSAndHJ1ZScpIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZSgnZGF0YS1vcGVuJywgZmFsc2UpO1xuICAgIG1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgY3Jvc3NfZGl2LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKCdkYXRhLW9wZW4nLCB0cnVlKTtcbiAgICBtZW51LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIGNyb3NzX2Rpdi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgfVxufSk7XG5cbi8vIFNBVEVMTElURVNcblxuY2xhc3Mgc2F0IHtcbiAgY29uc3RydWN0b3IobmFtZSwgaWQsIGRhdGUsIGluZm9zLCBwb3MpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmRhdGUgPSBkYXRlO1xuICAgIHRoaXMuaWQgPSBpZDtcbiAgICB0aGlzLnRydWVfcG9zID0gcG9zO1xuICAgIHRoaXMucG9zID0geHl6bGxoKHBvcyk7XG4gICAgdGhpcy5pbmZvcyA9IGluZm9zO1xuICAgIHRoaXMub2JqZWN0ID0gbmV3IENlc2l1bS5FbnRpdHkoe1xuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICBwb3NpdGlvbjogbmV3IENlc2l1bS5DYXJ0ZXNpYW4zLmZyb21EZWdyZWVzKHRoaXMucG9zWzBdLCB0aGlzLnBvc1sxXSwgdGhpcy5wb3NbMl0gKiAxMDAwKSxcbiAgICAgIGVsbGlwc29pZDoge1xuICAgICAgICByYWRpaTogbmV3IENlc2l1bS5DYXJ0ZXNpYW4zKDUwMDAwLjAsIDUwMDAwLjAsIDUwMDAwLjApLFxuICAgICAgICBtYXRlcmlhbDogQ2VzaXVtLkNvbG9yLlJFRCxcblxuICAgICAgfSxcbiAgICAgIGxhYmVsOiB7XG4gICAgICAgIHRleHQ6IHRoaXMubmFtZSxcbiAgICAgICAgZm9udDogJzEwcHQgYXJpYWwnLFxuICAgICAgICBzdHlsZTogQ2VzaXVtLkxhYmVsU3R5bGUuRklMTF9BTkRfT1VUTElORSxcbiAgICAgICAgb3V0bGluZVdpZHRoOiAyLFxuICAgICAgICB2ZXJ0aWNhbE9yaWdpbjogQ2VzaXVtLlZlcnRpY2FsT3JpZ2luLkJPVFRPTSxcbiAgICAgICAgcGl4ZWxPZmZzZXQ6IG5ldyBDZXNpdW0uQ2FydGVzaWFuMigwLCAtMjUpXG4gICAgICB9XG5cbiAgICB9KTtcbiAgICB0aGlzLnBvcHVwID0gbmV3IENlc2l1bS5FbnRpdHkodGhhdC5uYW1lKTtcbiAgICB0aGlzLnBvcHVwID0ge1xuICAgICAgdGl0bGU6ICcnXG4gICAgfTtcbiAgICB0aGlzLnBvcHVwLmRlc2NyaXB0aW9uID0ge1xuICAgICAgZ2V0VmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPVwicG9wX3VwXCI+PGRpdiBjbGFzcz1cImV4aXRcIj48L2Rpdj48aDI+JyArIHRoYXQubmFtZSArICc8L2gyPjxwPkxhdWNoZWQgOiAnICsgdGhhdC5kYXRlICsgJzwvcD48cD4gQ291bnRyeSA6ICcgKyB0aGF0LmluZm9zLmNvdW50cnkgKyAnPC9wPjxwPiBGdW5jdGlvbiA6ICcgKyB0aGF0LmluZm9zLmRpc2NpcGxpbmUgKyAnPC9wPjxwPiBNYXNzIDogJyArIHRoYXQuaW5mb3MubWFzcyArICc8L3A+PHA+RGVzY3JpcHRpb24gOiAnICsgdGhhdC5pbmZvcy5kZXNjcmlwdGlvbiArICc8L3A+PC9kaXY+JztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5jcmVhdGUoKTtcbiAgfVxuXG4gIGNyZWF0ZSgpIHtcbiAgICB2aWV3ZXIuZW50aXRpZXMuYWRkKHRoaXMub2JqZWN0KTtcbiAgfVxufVxuXG52YXIgc2F0ZWxsaXRlcyA9IFtdO1xuXG5mb3IgKHZhciBpID0gMDsgaSA8IHNhdHMubGVuZ3RoOyBpKyspIHtcbiAgc2F0ZWxsaXRlcy5wdXNoKG5ldyBzYXQoc2F0c1tpXS5uYW1lLCBzYXRzW2ldLmlkLCBzYXRzW2ldLmRhdGUsIHNhdHNbaV0uaW5mb3MsIHNhdHNbaV0ucG9zKSk7XG59XG5cbmNvbnNvbGUubG9nKHNhdGVsbGl0ZXMpO1xuXG4vLyBJTkZPQk9YXG5cbnZhciBoYW5kbGVyID0gbmV3IENlc2l1bS5TY3JlZW5TcGFjZUV2ZW50SGFuZGxlcih2aWV3ZXIuc2NlbmUuY2FudmFzKTtcbmhhbmRsZXIuc2V0SW5wdXRBY3Rpb24oZnVuY3Rpb24gKGNsaWNrKSB7XG4gIHZhciBwaWNrZWRPYmplY3QgPSB2aWV3ZXIuc2NlbmUucGljayhjbGljay5wb3NpdGlvbik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2F0ZWxsaXRlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChDZXNpdW0uZGVmaW5lZChwaWNrZWRPYmplY3QpICYmIChwaWNrZWRPYmplY3QuaWQgPT0gc2F0ZWxsaXRlc1tpXS5vYmplY3QpKSB7XG4gICAgICB2aWV3ZXIuc2VsZWN0ZWRFbnRpdHkgPSBzYXRlbGxpdGVzW2ldLnBvcHVwO1xuICAgIH1cbiAgfVxufSwgQ2VzaXVtLlNjcmVlblNwYWNlRXZlbnRUeXBlLkxFRlRfQ0xJQ0spO1xuXG4vLyBGSUxURVIgU0xJREVSXG5cbnZhciBwYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJhbmdlLXNsaWRlclwiKTtcblxudmFyXG4gIHJhbmdlUyA9IHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRbdHlwZT1yYW5nZV1cIiksXG4gIG51bWJlclMgPSBwYXJlbnQucXVlcnlTZWxlY3RvckFsbChcImlucHV0W3R5cGU9bnVtYmVyXVwiKTtcblxucmFuZ2VTLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gIGVsLm9uaW5wdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNsaWRlMSA9IHBhcnNlRmxvYXQocmFuZ2VTWzBdLnZhbHVlKSxcbiAgICAgIHNsaWRlMiA9IHBhcnNlRmxvYXQocmFuZ2VTWzFdLnZhbHVlKTtcblxuICAgIGlmIChzbGlkZTEgPiBzbGlkZTIpIHtcbiAgICAgIFtzbGlkZTEsIHNsaWRlMl0gPSBbc2xpZGUyLCBzbGlkZTFdO1xuICAgICAgLy8gdmFyIHRtcCA9IHNsaWRlMjtcbiAgICAgIC8vIHNsaWRlMiA9IHNsaWRlMTtcbiAgICAgIC8vIHNsaWRlMSA9IHRtcDtcbiAgICB9XG5cbiAgICBudW1iZXJTWzBdLnZhbHVlID0gc2xpZGUxO1xuICAgIG51bWJlclNbMV0udmFsdWUgPSBzbGlkZTI7XG5cbiAgICBmaWx0ZXJfZGF0ZShbbnVtYmVyU1swXS52YWx1ZSwgbnVtYmVyU1sxXS52YWx1ZV0pO1xuICB9XG59KTtcblxubnVtYmVyUy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICBlbC5vbmJsdXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG51bWJlcjEgPSBwYXJzZUZsb2F0KG51bWJlclNbMF0udmFsdWUpLFxuICAgICAgbnVtYmVyMiA9IHBhcnNlRmxvYXQobnVtYmVyU1sxXS52YWx1ZSk7XG5cbiAgICBpZiAobnVtYmVyMSA+IG51bWJlcjIpIHtcbiAgICAgIHZhciB0bXAgPSBudW1iZXIxO1xuICAgICAgbnVtYmVyU1swXS52YWx1ZSA9IG51bWJlcjI7XG4gICAgICBudW1iZXJTWzFdLnZhbHVlID0gdG1wO1xuICAgIH1cblxuICAgIHJhbmdlU1swXS52YWx1ZSA9IG51bWJlcjE7XG4gICAgcmFuZ2VTWzFdLnZhbHVlID0gbnVtYmVyMjtcblxuICAgIGZpbHRlcl9kYXRlKFtyYW5nZVNbMF0udmFsdWUsIHJhbmdlU1sxXS52YWx1ZV0pO1xuICB9XG4gIGVsLm9ua2V5dXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gMTMpIHtcbiAgICAgIGVsLmJsdXIoKTtcbiAgICB9XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBmaWx0ZXJfZGF0ZShkYXRlcykge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNhdGVsbGl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc2F0X2RhdGUgPSBuZXcgRGF0ZShzYXRlbGxpdGVzW2ldLmRhdGUpO1xuICAgIHZhciBzYXRfZGF0ZSA9IHNhdF9kYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgaWYgKGRhdGVzWzBdID4gc2F0X2RhdGUgfHwgZGF0ZXNbMV0gPCBzYXRfZGF0ZSkge1xuICAgICAgc2F0ZWxsaXRlc1tpXS5vYmplY3Quc2hvdyA9IGZhbHNlO1xuICAgIH0gZWxzZSBzYXRlbGxpdGVzW2ldLm9iamVjdC5zaG93ID0gdHJ1ZTtcbiAgfVxufVxuXG4vLyAgRklMVEVSXG5cbnZhciBzZWxlY3Rfb3JnID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VsZWN0Jyk7XG5cbnNlbGVjdF9vcmcub25jaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2F0ZWxsaXRlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmICh0aGlzLnZhbHVlID09ICdPcmdhbmlzYXRpb24nKSBzYXRlbGxpdGVzW2ldLm9iamVjdC5zaG93ID0gdHJ1ZTtcbiAgICBlbHNlIHtcbiAgICAgIGlmICh0aGlzLnZhbHVlID09ICdPdGhlcnMnKSB7XG4gICAgICAgIGlmIChzYXRlbGxpdGVzW2ldLmluZm9zICE9ICdQYXMgZGUgZG9ubsOpZXMnKSB7XG4gICAgICAgICAgc2F0ZWxsaXRlc1tpXS5vYmplY3Quc2hvdyA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Ugc2F0ZWxsaXRlc1tpXS5vYmplY3Quc2hvdyA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHNhdGVsbGl0ZXNbaV0uaW5mb3MuY291bnRyeSA9PSB0aGlzLnZhbHVlKSB7XG4gICAgICAgIHNhdGVsbGl0ZXNbaV0ub2JqZWN0LnNob3cgPSB0cnVlO1xuICAgICAgfSBlbHNlIHNhdGVsbGl0ZXNbaV0ub2JqZWN0LnNob3cgPSBmYWxzZTtcbiAgICB9XG4gIH1cbn1cblxudmFyIHNlYXJjaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYW1lJyk7XG5cbnNlYXJjaC5vbmNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbmFtZSA9IHRoaXMudmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNhdGVsbGl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChzYXRlbGxpdGVzW2ldLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhuYW1lKSkge1xuICAgICAgICBzYXRlbGxpdGVzW2ldLm9iamVjdC5zaG93ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBzYXRlbGxpdGVzW2ldLm9iamVjdC5zaG93ID0gZmFsc2U7XG4gICAgfVxufVxuIl19
